{"version":3,"file":"js/257.1d68b193.js","mappings":"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","sources":["webpack://frontend/./src/components/common/RequestTimeline.vue","webpack://frontend/./src/components/common/RequestTimeline.vue?38c3","webpack://frontend/./src/services/divisionalAccessService.js","webpack://frontend/./src/services/ictOfficerService.js","webpack://frontend/./src/components/footer.vue","webpack://frontend/./src/components/footer.vue?1818","webpack://frontend/./src/services/dictAccessService.js","webpack://frontend/./src/services/headOfItService.js"],"sourcesContent":["<template>\n  <div\n    v-if=\"show\"\n    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[12000]\"\n    @click.self=\"close\"\n  >\n    <div\n      class=\"rounded-lg max-w-6xl w-full mx-6 h-[95vh] overflow-hidden bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 text-white flex flex-col timeline-typography\"\n    >\n      <!-- Modal Header -->\n      <div\n        class=\"flex items-center justify-between p-6 border-b border-blue-600/40 bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 text-white\"\n      >\n        <div>\n          <h2 class=\"text-2xl font-semibold text-white\">Request Timeline</h2>\n          <p class=\"text-base text-blue-200\" v-if=\"normalizedRequest\">\n            Request #{{ normalizedRequest.display_id }} - {{ normalizedRequest.staff_name || '—' }}\n          </p>\n        </div>\n        <button @click=\"close\" class=\"text-gray-400 hover:text-gray-600 transition-colors\">\n          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M6 18L18 6M6 6l12 12\"\n            ></path>\n          </svg>\n        </button>\n      </div>\n\n      <!-- Modal Body -->\n      <div class=\"p-6 overflow-y-auto flex-1\">\n        <div v-if=\"loading\" class=\"py-16 flex items-center justify-center\">\n          <div\n            class=\"flex items-center space-x-3 px-4 py-2 rounded-full bg-blue-700/40 border border-blue-400/40 shadow-lg backdrop-blur-sm\"\n          >\n            <div class=\"relative\">\n              <div\n                class=\"h-6 w-6 rounded-full border-2 border-blue-300 border-t-transparent animate-spin\"\n              ></div>\n              <div\n                class=\"absolute inset-0 rounded-full\"\n                style=\"box-shadow: 0 0 12px 2px rgba(59, 130, 246, 0.6)\"\n              ></div>\n            </div>\n            <span class=\"text-blue-100 font-medium tracking-wide\">Loading timeline…</span>\n          </div>\n        </div>\n\n        <div v-else-if=\"error\" class=\"text-center py-12\">\n          <div class=\"text-red-600 mb-2\">\n            <svg class=\"w-12 h-12 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z\"\n              ></path>\n            </svg>\n          </div>\n          <p class=\"text-red-600 font-medium\">Failed to load timeline</p>\n          <p class=\"text-gray-500 text-sm mt-1\">{{ error }}</p>\n          <button\n            @click=\"loadTimeline\"\n            class=\"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n          >\n            Retry\n          </button>\n        </div>\n\n        <!-- Timeline Content -->\n        <div v-else-if=\"timelineData\" class=\"relative\">\n          <!-- Request Information -->\n          <div class=\"mb-4 p-3 bg-blue-800 text-white rounded-lg border border-blue-400/50\">\n            <div class=\"flex items-center justify-between mb-1\">\n              <h3 class=\"font-medium text-white text-sm\">Request Details</h3>\n              <button\n                v-if=\"normalizedRequest?.id && !hasUserSigned\"\n                @click=\"handleSignDocument\"\n                :disabled=\"isSigning\"\n                class=\"px-2 py-1 text-xs rounded bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50\"\n                title=\"Digitally sign this document\"\n              >\n                {{ isSigning ? 'Signing…' : 'Sign Document' }}\n              </button>\n              <span v-else-if=\"hasUserSigned\" class=\"text-emerald-300 text-xs\"\n                >You signed this document</span\n              >\n            </div>\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm\">\n              <div>\n                <span class=\"font-medium\">Staff Name:</span>\n                {{ normalizedRequest?.staff_name || '—' }}\n              </div>\n              <div>\n                <span class=\"font-medium\">PF Number:</span>\n                {{ normalizedRequest?.pf_number || '—' }}\n              </div>\n              <div>\n                <span class=\"font-medium\">Department:</span>\n                {{ normalizedRequest?.department_name || 'N/A' }}\n              </div>\n              <div>\n                <span class=\"font-medium\">Request Type:</span>\n                {{ normalizedRequest?.request_type_name || '—' }}\n              </div>\n              <div v-if=\"normalizedRequest?.access_type_name\">\n                <span class=\"font-medium\">Access Type:</span>\n                {{ normalizedRequest?.access_type_name }}\n              </div>\n              <div>\n                <span class=\"font-medium\">Submitted:</span>\n                {{ formatDateTime(normalizedRequest?.created_at) }}\n              </div>\n            </div>\n\n            <!-- Digital Signature History -->\n            <div\n              v-if=\"signatures && signatures.length\"\n              class=\"mt-3 pt-2 border-t border-blue-600/40\"\n            >\n              <h4 class=\"text-sm font-semibold text-white mb-2\">Digital Signatures</h4>\n              <ul class=\"space-y-1.5\">\n                <li\n                  v-for=\"s in signatures\"\n                  :key=\"s.id\"\n                  class=\"text-sm text-blue-100 leading-relaxed\"\n                >\n                  <span class=\"text-emerald-300 font-medium\">Signed by</span>\n                  {{ s.user_name || 'Unknown' }}\n                  <span class=\"text-emerald-300 font-medium\">at</span> {{ s.signed_at || '—' }}\n                  <span class=\"text-emerald-300 font-medium\">Signature</span>:\n                  {{ s.signature_preview }}…\n                </li>\n              </ul>\n            </div>\n          </div>\n\n          <!-- Timeline Steps -->\n          <div class=\"space-y-4\">\n            <div\n              v-for=\"(step, index) in timelineSteps\"\n              :key=\"step.id\"\n              class=\"relative flex items-start\"\n            >\n              <!-- Timeline Line -->\n              <div\n                v-if=\"index < timelineSteps.length - 1\"\n                class=\"absolute left-3 top-8 w-0.5 h-12 bg-gray-200\"\n                :class=\"{\n                  'bg-green-400': step.status === 'completed',\n                  'bg-red-400': step.status === 'rejected',\n                  'bg-yellow-400': step.status === 'pending'\n                }\"\n              ></div>\n\n              <!-- Step Icon -->\n              <div\n                class=\"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center border-2 bg-blue-800\"\n                :class=\"getStepIconClasses(step.status)\"\n              >\n                <svg\n                  v-if=\"step.status === 'completed'\"\n                  class=\"w-3 h-3 text-white\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    fill-rule=\"evenodd\"\n                    d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                    clip-rule=\"evenodd\"\n                  ></path>\n                </svg>\n                <svg\n                  v-else-if=\"step.status === 'rejected'\"\n                  class=\"w-3 h-3 text-white\"\n                  fill=\"currentColor\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path\n                    fill-rule=\"evenodd\"\n                    d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                    clip-rule=\"evenodd\"\n                  ></path>\n                </svg>\n                <div v-else class=\"w-1.5 h-1.5 rounded-full bg-gray-400\"></div>\n              </div>\n\n              <!-- Step Content -->\n              <div class=\"ml-4 flex-1\">\n                <div\n                  class=\"bg-blue-800 text-white border rounded-lg p-3 shadow-sm\"\n                  :class=\"{\n                    'border-green-300': step.status === 'completed',\n                    'border-red-300': step.status === 'rejected',\n                    'border-yellow-300': step.status === 'pending',\n                    'border-blue-300': step.status === 'active'\n                  }\"\n                >\n                  <!-- Step Header -->\n                  <div class=\"flex items-center justify-between mb-1\">\n                    <h4 class=\"font-medium text-sm text-white\">\n                      {{ step.title }}\n                    </h4>\n                    <span\n                      class=\"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium\"\n                      :class=\"getStatusClasses(step.statusLabel || step.status)\"\n                      :style=\"getStatusStyle(step.statusLabel || step.status)\"\n                    >\n                      {{ step.statusLabel }}\n                    </span>\n                  </div>\n\n                  <!-- Step Details -->\n                  <div class=\"space-y-1 text-xs\">\n                    <div v-if=\"step.actor\" class=\"flex items-center gap-2\">\n                      <span class=\"font-medium text-white w-28 text-xs\">Actor:</span>\n                      <span class=\"text-xs text-white leading-relaxed\">{{ step.actor }}</span>\n                      <span v-if=\"step.position\" class=\"text-blue-200 text-xs\"\n                        >({{ step.position }})</span\n                      >\n                    </div>\n\n                    <div v-if=\"step.timestamp\" class=\"flex items-center gap-2\">\n                      <span class=\"font-medium text-white w-28 text-xs\">Date:</span>\n                      <span class=\"text-xs text-white leading-relaxed\">{{\n                        formatDateTime(step.timestamp)\n                      }}</span>\n                    </div>\n\n                    <div v-if=\"step.comments\" class=\"flex items-start gap-2\">\n                      <span class=\"font-medium text-white w-28 flex-shrink-0 text-xs\"\n                        >Comments:</span\n                      >\n                      <span\n                        class=\"text-white text-xs leading-relaxed whitespace-pre-wrap break-words\"\n                        >{{ step.comments }}</span\n                      >\n                    </div>\n\n                    <!-- HOD/Divisional signature area: show red 'Stage Skipped' badge when applicable -->\n                    <div\n                      v-if=\"\n                        (step.id === 'divisional' &&\n                          (timelineData?.request?.divisional_status === 'skipped' ||\n                            step.statusLabel === 'Skipped')) ||\n                        (step.id === 'hod' &&\n                          (timelineData?.request?.hod_status === 'skipped' ||\n                            step.statusLabel === 'Skipped'))\n                      \"\n                      class=\"flex items-center gap-2\"\n                    >\n                      <span class=\"font-medium text-white w-28 text-xs\">Signature:</span>\n                      <span\n                        class=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-red-900/30 text-red-300 border border-red-500/40\"\n                      >\n                        {{\n                          step.id === 'divisional'\n                            ? 'No Divisional Director — Stage Skipped'\n                            : 'No HOD — Stage Skipped'\n                        }}\n                      </span>\n                    </div>\n\n                    <div v-else-if=\"step.hasSignature\" class=\"flex items-center gap-2\">\n                      <span class=\"font-medium text-white w-28 text-xs\">Signature:</span>\n                      <span class=\"text-green-300 text-xs\">✓ Signed</span>\n                    </div>\n\n                    <div\n                      v-if=\"step.rejectionReasons && step.rejectionReasons.length\"\n                      class=\"flex items-start gap-2\"\n                    >\n                      <span class=\"font-medium text-white w-28 flex-shrink-0 text-xs\"\n                        >Reasons:</span\n                      >\n                      <div class=\"space-y-0.5\">\n                        <div\n                          v-for=\"reason in step.rejectionReasons\"\n                          :key=\"reason\"\n                          class=\"text-red-700 bg-red-100 px-1.5 py-0.5 rounded text-xs\"\n                        >\n                          {{ reason }}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div v-if=\"step.assignedOfficer\" class=\"flex items-center\">\n                      <span class=\"font-medium text-white w-28 text-xs\">Officer:</span>\n                      <span class=\"text-xs text-white\">{{ step.assignedOfficer }}</span>\n                    </div>\n                  </div>\n\n                  <!-- ICT Officer Update Form -->\n                  <div\n                    v-if=\"\n                      step.id === 'ict_officer_implementation' &&\n                      canUpdateImplementation &&\n                      !showUpdateForm\n                    \"\n                    class=\"mt-2\"\n                  >\n                    <button\n                      @click=\"openUpdateForm\"\n                      class=\"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n                    >\n                      <svg\n                        class=\"w-3 h-3 mr-1\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          stroke-width=\"2\"\n                          d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n                        />\n                      </svg>\n                      Update Progress\n                    </button>\n                  </div>\n\n                  <!-- Progress Update Form -->\n                  <div\n                    v-if=\"step.id === 'ict_officer_implementation' && showUpdateForm\"\n                    class=\"mt-2 border-t border-gray-200 pt-2\"\n                  >\n                    <div class=\"bg-gray-50 rounded-lg p-3\">\n                      <div class=\"flex items-center justify-between mb-2\">\n                        <h5 class=\"text-xs font-medium text-gray-900\">\n                          Update Implementation Progress\n                        </h5>\n                        <button @click=\"closeUpdateForm\" class=\"text-gray-400 hover:text-gray-600\">\n                          <svg\n                            class=\"w-4 h-4\"\n                            fill=\"none\"\n                            stroke=\"currentColor\"\n                            viewBox=\"0 0 24 24\"\n                          >\n                            <path\n                              stroke-linecap=\"round\"\n                              stroke-linejoin=\"round\"\n                              stroke-width=\"2\"\n                              d=\"M6 18L18 6M6 6l12 12\"\n                            />\n                          </svg>\n                        </button>\n                      </div>\n\n                      <form @submit.prevent=\"updateImplementationProgress\" class=\"space-y-2\">\n                        <div>\n                          <label\n                            for=\"status\"\n                            class=\"block text-xs font-medium text-gray-700 mb-0.5\"\n                          >\n                            Status\n                          </label>\n                          <select\n                            id=\"status\"\n                            v-model=\"updateForm.status\"\n                            required\n                            class=\"w-full px-2 py-1 text-xs border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                          >\n                            <option value=\"\">Select Status</option>\n                            <option value=\"implementation_in_progress\">In Progress</option>\n                            <option value=\"implemented\">Implemented</option>\n                            <option value=\"rejected\">Rejected</option>\n                          </select>\n                        </div>\n\n                        <div>\n                          <label\n                            for=\"comments\"\n                            class=\"block text-xs font-medium text-gray-700 mb-0.5\"\n                          >\n                            Implementation Comments\n                          </label>\n                          <textarea\n                            id=\"comments\"\n                            v-model=\"updateForm.comments\"\n                            rows=\"2\"\n                            placeholder=\"Add comments about the implementation progress...\"\n                            class=\"w-full px-2 py-1 text-xs border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 resize-none\"\n                          ></textarea>\n                        </div>\n\n                        <div v-if=\"updateError\" class=\"text-red-600 text-xs\">\n                          {{ updateError }}\n                        </div>\n\n                        <div class=\"flex justify-end space-x-2\">\n                          <button\n                            type=\"button\"\n                            @click=\"closeUpdateForm\"\n                            class=\"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n                          >\n                            Cancel\n                          </button>\n                          <button\n                            type=\"submit\"\n                            :disabled=\"updating || !updateForm.status\"\n                            class=\"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                          >\n                            <svg\n                              v-if=\"updating\"\n                              class=\"w-3 h-3 mr-1 animate-spin\"\n                              fill=\"none\"\n                              viewBox=\"0 0 24 24\"\n                            >\n                              <circle\n                                class=\"opacity-25\"\n                                cx=\"12\"\n                                cy=\"12\"\n                                r=\"10\"\n                                stroke=\"currentColor\"\n                                stroke-width=\"4\"\n                              ></circle>\n                              <path\n                                class=\"opacity-75\"\n                                fill=\"currentColor\"\n                                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                              ></path>\n                            </svg>\n                            <span v-if=\"updating\">Updating...</span>\n                            <span v-else>Update Progress</span>\n                          </button>\n                        </div>\n                      </form>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Modal Footer -->\n      <div\n        class=\"flex justify-between p-4 border-t border-blue-600/40 bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900\"\n      >\n        <!-- Update Progress Button (for assigned ICT Officers) -->\n        <div>\n          <button\n            v-if=\"canShowUpdateProgressButton\"\n            @click=\"openUpdateProgress\"\n            class=\"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors\"\n          >\n            <svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n              />\n            </svg>\n            Update Progress\n          </button>\n        </div>\n\n        <!-- Close Button -->\n        <div>\n          <button\n            @click=\"close\"\n            class=\"px-3 py-1.5 text-xs text-white rounded transition-colors shadow-md\"\n            style=\"background-color: #ff0000\"\n            @mouseenter=\"$event.target.style.backgroundColor = '#cc0000'\"\n            @mouseleave=\"$event.target.style.backgroundColor = '#FF0000'\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import ictOfficerService from '../../services/ictOfficerService'\n  import dictAccessService from '../../services/dictAccessService'\n  import divisionalAccessService from '../../services/divisionalAccessService'\n  import headOfItService from '../../services/headOfItService'\n  import combinedAccessService from '../../services/combinedAccessService'\n  import { useAuth } from '@/composables/useAuth'\n\n  export default {\n    name: 'RequestTimeline',\n    props: {\n      show: {\n        type: Boolean,\n        default: false\n      },\n      requestId: {\n        type: [Number, String],\n        default: null\n      }\n    },\n    emits: ['close', 'updated', 'openUpdateProgress'],\n    data() {\n      return {\n        loading: false,\n        error: null,\n        timelineData: null,\n        // Digital signatures\n        signatures: [],\n        hasUserSigned: false,\n        isSigning: false,\n        // ICT Officer update form\n        showUpdateForm: false,\n        updateForm: {\n          status: '',\n          comments: ''\n        },\n        updating: false,\n        updateError: null\n      }\n    },\n    setup() {\n      const { hasRole, ROLES, user } = useAuth()\n      return {\n        hasRole,\n        ROLES,\n        currentUser: user\n      }\n    },\n    computed: {\n      normalizedRequest() {\n        const r = this.timelineData?.request || this.timelineData?.request_info || null\n        if (!r) return null\n        // Debug once per load to see available fields (non-breaking)\n        if (process.env.NODE_ENV === 'development') {\n          try {\n            console.log('🔍 RequestTimeline normalizedRequest source:', {\n              keys: Object.keys(r || {}),\n              sample: {\n                staff_name: r.staff_name,\n                pf_number: r.pf_number,\n                department: r.department,\n                department_name: r.department_name\n              }\n            })\n          } catch (e) {\n            // ignore logging errors\n          }\n        }\n        const requestTypes = Array.isArray(r.request_types)\n          ? r.request_types\n          : Array.isArray(r.request_type)\n            ? r.request_type\n            : r.request_type_name\n              ? [r.request_type_name]\n              : r.services || []\n        const requestTypeName = Array.isArray(requestTypes)\n          ? requestTypes.join(', ')\n          : requestTypes || ''\n        return {\n          id: r.id || r.request_id,\n          display_id: r.request_id || (r.id ? `REQ-${String(r.id).padStart(6, '0')}` : ''),\n          // Be very defensive: support multiple backend field names used across views\n          staff_name:\n            r.staff_name ||\n            r.staffName ||\n            r.full_name ||\n            r.name ||\n            r.employee_name ||\n            r.applicant_name ||\n            r.user_name ||\n            r.requester_name ||\n            r.requester?.name ||\n            r.profile?.staff_name ||\n            r.profile?.full_name ||\n            r.user?.name ||\n            '',\n          pf_number:\n            r.pf_number ||\n            r.pfNumber ||\n            r.PF_NUMBER ||\n            r.pf ||\n            r.employee_id ||\n            r.employee_no ||\n            r.employeeNumber ||\n            r.profile?.pf_number ||\n            r.profile?.employee_id ||\n            r.pf_number_display ||\n            '',\n          department_name:\n            (r.department &&\n              (r.department.name || r.department.department_name || r.department.label)) ||\n            r.department_name ||\n            r.departmentLabel ||\n            r.department_label ||\n            r.department ||\n            r.dept ||\n            r.profile?.department_name ||\n            r.profile?.department ||\n            r.department_id ||\n            '',\n          request_type_name: requestTypeName,\n          access_type_name: r.access_type_name || r.access_type || '',\n          created_at: r.created_at || r.submission_date || r.createdAt || null\n        }\n      },\n      isIctOfficer() {\n        return this.hasRole(this.ROLES.ICT_OFFICER)\n      },\n\n      isIctDirector() {\n        return this.hasRole(this.ROLES.ICT_DIRECTOR)\n      },\n\n      isDivisionalDirector() {\n        return this.hasRole(this.ROLES.DIVISIONAL_DIRECTOR)\n      },\n\n      isHeadOfIT() {\n        return this.hasRole(this.ROLES.HEAD_OF_IT)\n      },\n\n      isHeadOfDepartment() {\n        return this.hasRole(this.ROLES.HEAD_OF_DEPARTMENT)\n      },\n\n      currentService() {\n        // Determine which service to use based on user role\n        if (this.isIctOfficer) {\n          return ictOfficerService\n        } else if (this.isIctDirector) {\n          return dictAccessService\n        } else if (this.isDivisionalDirector) {\n          return divisionalAccessService\n        } else if (this.isHeadOfIT) {\n          return headOfItService\n        } else if (this.isHeadOfDepartment) {\n          return combinedAccessService\n        } else {\n          // Default fallback to ICT Officer service\n          return ictOfficerService\n        }\n      },\n\n      canUpdateImplementation() {\n        if (!this.isIctOfficer || !this.timelineData?.request) return false\n\n        const request = this.timelineData.request\n        // Check if this ICT officer is assigned to this request and it's not yet completed\n        return (\n          request.ict_officer_user_id &&\n          request.ict_officer_user_id === this.currentUser?.id &&\n          !request.ict_officer_implemented_at &&\n          request.ict_officer_status !== 'implemented' &&\n          request.ict_officer_status !== 'rejected'\n        )\n      },\n\n      canShowUpdateProgressButton() {\n        if (!this.isIctOfficer || !this.timelineData?.request) return false\n\n        const request = this.timelineData.request\n        console.log('🔍 RequestTimeline Debug - Request data:', {\n          ict_officer_user_id: request.ict_officer_user_id,\n          current_user_id: this.currentUser?.id,\n          ict_officer_status: request.ict_officer_status,\n          status: request.status,\n          isIctOfficer: this.isIctOfficer\n        })\n\n        // Show button if:\n        // 1. User is ICT Officer assigned to this request\n        // 2. Request is in a state that allows progress updates (assigned or in progress)\n        // 3. Not yet completed or rejected\n        const canUpdate =\n          request.ict_officer_user_id &&\n          request.ict_officer_user_id === this.currentUser?.id &&\n          (request.status === 'assigned_to_ict' ||\n            request.status === 'implementation_in_progress' ||\n            request.ict_officer_status === 'assigned' ||\n            request.ict_officer_status === 'implementation_in_progress') &&\n          request.ict_officer_status !== 'implemented' &&\n          request.ict_officer_status !== 'rejected'\n\n        console.log('🔍 Can show update button:', canUpdate)\n        return canUpdate\n      },\n\n      timelineSteps() {\n        if (!this.timelineData) return []\n\n        const request = this.timelineData.request || this.timelineData.request_info\n        if (!request) return []\n\n        const steps = []\n\n        // 1. Request Submission\n        steps.push({\n          id: 'submission',\n          title: 'Request Submitted',\n          status: 'completed',\n          statusLabel: 'Completed',\n          actor: request.staff_name,\n          position: 'Requester',\n          timestamp: request.created_at,\n          comments: null,\n          hasSignature: !!request.signature_path\n        })\n\n        // 2. HOD Approval\n        const hodStatus = this.getApprovalStatus('hod', request)\n        const hodActor =\n          request.hod_name ||\n          request.hod_approved_by_name ||\n          request.approved_by_name ||\n          'Head of Department'\n        const hodTimestamp =\n          request.hod_approved_at ||\n          request.hod_rejected_at ||\n          request.updated_at ||\n          request.created_at ||\n          null\n        steps.push({\n          id: 'hod',\n          title: 'HOD/BM Approval',\n          status: hodStatus.status,\n          statusLabel: hodStatus.label,\n          actor: hodActor,\n          position: 'Head of Department',\n          timestamp: hodTimestamp,\n          comments: request.hod_comments,\n          hasSignature: !!request.hod_signature_path\n        })\n\n        // 3. Divisional Director Approval\n        const divStatus = this.getApprovalStatus('divisional', request)\n        const divisionalActor =\n          request.divisional_director_name ||\n          request.divisional_name ||\n          request.divisional_approved_by_name ||\n          request.approved_by_name ||\n          'Divisional Director'\n        const divisionalTimestamp =\n          request.divisional_approved_at ||\n          request.divisional_rejected_at ||\n          request.updated_at ||\n          request.created_at ||\n          null\n        const divisionalComments =\n          request.divisional_director_comments || request.divisional_comments || null\n        steps.push({\n          id: 'divisional',\n          title: 'Divisional Director Approval',\n          status: divStatus.status,\n          statusLabel: divStatus.label,\n          actor: divisionalActor,\n          position: 'Divisional Director',\n          timestamp: divisionalTimestamp,\n          comments: divisionalComments,\n          hasSignature: !!request.divisional_director_signature_path\n        })\n\n        // 4. ICT Director Approval\n        const ictDirStatus = this.getApprovalStatus('ict_director', request)\n        const ictDirectorActor =\n          request.ict_director_name ||\n          request.dict_director_name ||\n          request.ict_director_approved_by_name ||\n          request.approved_by_name ||\n          'ICT Director'\n        const ictDirectorTimestamp =\n          request.ict_director_approved_at ||\n          request.dict_approved_at ||\n          request.updated_at ||\n          request.created_at ||\n          null\n        const ictDirectorComments = request.ict_director_comments || request.dict_comments || null\n        steps.push({\n          id: 'ict_director',\n          title: 'ICT Director Approval',\n          status: ictDirStatus.status,\n          statusLabel: ictDirStatus.label,\n          actor: ictDirectorActor,\n          position: 'ICT Director',\n          timestamp: ictDirectorTimestamp,\n          comments: ictDirectorComments,\n          hasSignature: !!request.dict_signature_path,\n          rejectionReasons: request.ict_director_rejection_reasons || []\n        })\n\n        // 5. Head of IT Approval\n        const headItStatus = this.getApprovalStatus('head_it', request)\n        const headItActor =\n          request.head_it_name ||\n          request.head_of_it_name ||\n          request.head_it_approved_by_name ||\n          request.approved_by_name ||\n          'Head of IT'\n        const headItTimestamp =\n          request.head_it_approved_at ||\n          request.head_it_rejected_at ||\n          request.updated_at ||\n          request.created_at ||\n          null\n        const headItComments = request.head_it_comments || null\n        steps.push({\n          id: 'head_it',\n          title: 'Head of IT Approval',\n          status: headItStatus.status,\n          statusLabel: headItStatus.label,\n          actor: headItActor,\n          position: 'Head of IT',\n          timestamp: headItTimestamp,\n          comments: headItComments,\n          hasSignature: !!request.head_it_signature_path\n        })\n\n        // 6. ICT Officer Implementation\n        let implementationStatus = 'pending'\n        let implementationLabel = 'Waiting'\n        let implementationTimestamp = null\n\n        // Use status field as primary source of truth, fall back to timestamps\n        if (request.ict_officer_status === 'rejected') {\n          implementationStatus = 'rejected'\n          implementationLabel = 'Rejected'\n          implementationTimestamp = request.ict_officer_rejected_at\n        } else if (request.ict_officer_status === 'implemented') {\n          implementationStatus = 'completed'\n          implementationLabel = 'Implemented'\n          implementationTimestamp = this.getValidTimestamp(request.ict_officer_implemented_at)\n        } else if (request.ict_officer_status === 'implementation_in_progress') {\n          implementationStatus = 'active'\n          implementationLabel = 'In Progress'\n          implementationTimestamp =\n            this.getValidTimestamp(request.ict_officer_started_at) ||\n            this.getValidTimestamp(request.ict_officer_assigned_at)\n        } else if (request.ict_officer_assigned_at && request.ict_officer_user_id) {\n          implementationStatus = 'active'\n          implementationLabel = 'Assigned - Pending Implementation'\n          implementationTimestamp = this.getValidTimestamp(request.ict_officer_assigned_at)\n        }\n\n        // Fallback to overall progress: if request is approved/implemented/completed, mark as completed\n        const overallIndex = this.getOverallProgressIndex(request)\n        if (overallIndex >= 6 || (overallIndex >= 5 && implementationStatus !== 'rejected')) {\n          implementationStatus = 'completed'\n          implementationLabel = 'Implemented'\n          if (!implementationTimestamp) {\n            implementationTimestamp =\n              this.getValidTimestamp(request.ict_officer_implemented_at) ||\n              this.getValidTimestamp(request.updated_at) ||\n              this.getValidTimestamp(request.head_it_approved_at)\n          }\n        }\n\n        // Build robust officer name, comments, and timestamp fallbacks so details always display\n        const officerName =\n          request.ict_officer_name ||\n          (request.assigned_ict_officer && request.assigned_ict_officer.name) ||\n          request.assigned_ict_officer ||\n          request.ict_officer ||\n          'ICT Department'\n\n        const officerComments =\n          request.implementation_comments ||\n          request.ict_officer_comments ||\n          request.ict_implementation_comments ||\n          request.ict_implementation_comment ||\n          request.ict_implementation_details ||\n          '—'\n\n        const officerTimestamp =\n          implementationTimestamp ||\n          this.getValidTimestamp(request.ict_officer_implemented_at) ||\n          this.getValidTimestamp(request.ict_officer_rejected_at) ||\n          this.getValidTimestamp(request.ict_officer_started_at) ||\n          this.getValidTimestamp(request.ict_officer_assigned_at) ||\n          this.getValidTimestamp(request.updated_at) ||\n          this.getValidTimestamp(request.created_at)\n\n        steps.push({\n          id: 'ict_officer_implementation',\n          title: 'ICT Officer Implementation',\n          status: implementationStatus,\n          statusLabel: implementationLabel,\n          actor: officerName,\n          position: 'ICT Officer',\n          timestamp: officerTimestamp,\n          comments: officerComments,\n          hasSignature: !!request.ict_officer_signature_path\n        })\n\n        // 8. Final Status (if cancelled)\n        if (request.cancelled_at) {\n          steps.push({\n            id: 'cancellation',\n            title: 'Request Cancelled',\n            status: 'rejected',\n            statusLabel: 'Cancelled',\n            actor: request.cancelled_by || 'System',\n            position: 'Administrator',\n            timestamp: request.cancelled_at,\n            comments: request.cancellation_reason\n          })\n        }\n\n        return steps\n      }\n    },\n    watch: {\n      show(newVal) {\n        if (newVal && this.requestId) {\n          this.loadTimeline()\n        }\n      },\n      requestId(newVal, oldVal) {\n        if (this.show && newVal && newVal !== oldVal) {\n          this.loadTimeline()\n        }\n      }\n    },\n    methods: {\n      async loadTimeline() {\n        if (!this.requestId) return\n\n        // If we already have timeline data for this request and no error, avoid refetching\n        if (\n          this.timelineData?.request?.id &&\n          String(this.timelineData.request.id) === String(this.requestId) &&\n          !this.loading &&\n          !this.error\n        ) {\n          return\n        }\n\n        this.loading = true\n        this.error = null\n\n        try {\n          console.log(`🔄 RequestTimeline: Loading timeline with service for role:`, {\n            isIctOfficer: this.isIctOfficer,\n            isIctDirector: this.isIctDirector,\n            isDivisionalDirector: this.isDivisionalDirector,\n            isHeadOfIT: this.isHeadOfIT,\n            isHeadOfDepartment: this.isHeadOfDepartment\n          })\n\n          const id = this.requestId // snapshot to avoid prop changes (e.g., modal close) causing null\n\n          // Build a small failover chain: primary -> optional HOD timeline -> ictOfficerService\n          const chain = []\n          chain.push(this.currentService)\n\n          // ICT Officers do not have access to HOD /combinedAccessService timeline endpoints, so skip them\n          if (!this.isIctOfficer && this.currentService !== combinedAccessService) {\n            chain.push(combinedAccessService)\n          }\n\n          if (this.currentService !== ictOfficerService) chain.push(ictOfficerService)\n\n          let loaded = false\n          let lastError = null\n\n          for (const svc of chain) {\n            try {\n              const result = await svc.getRequestTimeline(id)\n\n              // Handle different response formats from different services\n              if (result && result.success !== undefined) {\n                if (result.success) {\n                  this.timelineData = result.data\n                  loaded = true\n                  break\n                } else {\n                  lastError = new Error(\n                    result.error || result.message || 'Failed to load timeline data'\n                  )\n                }\n              } else if (result) {\n                this.timelineData = result\n                loaded = true\n                break\n              } else {\n                lastError = new Error('No timeline data returned')\n              }\n            } catch (e) {\n              lastError = e\n              // Try next service in the chain\n            }\n          }\n\n          if (!loaded) {\n            // Last resort: fetch request details and synthesize a read-only timeline\n            let req = null\n            try {\n              // Prefer HOD-authorized show endpoint first\n              const r1 = await combinedAccessService.getHodRequestById(id)\n              if (r1?.success && r1.data) req = r1.data\n            } catch (e) {\n              // ignore and try fallback\n            }\n            if (!req) {\n              try {\n                // Fallback to general form endpoint\n                const r2a = await combinedAccessService.getRequestById(id)\n                if (r2a?.success && r2a.data) req = r2a.data\n                if (!req) {\n                  const r2 = await ictOfficerService.getAccessRequestById(id)\n                  if (r2?.success && r2.data) req = r2.data\n                }\n              } catch (e) {\n                // ignore\n              }\n            }\n            if (req) {\n              this.timelineData = { request: req, ict_assignments: [] }\n              loaded = true\n            }\n          }\n\n          if (!loaded) throw lastError || new Error('Failed to load timeline')\n\n          console.log('✅ RequestTimeline: Timeline loaded successfully')\n\n          // Load digital signature history for this document id\n          try {\n            const docId = this.timelineData?.request?.id || this.timelineData?.request_info?.id\n            if (docId) {\n              const svc = (await import('@/services/signatureService')).default\n              const res = await svc.list(docId)\n              this.signatures = Array.isArray(res?.data) ? res.data : []\n              const me = this.currentUser?.id\n              this.hasUserSigned = !!this.signatures.find((s) => s.user_id === me)\n            }\n          } catch (e) {\n            // Non-fatal\n            console.warn('Failed to load digital signatures', e)\n            this.signatures = []\n          }\n        } catch (error) {\n          console.error('❌ RequestTimeline: Error loading timeline:', error)\n          this.error =\n            error.message || error.response?.data?.message || 'Failed to load timeline data'\n        } finally {\n          this.loading = false\n        }\n      },\n\n      close() {\n        this.$emit('close')\n      },\n\n      async handleSignDocument() {\n        try {\n          this.isSigning = true\n          const docId = this.timelineData?.request?.id || this.timelineData?.request_info?.id\n          if (!docId) return\n          const svc = (await import('@/services/signatureService')).default\n          const res = await svc.sign(docId)\n          if (res?.data?.success) {\n            // Refresh list\n            const list = await svc.list(docId)\n            this.signatures = Array.isArray(list?.data) ? list.data : []\n            this.hasUserSigned = true\n          }\n        } catch (e) {\n          console.error('Digital sign failed', e)\n        } finally {\n          this.isSigning = false\n        }\n      },\n\n      openUpdateProgress() {\n        console.log('📝 RequestTimeline: Opening update progress modal')\n        this.$emit('openUpdateProgress', this.timelineData?.request)\n      },\n\n      openUpdateForm() {\n        this.showUpdateForm = true\n        this.updateForm.status = ''\n        this.updateForm.comments = ''\n        this.updateError = null\n      },\n\n      closeUpdateForm() {\n        this.showUpdateForm = false\n        this.updateForm.status = ''\n        this.updateForm.comments = ''\n        this.updateError = null\n      },\n\n      async updateImplementationProgress() {\n        if (!this.updateForm.status) {\n          this.updateError = 'Please select a status'\n          return\n        }\n\n        this.updating = true\n        this.updateError = null\n\n        try {\n          const result = await ictOfficerService.updateImplementationProgress(\n            this.requestId,\n            this.updateForm.status,\n            this.updateForm.comments\n          )\n\n          if (result.success) {\n            // Refresh the timeline data\n            await this.loadTimeline()\n\n            // Close the form\n            this.closeUpdateForm()\n\n            // Emit event to parent to refresh main table\n            this.$emit('updated')\n\n            // Show success message\n            this.showSuccessMessage()\n          } else {\n            this.updateError = result.message || 'Failed to update progress'\n          }\n        } catch (error) {\n          console.error('Error updating progress:', error)\n          this.updateError = error.message || 'Network error while updating progress'\n        } finally {\n          this.updating = false\n        }\n      },\n\n      showSuccessMessage() {\n        // Create a temporary success message\n        const successDiv = document.createElement('div')\n        successDiv.className =\n          'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300'\n        successDiv.innerHTML = `\n        <div class=\"flex items-center\">\n          <svg class=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\"></path>\n          </svg>\n          Progress updated successfully!\n        </div>\n      `\n\n        document.body.appendChild(successDiv)\n\n        // Remove after 3 seconds\n        setTimeout(() => {\n          if (successDiv.parentNode) {\n            successDiv.style.transform = 'translateX(100%)'\n            successDiv.style.opacity = '0'\n            setTimeout(() => {\n              document.body.removeChild(successDiv)\n            }, 300)\n          }\n        }, 3000)\n      },\n\n      getApprovalStatus(stage, request) {\n        const statusField = `${stage}_status`\n        const approvedField =\n          stage === 'ict_officer' ? `${stage}_implemented_at` : `${stage}_approved_at`\n\n        const status = request[statusField]\n        const approvedAt = request[approvedField]\n\n        let result = {}\n\n        if (status === 'rejected') {\n          result = { status: 'rejected', label: 'Rejected' }\n        } else if (status === 'skipped' && (stage === 'divisional' || stage === 'hod')) {\n          // Stage intentionally skipped (e.g., ICT Officer-origin request)\n          result = { status: 'completed', label: 'Skipped' }\n        } else if (\n          status === 'approved' ||\n          (stage === 'ict_officer' && status === 'implemented') ||\n          approvedAt\n        ) {\n          result = {\n            status: 'completed',\n            label: stage === 'ict_officer' ? 'Implemented' : 'Approved'\n          }\n        } else {\n          // Fallback to overall progress when per-stage fields are missing\n          const progress = this.getOverallProgressIndex(request)\n          const stageIndexMap = {\n            hod: 1,\n            divisional: 2,\n            ict_director: 3,\n            head_it: 4,\n            ict_officer: 5\n          }\n          const stageIndex = stageIndexMap[stage] || 0\n\n          if (progress > stageIndex) {\n            result = {\n              status: 'completed',\n              label: stage === 'ict_officer' ? 'Implemented' : 'Approved'\n            }\n          } else if (progress === stageIndex) {\n            // Active stage\n            const activeLabel =\n              stage === 'ict_officer' && request.ict_officer_status === 'implementation_in_progress'\n                ? 'In Progress'\n                : 'Pending'\n            result = { status: 'active', label: activeLabel }\n          } else if (this.isPreviousStageComplete(stage, request)) {\n            result = { status: 'active', label: 'Pending' }\n          } else {\n            result = { status: 'pending', label: 'Waiting' }\n          }\n        }\n\n        // For ICT Officer assignment status\n        if (stage === 'ict_officer') {\n          if (request.ict_officer_assigned_at && request.ict_officer_user_id) {\n            result.assignmentStatus = 'completed'\n            result.assignmentLabel = 'Assigned'\n          } else if (request.head_it_approved_at) {\n            result.assignmentStatus = 'active'\n            result.assignmentLabel = 'Pending Assignment'\n          } else {\n            result.assignmentStatus = 'pending'\n            result.assignmentLabel = 'Waiting'\n          }\n        }\n\n        return result\n      },\n\n      getOverallProgressIndex(request) {\n        const s = (request.status || '').toString()\n        // Map overall status to a stage index\n        // 0: submitted, 1: HOD approved, 2: Divisional approved, 3: ICT Director approved,\n        // 4: Head IT approved, 5: ICT Officer stage, 6: Final approved/completed\n        const map = {\n          pending: 0,\n          pending_hod: 0,\n          hod_approved: 1,\n          pending_divisional: 1,\n          divisional_approved: 2,\n          pending_ict_director: 2,\n          ict_director_approved: 3,\n          dict_approved: 3,\n          pending_head_it: 3,\n          head_it_approved: 4,\n          pending_ict_officer: 4,\n          implementation_in_progress: 5,\n          implemented: 5,\n          approved: 6,\n          completed: 6\n        }\n        return map[s] ?? 0\n      },\n\n      isPreviousStageComplete(currentStage, request) {\n        const stages = ['hod', 'divisional', 'ict_director', 'head_it', 'ict_officer']\n        const currentIndex = stages.indexOf(currentStage)\n\n        if (currentIndex === 0) return true // HOD is always first\n\n        const previousStage = stages[currentIndex - 1]\n        const previousStatusField = `${previousStage}_status`\n        const previousApprovedField =\n          previousStage === 'ict_officer'\n            ? `${previousStage}_implemented_at`\n            : `${previousStage}_approved_at`\n\n        return (\n          request[previousStatusField] === 'approved' ||\n          (previousStage === 'ict_officer' && request[previousStatusField] === 'implemented') ||\n          !!request[previousApprovedField]\n        )\n      },\n\n      getStepIconClasses(status) {\n        switch (status) {\n          case 'completed':\n            return 'bg-green-500 border-green-500'\n          case 'rejected':\n            return 'bg-red-500 border-red-500'\n          case 'pending':\n            return 'bg-yellow-500 border-yellow-500'\n          case 'active':\n            return 'bg-blue-500 border-blue-500'\n          default:\n            return 'bg-gray-200 border-gray-300'\n        }\n      },\n\n      getStatusClasses(status) {\n        const s = (status || '').toString().toLowerCase()\n        if (['completed', 'approved', 'assigned', 'implemented'].includes(s)) {\n          return 'bg-green-600 text-white'\n        }\n        if (['rejected', 'cancelled'].includes(s)) {\n          return 'bg-red-600 text-white'\n        }\n        if (['pending', 'pending assignment', 'waiting'].includes(s)) {\n          // Use exact red via inline style; keep text white here\n          return 'text-white'\n        }\n        return 'bg-gray-500 text-white'\n      },\n\n      getStatusStyle(status) {\n        const s = (status || '').toString().toLowerCase()\n        if (['pending', 'pending assignment', 'waiting'].includes(s)) {\n          return { backgroundColor: '#FF0000' }\n        }\n        return {}\n      },\n\n      getValidTimestamp(timestamp) {\n        if (!timestamp) return null\n\n        try {\n          const date = new Date(timestamp)\n          // Check if date is valid and not too far in the past/future\n          if (isNaN(date.getTime()) || date.getFullYear() < 2020 || date.getFullYear() > 2030) {\n            console.warn('Invalid timestamp detected:', timestamp)\n            return null\n          }\n          return timestamp\n        } catch (error) {\n          console.warn('Error parsing timestamp:', timestamp, error)\n          return null\n        }\n      },\n\n      formatDateTime(dateTime) {\n        if (!dateTime) return 'N/A'\n\n        try {\n          const date = new Date(dateTime)\n          // Check if date is valid\n          if (isNaN(date.getTime()) || date.getFullYear() < 2020 || date.getFullYear() > 2030) {\n            return 'Invalid Date'\n          }\n          return date.toLocaleString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        } catch (error) {\n          return 'Invalid Date'\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /* Custom scrollbar for timeline content */\n  .overflow-y-auto::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  .overflow-y-auto::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 3px;\n  }\n\n  .overflow-y-auto::-webkit-scrollbar-thumb {\n    background: #c1c1c1;\n    border-radius: 3px;\n  }\n\n  .overflow-y-auto::-webkit-scrollbar-thumb:hover {\n    background: #a8a8a8;\n  }\n  /* Typography scale for timeline modal */\n  .timeline-typography {\n    font-size: 1.05rem;\n  }\n  .timeline-typography .text-xs {\n    font-size: 1.1rem !important;\n    line-height: 1.5 !important;\n  }\n  .timeline-typography .text-sm {\n    font-size: 1.25rem !important;\n  }\n  .timeline-typography .text-base {\n    font-size: 1.375rem !important;\n  }\n  .timeline-typography h2 {\n    font-size: 1.8rem !important;\n  }\n  .timeline-typography h3 {\n    font-size: 1.5rem !important;\n  }\n  .timeline-typography h4 {\n    font-size: 1.375rem !important;\n  }\n</style>\n","import { render } from \"./RequestTimeline.vue?vue&type=template&id=00d156ea&scoped=true\"\nimport script from \"./RequestTimeline.vue?vue&type=script&lang=js\"\nexport * from \"./RequestTimeline.vue?vue&type=script&lang=js\"\n\nimport \"./RequestTimeline.vue?vue&type=style&index=0&id=00d156ea&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00d156ea\"]])\n\nexport default __exports__","import apiClient from '../utils/apiClient'\n\n/**\n * Divisional Access Service for Divisional Director request management\n * Handles all operations related to HOD-approved combined access requests (Jeeva, Wellsoft, Internet)\n * that are ready for divisional director approval\n */\nclass DivisionalAccessService {\n  /**\n   * Get all HOD-approved combined access requests for Divisional Director approval\n   * @param {Object} filters - Search and filter parameters\n   * @returns {Promise<Object>} Response with requests data\n   */\n  async getDivisionalRequests(filters = {}) {\n    try {\n      console.log(\n        '🔄 Fetching HOD-approved combined access requests for Divisional Director approval...',\n        filters\n      )\n\n      const params = new URLSearchParams()\n\n      if (filters.search) params.append('search', filters.search)\n      if (filters.status) params.append('status', filters.status)\n      if (filters.department) params.append('department', filters.department)\n      if (filters.per_page) params.append('per_page', filters.per_page)\n      if (filters.page) params.append('page', filters.page)\n\n      const response = await apiClient.get(\n        `/divisional/combined-access-requests?${params.toString()}`\n      )\n\n      if (response.data && response.data.success) {\n        console.log(\n          '✅ Divisional requests retrieved successfully:',\n          response.data.data?.length || 0,\n          'requests'\n        )\n        return {\n          success: true,\n          data: response.data\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to retrieve Divisional requests')\n      }\n    } catch (error) {\n      // Silently ignore abort errors\n      if (\n        error.message === 'Request aborted' ||\n        error.message?.includes('aborted') ||\n        error.message?.includes('canceled')\n      ) {\n        return {\n          success: false,\n          error: 'Request aborted',\n          data: null\n        }\n      }\n\n      console.error('❌ Error fetching Divisional requests:', error)\n      return {\n        success: false,\n        error:\n          error.response?.data?.message ||\n          error.message ||\n          'Failed to retrieve Divisional requests',\n        data: null\n      }\n    }\n  }\n\n  /**\n   * Get a specific combined access request by ID for Divisional Director\n   * @param {number} requestId - The request ID\n   * @returns {Promise<Object>} Response with request data\n   */\n  async getRequestById(requestId) {\n    try {\n      console.log('🔄 Fetching combined access request for Divisional Director:', requestId)\n\n      const response = await apiClient.get(`/divisional/combined-access-requests/${requestId}`)\n\n      if (response.data && response.data.success) {\n        console.log('✅ Request retrieved successfully:', requestId)\n        return {\n          success: true,\n          data: response.data.data\n        }\n      } else {\n        throw new Error(response.data?.message || 'Request not found')\n      }\n    } catch (error) {\n      console.error('❌ Error fetching request:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to retrieve request',\n        data: null\n      }\n    }\n  }\n\n  /**\n   * Update Divisional Director approval status for a combined access request\n   * @param {number} requestId - The request ID\n   * @param {Object} approvalData - Approval data (status, comments, etc.)\n   * @returns {Promise<Object>} Response with update result\n   */\n  async updateDivisionalApproval(requestId, approvalData) {\n    try {\n      console.log('🔄 Updating Divisional Director approval for request:', requestId, approvalData)\n\n      const formData = new FormData()\n\n      // Add approval data\n      formData.append('divisional_status', approvalData.status) // 'approved' or 'rejected'\n      formData.append('divisional_comments', approvalData.comments || '')\n      formData.append('divisional_name', approvalData.divisionalName || '')\n      formData.append('divisional_approved_at', new Date().toISOString())\n\n      // Add Divisional Director signature if provided\n      if (approvalData.divisionalSignature) {\n        formData.append('divisional_signature', approvalData.divisionalSignature)\n      }\n\n      // Add module-specific data if provided\n      if (approvalData.moduleData) {\n        formData.append('module_data', JSON.stringify(approvalData.moduleData))\n      }\n\n      // Add access rights if provided\n      if (approvalData.accessRights) {\n        formData.append('access_rights', JSON.stringify(approvalData.accessRights))\n      }\n\n      const response = await apiClient.post(\n        `/divisional/combined-access-requests/${requestId}/approve`,\n        formData\n      )\n\n      if (response.data && response.data.success) {\n        console.log('✅ Divisional Director approval updated successfully:', requestId)\n        return {\n          success: true,\n          data: response.data.data,\n          message: 'Request approval updated successfully'\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to update approval')\n      }\n    } catch (error) {\n      console.error('❌ Error updating Divisional Director approval:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to update approval',\n        errors: error.response?.data?.errors || null\n      }\n    }\n  }\n\n  /**\n   * Cancel a combined access request (Divisional Director action)\n   * @param {number} requestId - The request ID\n   * @param {string} reason - Cancellation reason\n   * @returns {Promise<Object>} Response with cancellation result\n   */\n  async cancelRequest(requestId, reason) {\n    try {\n      console.log('🔄 Cancelling combined access request (Divisional Director):', requestId)\n\n      const response = await apiClient.post(\n        `/divisional/combined-access-requests/${requestId}/cancel`,\n        {\n          reason: reason || 'Cancelled by Divisional Director',\n          cancelled_at: new Date().toISOString()\n        }\n      )\n\n      if (response.data && response.data.success) {\n        console.log('✅ Request cancelled successfully:', requestId)\n        return {\n          success: true,\n          data: response.data.data,\n          message: 'Request cancelled successfully'\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to cancel request')\n      }\n    } catch (error) {\n      console.error('❌ Error cancelling request:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to cancel request'\n      }\n    }\n  }\n\n  /**\n   * Get statistics for Divisional Director dashboard\n   * @returns {Promise<Object>} Response with statistics\n   */\n  async getDivisionalStatistics() {\n    try {\n      console.log('🔄 Fetching Divisional Director statistics...')\n\n      const response = await apiClient.get('/divisional/combined-access-requests/statistics')\n\n      if (response.data && response.data.success) {\n        console.log('✅ Divisional Director statistics retrieved successfully')\n        return {\n          success: true,\n          data: response.data.data\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to retrieve statistics')\n      }\n    } catch (error) {\n      console.error('❌ Error fetching Divisional Director statistics:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to retrieve statistics',\n        data: {\n          pendingDivisional: 0,\n          divisionalApproved: 0,\n          divisionalRejected: 0,\n          total: 0\n        }\n      }\n    }\n  }\n\n  /**\n   * Export Divisional Director requests to Excel/CSV\n   * @param {Object} filters - Export filters\n   * @param {string} format - Export format ('excel' or 'csv')\n   * @returns {Promise<Object>} Response with export result\n   */\n  async exportDivisionalRequests(filters = {}, format = 'excel') {\n    try {\n      console.log('🔄 Exporting Divisional Director requests...', { filters, format })\n\n      const params = new URLSearchParams()\n\n      if (filters.search) params.append('search', filters.search)\n      if (filters.status) params.append('status', filters.status)\n      if (filters.department) params.append('department', filters.department)\n      if (filters.date_from) params.append('date_from', filters.date_from)\n      if (filters.date_to) params.append('date_to', filters.date_to)\n\n      params.append('format', format)\n\n      const response = await apiClient.get(\n        `/divisional/combined-access-requests/export?${params.toString()}`,\n        {\n          responseType: 'blob'\n        }\n      )\n\n      console.log('✅ Export completed successfully')\n      return {\n        success: true,\n        data: response.data,\n        filename:\n          this.getFilenameFromHeaders(response.headers) ||\n          `divisional_requests_${Date.now()}.${format === 'excel' ? 'xlsx' : 'csv'}`\n      }\n    } catch (error) {\n      console.error('❌ Error exporting Divisional Director requests:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to export requests'\n      }\n    }\n  }\n\n  /**\n   * Search requests by multiple criteria (Divisional Director)\n   * @param {Object} criteria - Search criteria\n   * @returns {Promise<Object>} Response with search results\n   */\n  async searchRequests(criteria) {\n    try {\n      console.log('🔄 Searching Divisional Director requests with criteria:', criteria)\n\n      const response = await apiClient.post('/divisional/combined-access-requests/search', criteria)\n\n      if (response.data && response.data.success) {\n        console.log('✅ Search completed successfully:', response.data.data?.length || 0, 'results')\n        return {\n          success: true,\n          data: response.data\n        }\n      } else {\n        throw new Error(response.data?.message || 'Search failed')\n      }\n    } catch (error) {\n      console.error('❌ Error searching requests:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Search failed',\n        data: null\n      }\n    }\n  }\n\n  /**\n   * Bulk approve multiple requests (Divisional Director)\n   * @param {Array} requestIds - Array of request IDs\n   * @param {Object} approvalData - Bulk approval data\n   * @returns {Promise<Object>} Response with bulk approval result\n   */\n  async bulkApprove(requestIds, approvalData) {\n    try {\n      console.log('🔄 Bulk approving requests (Divisional Director):', requestIds.length)\n\n      const response = await apiClient.post('/divisional/combined-access-requests/bulk-approve', {\n        request_ids: requestIds,\n        divisional_comments: approvalData.comments || '',\n        divisional_name: approvalData.divisionalName || '',\n        approved_at: new Date().toISOString()\n      })\n\n      if (response.data && response.data.success) {\n        console.log('✅ Bulk approval completed successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: `${response.data.data.approved_count || 0} requests approved successfully`\n        }\n      } else {\n        throw new Error(response.data?.message || 'Bulk approval failed')\n      }\n    } catch (error) {\n      console.error('❌ Error in bulk approval:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Bulk approval failed',\n        data: null\n      }\n    }\n  }\n\n  /**\n   * Get request history/audit trail (Divisional Director view)\n   * @param {number} requestId - The request ID\n   * @returns {Promise<Object>} Response with request history\n   */\n  async getRequestHistory(requestId) {\n    try {\n      console.log('🔄 Fetching request history (Divisional Director):', requestId)\n\n      const response = await apiClient.get(\n        `/divisional/combined-access-requests/${requestId}/history`\n      )\n\n      if (response.data && response.data.success) {\n        console.log('✅ Request history retrieved successfully')\n        return {\n          success: true,\n          data: response.data.data\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to retrieve request history')\n      }\n    } catch (error) {\n      console.error('❌ Error fetching request history:', error)\n      return {\n        success: false,\n        error:\n          error.response?.data?.message || error.message || 'Failed to retrieve request history',\n        data: []\n      }\n    }\n  }\n\n  /**\n   * Helper method to extract filename from response headers\n   * @param {Object} headers - Response headers\n   * @returns {string|null} Extracted filename\n   */\n  getFilenameFromHeaders(headers) {\n    try {\n      const contentDisposition = headers['content-disposition'] || headers['Content-Disposition']\n      if (contentDisposition) {\n        const filenameMatch = contentDisposition.match(/filename[^;=\\n]*=((['\\\"]).*?\\2|[^;\\n]*)/)\n        if (filenameMatch && filenameMatch[1]) {\n          return filenameMatch[1].replace(/['\"]/g, '')\n        }\n      }\n      return null\n    } catch (error) {\n      console.warn('Could not extract filename from headers:', error)\n      return null\n    }\n  }\n\n  /**\n   * Validate request data before submission (Divisional Director)\n   * @param {Object} requestData - Request data to validate\n   * @returns {Object} Validation result\n   */\n  validateRequestData(requestData) {\n    const errors = []\n\n    if (!requestData.staff_name || requestData.staff_name.trim() === '') {\n      errors.push('Staff name is required')\n    }\n\n    if (!requestData.pf_number || requestData.pf_number.trim() === '') {\n      errors.push('PF Number is required')\n    }\n\n    if (!requestData.department || requestData.department.trim() === '') {\n      errors.push('Department is required')\n    }\n\n    if (!requestData.phone || requestData.phone.trim() === '') {\n      errors.push('Phone number is required')\n    }\n\n    if (!requestData.services || requestData.services.length === 0) {\n      errors.push('At least one service must be selected')\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors: errors\n    }\n  }\n\n  /**\n   * Format request data for display (Divisional Director view)\n   * @param {Object} request - Raw request data\n   * @returns {Object} Formatted request data\n   */\n  formatRequestForDisplay(request) {\n    return {\n      ...request,\n      formattedHodApprovalDate: this.formatDate(\n        request.hod_approved_at || request.hod_approval_date\n      ),\n      formattedHodApprovalTime: this.formatTime(\n        request.hod_approved_at || request.hod_approval_date\n      ),\n      statusText: this.getStatusText(request.divisional_status || request.status),\n      servicesText: this.getServicesText(request.services || request.request_types),\n      requestIdDisplay: request.request_id || `REQ-${request.id.toString().padStart(6, '0')}`\n    }\n  }\n\n  /**\n   * Format date string\n   * @param {string} dateString - Date string to format\n   * @returns {string} Formatted date\n   */\n  formatDate(dateString) {\n    if (!dateString) return 'N/A'\n    const date = new Date(dateString)\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    })\n  }\n\n  /**\n   * Format time string\n   * @param {string} dateString - Date string to format\n   * @returns {string} Formatted time\n   */\n  formatTime(dateString) {\n    if (!dateString) return 'N/A'\n    const date = new Date(dateString)\n    return date.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    })\n  }\n\n  /**\n   * Get status text (Divisional Director context)\n   * @param {string} status - Status code\n   * @returns {string} Human-readable status text\n   */\n  getStatusText(status) {\n    const statusMap = {\n      hod_approved: 'Pending Divisional Approval',\n      divisional_approved: 'Divisional Approved',\n      divisional_rejected: 'Divisional Rejected',\n      cancelled: 'Cancelled',\n      completed: 'Completed'\n    }\n    return statusMap[status] || 'Unknown Status'\n  }\n\n  /**\n   * Get services text\n   * @param {Array} services - Services array\n   * @returns {string} Comma-separated services text\n   */\n  getServicesText(services) {\n    if (!services || services.length === 0) return 'No services'\n\n    const serviceMap = {\n      jeeva: 'Jeeva',\n      jeeva_access: 'Jeeva',\n      wellsoft: 'Wellsoft',\n      internet: 'Internet',\n      internet_access_request: 'Internet'\n    }\n\n    return services.map((service) => serviceMap[service] || service).join(', ')\n  }\n\n  /**\n   * Get detailed timeline for a specific access request (Divisional Director view)\n   * @param {number} requestId - The request ID\n   * @returns {Promise<Object>} Response with timeline data\n   */\n  async getRequestTimeline(requestId) {\n    try {\n      console.log('🔄 DivisionalAccessService: Fetching request timeline:', requestId)\n\n      const response = await apiClient.get(\n        `/divisional/combined-access-requests/${requestId}/timeline`\n      )\n\n      if (response.data && response.data.success) {\n        console.log('✅ DivisionalAccessService: Request timeline loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to load request timeline')\n      }\n    } catch (error) {\n      console.error('❌ DivisionalAccessService: Error fetching request timeline:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to load request timeline'\n      }\n    }\n  }\n}\n\nexport default new DivisionalAccessService()\n","import axios from 'axios'\nimport { devLog } from '../utils/devLogger'\n\nconst API_BASE_URL = process.env.VUE_APP_API_URL || 'http://127.0.0.1:8000/api'\n\n// Create axios instance with default config\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 0, // No timeout - let backend take as long as needed\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  }\n})\n\n// Add auth token to requests and append cache-busting param for GETs\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('auth_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    if (config.method && config.method.toLowerCase() === 'get') {\n      try {\n        const url = new URL(config.url, config.baseURL)\n        url.searchParams.set('_cb', String(Date.now()))\n        config.url = url.pathname + url.search\n      } catch (e) {\n        const sep = (config.url || '').includes('?') ? '&' : '?'\n        config.url = `${config.url}${sep}_cb=${Date.now()}`\n      }\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Centralized response handling so locked / unauthenticated users are\n// sent back to login instead of leaving the ICT dashboard in a broken state.\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const status = error.response?.status\n\n    // Only force-logout on 401 (invalid/expired token).\n    // 403 is a normal \"role doesn't have access\" case in this app and should not clear auth.\n    if (status === 401) {\n      // Clear any stale auth data\n      localStorage.removeItem('auth_token')\n      localStorage.removeItem('user_data')\n      localStorage.removeItem('session_data')\n\n      // Redirect to login/root if not already there\n      if (typeof window !== 'undefined') {\n        const path = window.location.pathname || ''\n        if (path !== '/' && path !== '/login') {\n          window.location.href = '/'\n        }\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nconst ictOfficerService = {\n  /**\n   * Get all access requests approved by Head of IT and available for ICT Officer implementation\n   */\n  async getAccessRequests() {\n    try {\n      devLog.debug('🔄 IctOfficerService: Fetching access requests...')\n      const response = await axiosInstance.get('/ict-officer/access-requests')\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Access requests loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to load access requests:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load access requests'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error fetching access requests:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading access requests'\n      }\n    }\n  },\n\n  /**\n   * Get a specific access request by ID\n   */\n  async getAccessRequestById(requestId) {\n    try {\n      devLog.debug('🔄 IctOfficerService: Fetching access request by ID:', requestId)\n      const response = await axiosInstance.get(`/ict-officer/access-requests/${requestId}`)\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Access request loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to load access request:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load access request'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error fetching access request:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading access request'\n      }\n    }\n  },\n\n  /**\n   * Assign a task to self (ICT Officer takes ownership of implementation)\n   */\n  async assignTaskToSelf(requestId, notes = '') {\n    try {\n      devLog.debug('🔄 IctOfficerService: Assigning task to self:', requestId)\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/assign`,\n        {\n          notes: notes\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Task assigned successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to assign task:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to assign task'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error assigning task:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while assigning task'\n      }\n    }\n  },\n\n  /**\n   * Update progress on an assigned task\n   */\n  async updateProgress(requestId, status, notes = '') {\n    try {\n      devLog.debug('🔄 IctOfficerService: Updating progress:', requestId, status)\n\n      const response = await axiosInstance.put(\n        `/ict-officer/access-requests/${requestId}/progress`,\n        {\n          status: status,\n          notes: notes\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Progress updated successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to update progress:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to update progress'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error updating progress:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while updating progress'\n      }\n    }\n  },\n\n  /**\n   * Update implementation progress with detailed comments and status\n   */\n  async updateImplementationProgress(requestId, status, comments = '') {\n    try {\n      devLog.debug('🔄 IctOfficerService: Updating implementation progress:', requestId, status)\n\n      const payload = {\n        implementation_status: status,\n        implementation_comments: comments\n      }\n\n      // Add timestamp based on status\n      if (status === 'implementation_in_progress') {\n        payload.ict_officer_started_at = new Date().toISOString()\n      } else if (status === 'implemented') {\n        payload.ict_officer_implemented_at = new Date().toISOString()\n      }\n\n      const response = await axiosInstance.put(\n        `/ict-officer/access-requests/${requestId}/implementation`,\n        payload\n      )\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Implementation progress updated successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message || 'Implementation progress updated successfully'\n        }\n      } else {\n        devLog.error(\n          '❌ IctOfficerService: Failed to update implementation progress:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to update implementation progress'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error updating implementation progress:', error)\n      return {\n        success: false,\n        message:\n          error.response?.data?.message || 'Network error while updating implementation progress'\n      }\n    }\n  },\n\n  /**\n   * Cancel an assigned task (unassign from self)\n   */\n  async cancelTask(requestId, reason) {\n    try {\n      devLog.debug('🔄 IctOfficerService: Canceling task:', requestId)\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/cancel`,\n        {\n          reason: reason\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Task canceled successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to cancel task:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to cancel task'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error canceling task:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while canceling task'\n      }\n    }\n  },\n\n  /**\n   * Complete implementation of access request\n   */\n  async completeImplementation(requestId, notes = '', signatureFile = null) {\n    try {\n      devLog.debug('🔄 IctOfficerService: Completing implementation:', requestId)\n\n      const formData = new FormData()\n      formData.append('notes', notes)\n      if (signatureFile) {\n        formData.append('signature', signatureFile)\n      }\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/complete`,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Implementation completed successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(\n          '❌ IctOfficerService: Failed to complete implementation:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to complete implementation'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error completing implementation:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while completing implementation'\n      }\n    }\n  },\n\n  /**\n   * Get detailed timeline for a specific access request\n   */\n  async getRequestTimeline(requestId) {\n    try {\n      devLog.debug('🔄 IctOfficerService: Fetching request timeline:', requestId)\n      const response = await axiosInstance.get(`/ict-officer/access-requests/${requestId}/timeline`)\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Request timeline loaded successfully')\n        return response.data.data\n      } else {\n        devLog.error(\n          '❌ IctOfficerService: Failed to load request timeline:',\n          response.data.message\n        )\n        throw new Error(response.data.message || 'Failed to load request timeline')\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error fetching request timeline:', error)\n      if (error.response) {\n        throw new Error(error.response.data?.message || 'Failed to load timeline data')\n      } else {\n        throw new Error('Network error while loading timeline')\n      }\n    }\n  },\n\n  /**\n   * Get access request timeline (alias for getRequestTimeline)\n   */\n  async getAccessRequestTimeline(requestId) {\n    try {\n      devLog.debug('🔄 IctOfficerService: Fetching access request timeline:', requestId)\n      const response = await axiosInstance.get(`/ict-officer/access-requests/${requestId}/timeline`)\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Access request timeline loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(\n          '❌ IctOfficerService: Failed to load access request timeline:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load access request timeline'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error fetching access request timeline:', error)\n      return {\n        success: false,\n        message:\n          error.response?.data?.message || 'Network error while loading access request timeline'\n      }\n    }\n  },\n\n  /**\n   * Grant access to a request (final step with timeline logging)\n   */\n  async grantAccess(requestId, data) {\n    try {\n      devLog.debug('🔄 IctOfficerService: Granting access for request:', requestId)\n      devLog.debug('Grant access data:', data)\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/grant-access`,\n        {\n          comments: data.comments || '',\n          implementation_status: 'implemented',\n          implementation_completed_at: new Date().toISOString()\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Access granted successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message || 'Access granted successfully'\n        }\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to grant access:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to grant access'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error granting access:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while granting access'\n      }\n    }\n  },\n\n  /**\n   * Get statistics for ICT Officer dashboard\n   */\n  async getStatistics() {\n    try {\n      devLog.debug('🔄 IctOfficerService: Fetching statistics...')\n      const response = await axiosInstance.get('/ict-officer/statistics')\n\n      if (response.data.success) {\n        devLog.debug('✅ IctOfficerService: Statistics loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to load statistics:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load statistics'\n        }\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error fetching statistics:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading statistics'\n      }\n    }\n  },\n\n  /**\n   * Get count of pending access requests for notification badge\n   */\n  async getPendingRequestsCount() {\n    try {\n      devLog.debug('🔄 IctOfficerService: Fetching pending requests count...')\n      const response = await axiosInstance.get('/ict-officer/pending-count')\n\n      if (response.data.success) {\n        // Success logged only in development mode\n        if (process.env.NODE_ENV === 'development') {\n          devLog.debug('✅ IctOfficerService: Pending count loaded successfully')\n        }\n        return response.data.data\n      } else {\n        devLog.error('❌ IctOfficerService: Failed to load pending count:', response.data.message)\n        throw new Error(response.data.message || 'Failed to load pending requests count')\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error fetching pending count:', error)\n      if (error.response) {\n        throw new Error(error.response.data?.message || 'Failed to load pending count')\n      } else {\n        throw new Error('Network error while loading pending count')\n      }\n    }\n  },\n\n  /**\n   * Retry or (re)send SMS notification to the requester for a given access request\n   * Backend-agnostic: sends multiple compatible phone keys and hint flags.\n   */\n  async resendRequesterSms(requestId, requesterPhone = null) {\n    try {\n      devLog.debug('🔄 IctOfficerService: Retrying requester SMS for:', {\n        requestId,\n        requesterPhone\n      })\n\n      const normalizePhone = (p) => {\n        if (!p) return null\n        const s = String(p).trim()\n        const keepPlus = s.startsWith('+')\n        const digits = s.replace(/[^\\d]/g, '')\n        return keepPlus ? `+${digits}` : digits\n      }\n\n      const rawPhone = requesterPhone || null\n      const normalized = normalizePhone(rawPhone)\n\n      const payload = {\n        request_id: requestId,\n        role: 'ict_officer',\n        notification_type: 'requester_access_granted',\n        resend_only: true,\n        force: true,\n        force_resend: true,\n        resend_sms: true,\n        send_sms: true,\n        send_sms_to_requester: true,\n        notification_channel: 'sms',\n        // Phone compatibility keys (ignored if not recognized)\n        requester_phone: rawPhone || undefined,\n        requester_phone_number: rawPhone || undefined,\n        requester_msisdn: normalized || undefined,\n        staff_phone: rawPhone || undefined,\n        staff_phone_number: rawPhone || undefined,\n        recipient_phone: normalized || undefined,\n        destination_phone: normalized || undefined,\n        phone_number: normalized || undefined,\n        msisdn: normalized || undefined,\n        contact_phone: normalized || undefined\n      }\n\n      // Try multiple endpoints in order of preference\n      let response\n      const endpoints = [\n        `/ict-officer/access-requests/${requestId}/notify`,\n        `/ict-officer/access-requests/${requestId}/resend-sms`,\n        `/ict-officer/access-requests/${requestId}/send-notification`,\n        `/ict-officer/access-requests/${requestId}/grant-access`,\n        `/ict-officer/notify`,\n        `/ict-officer/resend-sms`\n      ]\n\n      let lastError\n      for (let i = 0; i < endpoints.length; i++) {\n        try {\n          devLog.debug(`🔄 Trying endpoint ${i + 1}/${endpoints.length}: ${endpoints[i]}`)\n          response = await axiosInstance.post(endpoints[i], payload)\n          devLog.debug(`✅ Success with endpoint: ${endpoints[i]}`)\n          break\n        } catch (e) {\n          console.warn(\n            `❌ Endpoint ${endpoints[i]} failed:`,\n            e.response?.status,\n            e.response?.data?.message || e.message\n          )\n          lastError = e\n          if (i === endpoints.length - 1) {\n            devLog.error('🚫 All endpoints failed for SMS retry')\n            throw lastError\n          }\n        }\n      }\n\n      if (response.data?.success) {\n        devLog.debug('✅ IctOfficerService: Requester SMS retry triggered successfully')\n        return { success: true, data: response.data.data, message: response.data.message }\n      }\n\n      return {\n        success: false,\n        message: response.data?.message || 'Failed to trigger SMS retry'\n      }\n    } catch (error) {\n      devLog.error('❌ IctOfficerService: Error retrying requester SMS:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while retrying SMS'\n      }\n    }\n  }\n}\n\nexport default ictOfficerService\n","<template>\n  <footer\n    class=\"bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 text-white py-4 px-6 border-t border-blue-600/40 shadow-lg backdrop-blur-sm relative\"\n    style=\"position: relative; z-index: 1; margin-top: auto\"\n  >\n    <div class=\"flex flex-col md:flex-row justify-between items-center\">\n      <div class=\"text-base text-blue-100 flex items-center space-x-2\">\n        <div\n          class=\"w-6 h-6 bg-blue-600/30 rounded-full flex items-center justify-center border border-blue-500/40\"\n        >\n          <i class=\"fas fa-hospital text-blue-300 text-sm\"></i>\n        </div>\n        <p class=\"font-medium\">\n          &copy; {{ currentYear }} Muhimbili National Hospital. All rights reserved.\n        </p>\n      </div>\n    </div>\n  </footer>\n</template>\n\n<script>\n  export default {\n    name: 'AppFooter',\n    computed: {\n      currentYear() {\n        return new Date().getFullYear()\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /* Footer specific styles */\n  footer {\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n  }\n\n  /* Icon hover effects */\n  .w-6.h-6:hover {\n    transform: scale(1.1);\n    transition: transform 0.2s ease;\n  }\n\n  /* Text hover effects */\n  p:hover {\n    color: rgba(219, 234, 254, 1);\n    transition: color 0.2s ease;\n  }\n\n  /* Responsive adjustments */\n  @media (max-width: 768px) {\n    .flex.flex-col {\n      text-align: center;\n    }\n\n    .space-x-2 {\n      justify-content: center;\n    }\n  }\n\n  /* Animation for icons */\n  @keyframes pulse {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.7;\n    }\n  }\n\n  .fas {\n    animation: pulse 3s ease-in-out infinite;\n  }\n</style>\n","import { render } from \"./footer.vue?vue&type=template&id=2f68623d&scoped=true\"\nimport script from \"./footer.vue?vue&type=script&lang=js\"\nexport * from \"./footer.vue?vue&type=script&lang=js\"\n\nimport \"./footer.vue?vue&type=style&index=0&id=2f68623d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2f68623d\"]])\n\nexport default __exports__","import apiClient from '../utils/apiClient'\n\n/**\n * ICT Director Access Service\n * Handles all API calls for ICT Director access request management\n */\nconst dictAccessService = {\n  /**\n   * Get all combined access requests for ICT Director approval\n   * @param {Object} params - Query parameters\n   * @returns {Promise<Object>}\n   */\n  async getDictRequests(params = {}) {\n    try {\n      const response = await apiClient.get('/ict-director/combined-access-requests', { params })\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      console.error('Error fetching ICT Director requests:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to fetch requests'\n      }\n    }\n  },\n\n  /**\n   * Get a specific combined access request by ID\n   * @param {number} requestId - The request ID\n   * @returns {Promise<Object>}\n   */\n  async getDictRequest(requestId) {\n    try {\n      const response = await apiClient.get(`/ict-director/combined-access-requests/${requestId}`)\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      console.error('Error fetching ICT Director request:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to fetch request'\n      }\n    }\n  },\n\n  /**\n   * Update ICT Director approval for a combined access request\n   * @param {number} requestId - The request ID\n   * @param {Object} approvalData - The approval data\n   * @returns {Promise<Object>}\n   */\n  async updateDictApproval(requestId, approvalData) {\n    try {\n      const response = await apiClient.post(\n        `/ict-director/combined-access-requests/${requestId}/approve`,\n        approvalData\n      )\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      console.error('Error updating ICT Director approval:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to update approval'\n      }\n    }\n  },\n\n  /**\n   * Cancel a combined access request\n   * @param {number} requestId - The request ID\n   * @param {string} reason - Cancellation reason\n   * @returns {Promise<Object>}\n   */\n  async cancelRequest(requestId, reason) {\n    try {\n      const response = await apiClient.post(\n        `/ict-director/combined-access-requests/${requestId}/cancel`,\n        {\n          reason\n        }\n      )\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      console.error('Error cancelling request:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to cancel request'\n      }\n    }\n  },\n\n  /**\n   * Get statistics for ICT Director dashboard\n   * @returns {Promise<Object>}\n   */\n  async getDictStatistics() {\n    try {\n      const response = await apiClient.get('/ict-director/combined-access-requests/statistics')\n      return {\n        success: true,\n        data: response.data.data || response.data\n      }\n    } catch (error) {\n      console.error('Error fetching ICT Director statistics:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to fetch statistics'\n      }\n    }\n  },\n\n  /**\n   * Approve a combined access request as ICT Director\n   * @param {number} requestId - The request ID\n   * @param {Object} data - Approval data including comments\n   * @returns {Promise<Object>}\n   */\n  async approveRequest(requestId, data = {}) {\n    return await this.updateDictApproval(requestId, {\n      dict_status: 'approved',\n      dict_comments: data.comments || '',\n      dict_name: data.name || ''\n    })\n  },\n\n  /**\n   * Reject a combined access request as ICT Director\n   * @param {number} requestId - The request ID\n   * @param {Object} data - Rejection data including comments\n   * @returns {Promise<Object>}\n   */\n  async rejectRequest(requestId, data = {}) {\n    return await this.updateDictApproval(requestId, {\n      dict_status: 'rejected',\n      dict_comments: data.comments || '',\n      dict_name: data.name || ''\n    })\n  },\n\n  /**\n   * Get dict recommendations for divisional directors\n   * Shows requests that have ict_director_comments populated (rejections, approvals, recommendations)\n   * @param {Object} params - Query parameters\n   * @returns {Promise<Object>}\n   */\n  async getDictRecommendations(params = {}) {\n    try {\n      // Primary endpoint for dict recommendations\n      const response = await apiClient.get('/divisional/dict-recommendations', { params })\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      console.error('Error fetching dict recommendations:', error)\n\n      // Fallback: try to get requests with ict_director_comments from combined requests\n      try {\n        console.log('Trying fallback: combined-access-requests with ict_director_comments filter')\n        const fallbackResponse = await apiClient.get('/divisional/combined-access-requests', {\n          params: {\n            ...params,\n            has_ict_director_comments: true // Filter for requests with comments\n          }\n        })\n\n        console.log('Fallback response structure:', {\n          hasData: !!fallbackResponse.data,\n          dataType: typeof fallbackResponse.data,\n          hasDataData: !!fallbackResponse.data?.data,\n          dataDataType: typeof fallbackResponse.data?.data,\n          isDataArray: Array.isArray(fallbackResponse.data?.data)\n        })\n\n        // Filter results to only include requests with actual ict_director_comments\n        // Ensure we have a valid array to work with\n        const responseData = fallbackResponse.data?.data || []\n        const dataArray = Array.isArray(responseData) ? responseData : []\n\n        const filteredData = {\n          ...fallbackResponse.data,\n          data: dataArray.filter(\n            (request) =>\n              request.ict_director_comments && request.ict_director_comments.trim() !== ''\n          )\n        }\n\n        return {\n          success: true,\n          data: filteredData\n        }\n      } catch (fallbackError) {\n        console.error('Fallback also failed:', fallbackError)\n        return {\n          success: false,\n          error:\n            error.response?.data?.message || error.message || 'Failed to fetch dict recommendations'\n        }\n      }\n    }\n  },\n\n  /**\n   * Submit divisional director response to ICT Director\n   * @param {number} requestId - The request ID\n   * @param {Object} responseData - Response data\n   * @returns {Promise<Object>}\n   */\n  async submitDivisionalResponse(requestId, responseData) {\n    try {\n      const response = await apiClient.post(\n        `/divisional/respond-to-dict/${requestId}`,\n        responseData\n      )\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      console.error('Error submitting divisional response:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to submit response'\n      }\n    }\n  },\n\n  /**\n   * Get detailed timeline for a specific access request (ICT Director view)\n   * @param {number} requestId - The request ID\n   * @returns {Promise<Object>}\n   */\n  async getRequestTimeline(requestId) {\n    try {\n      console.log('🔄 DictAccessService: Fetching request timeline:', requestId)\n      const response = await apiClient.get(\n        `/ict-director/combined-access-requests/${requestId}/timeline`\n      )\n\n      if (response.data && response.data.success) {\n        console.log('✅ DictAccessService: Request timeline loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to load request timeline')\n      }\n    } catch (error) {\n      console.error('❌ DictAccessService: Error fetching request timeline:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to load request timeline'\n      }\n    }\n  }\n}\n\nexport default dictAccessService\n","import axios from 'axios'\n\nconst API_BASE_URL = process.env.VUE_APP_API_URL || 'http://127.0.0.1:8000/api'\n\n// Create axios instance with default config\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  }\n})\n\n// Add auth token to requests\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('auth_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\nconst headOfItService = {\n  /**\n   * Get all requests that have reached Head of IT stage (pending, approved, rejected)\n   */\n  async getPendingRequests() {\n    try {\n      console.log('🔄 HeadOfItService: Fetching all requests...')\n      const response = await axiosInstance.get('/head-of-it/all-requests')\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: All requests loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to load pending requests:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load pending requests'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching pending requests:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading requests'\n      }\n    }\n  },\n\n  /**\n   * Get a specific request by ID\n   */\n  async getRequestById(requestId) {\n    try {\n      console.log('🔄 HeadOfItService: Fetching request by ID:', requestId)\n      const response = await axiosInstance.get(`/head-of-it/requests/${requestId}`)\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: Request loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to load request:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load request'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching request:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading request'\n      }\n    }\n  },\n\n  /**\n   * Approve a request\n   */\n  async approveRequest(requestId, signatureFile) {\n    try {\n      console.log('🔄 HeadOfItService: Approving request:', requestId)\n\n      const formData = new FormData()\n      formData.append('signature', signatureFile)\n      formData.append('action', 'approve')\n\n      const response = await axiosInstance.post(\n        `/head-of-it/requests/${requestId}/approve`,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      )\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: Request approved successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to approve request:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to approve request'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error approving request:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while approving request'\n      }\n    }\n  },\n\n  /**\n   * Reject a request\n   */\n  async rejectRequest(requestId, signatureFile, reason) {\n    try {\n      console.log('🔄 HeadOfItService: Rejecting request:', requestId)\n\n      const formData = new FormData()\n      formData.append('signature', signatureFile)\n      formData.append('action', 'reject')\n      formData.append('reason', reason)\n\n      const response = await axiosInstance.post(\n        `/head-of-it/requests/${requestId}/reject`,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      )\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: Request rejected successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to reject request:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to reject request'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error rejecting request:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while rejecting request'\n      }\n    }\n  },\n\n  /**\n   * Get list of available ICT Officers\n   * @param {number} requestId - Optional request ID to get SMS status for assigned officers\n   */\n  async getIctOfficers(requestId = null) {\n    try {\n      console.log('🔄 HeadOfItService: Fetching ICT officers...', { requestId })\n      const url = requestId\n        ? `/head-of-it/ict-officers?request_id=${requestId}`\n        : '/head-of-it/ict-officers'\n      const response = await axiosInstance.get(url)\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: ICT officers loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to load ICT officers:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load ICT officers'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching ICT officers:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading ICT officers'\n      }\n    }\n  },\n\n  /**\n   * Assign a task to an ICT Officer\n   */\n  async assignTaskToIctOfficer(requestId, ictOfficerId, notifyPhone = null, forceReassign = false) {\n    try {\n      console.log('🔄 HeadOfItService: Assigning task to ICT officer:', {\n        requestId,\n        ictOfficerId,\n        notifyPhone,\n        forceReassign\n      })\n\n      // Prefer new endpoint (UserAccess system). Fallback to legacy if unavailable\n      const tryNewEndpoint = async () => {\n        const payloadNew = {\n          user_access_id: requestId,\n          ict_officer_user_id: ictOfficerId,\n          // Optional flags; backend ignores if not used\n          force_reassign: !!forceReassign\n        }\n        return axiosInstance.post('/head-of-it/assign-ict-task', payloadNew, { timeout: 20000 })\n      }\n\n      const tryLegacyEndpoint = async () => {\n        // Normalize phone for compatibility (optional; backend ignores unknown keys)\n        const normalizePhone = (p) => {\n          if (!p) return null\n          const s = String(p).trim()\n          const keepPlus = s.startsWith('+')\n          const digits = s.replace(/[^\\d]/g, '')\n          return keepPlus ? `+${digits}` : digits\n        }\n        const rawPhone = notifyPhone || null\n        const normalizedPhone = normalizePhone(rawPhone)\n\n        const payloadLegacy = {\n          request_id: requestId,\n          ict_officer_id: ictOfficerId,\n          notify_phone: rawPhone || undefined,\n          ict_officer_phone: normalizedPhone || undefined,\n          send_sms: true,\n          send_sms_to_ict_officer: true,\n          notify_ict_officer: true,\n          notification_channel: 'sms',\n          force_reassign: !!forceReassign\n        }\n        return axiosInstance.post('/head-of-it/assign-task', payloadLegacy, { timeout: 20000 })\n      }\n\n      let response\n      try {\n        response = await tryNewEndpoint()\n      } catch (err) {\n        const status = err?.response?.status\n        // Fallback on 404/405/501 style errors (route not found or not allowed)\n        if (status === 404 || status === 405 || status === 501) {\n          console.warn(\n            'HeadOfItService: New assignment endpoint unavailable, falling back to legacy'\n          )\n          response = await tryLegacyEndpoint()\n        } else {\n          throw err\n        }\n      }\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: Task assigned successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to assign task:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to assign task'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error assigning task:', error)\n      // Surface validation errors if present\n      const validationErrors = error.response?.data?.errors\n      const message =\n        (validationErrors && Object.values(validationErrors).flat().join(' ')) ||\n        error.response?.data?.message ||\n        error.message ||\n        'Network error while assigning task'\n      return {\n        success: false,\n        message\n      }\n    }\n  },\n\n  /**\n   * Get task assignment history\n   */\n  async getTaskHistory(requestId) {\n    try {\n      console.log('🔄 HeadOfItService: Fetching task history for request:', requestId)\n      const response = await axiosInstance.get(`/head-of-it/tasks/${requestId}/history`)\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: Task history loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to load task history:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load task history'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching task history:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading task history'\n      }\n    }\n  },\n\n  /**\n   * Cancel task assignment\n   */\n  async cancelTaskAssignment(requestId) {\n    try {\n      console.log('🔄 HeadOfItService: Canceling task assignment for request:', requestId)\n\n      // Try new endpoint first (UserAccess system), fallback to legacy\n      const tryNewEndpoint = () =>\n        axiosInstance.post(`/head-of-it/ict-tasks/${requestId}/cancel`, null, { timeout: 15000 })\n      const tryLegacyEndpoint = () =>\n        axiosInstance.post(`/head-of-it/tasks/${requestId}/cancel`, null, { timeout: 15000 })\n\n      let response\n      try {\n        response = await tryNewEndpoint()\n      } catch (err) {\n        const status = err?.response?.status\n        if (status === 404 || status === 405 || status === 501) {\n          console.warn('HeadOfItService: New cancel endpoint unavailable, falling back to legacy')\n          response = await tryLegacyEndpoint()\n        } else {\n          throw err\n        }\n      }\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: Task assignment canceled successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error(\n          '❌ HeadOfItService: Failed to cancel task assignment:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to cancel task assignment'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error canceling task assignment:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while canceling task assignment'\n      }\n    }\n  },\n\n  /**\n   * Get ICT Director recommendations for Head of IT\n   */\n  async getDictRecommendations(params = {}) {\n    try {\n      console.log('🔄 HeadOfItService: Fetching DICT recommendations...', params)\n\n      const response = await axiosInstance.get('/head-of-it/dict-recommendations', {\n        params\n      })\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: DICT recommendations loaded successfully')\n        return {\n          success: true,\n          data: response.data,\n          message: response.data.message\n        }\n      } else {\n        console.error(\n          '❌ HeadOfItService: Failed to load DICT recommendations:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load DICT recommendations'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching DICT recommendations:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading DICT recommendations'\n      }\n    }\n  },\n\n  /**\n   * Get DICT recommendation statistics for Head of IT\n   */\n  async getDictRecommendationStats() {\n    try {\n      console.log('🔄 HeadOfItService: Fetching DICT recommendation statistics...')\n      const response = await axiosInstance.get('/head-of-it/dict-recommendations/stats')\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: DICT recommendation statistics loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to load statistics:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load statistics'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching statistics:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading statistics'\n      }\n    }\n  },\n\n  /**\n   * Get detailed DICT recommendation for a specific request\n   */\n  async getDictRecommendationDetails(userAccessId) {\n    try {\n      console.log('🔄 HeadOfItService: Fetching DICT recommendation details for:', userAccessId)\n      const response = await axiosInstance.get(\n        `/head-of-it/dict-recommendations/${userAccessId}/details`\n      )\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: DICT recommendation details loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error(\n          '❌ HeadOfItService: Failed to load recommendation details:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load recommendation details'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching recommendation details:', error)\n      return {\n        success: false,\n        message:\n          error.response?.data?.message || 'Network error while loading recommendation details'\n      }\n    }\n  },\n\n  /**\n   * Get detailed timeline for a specific access request (Head of IT view)\n   */\n  async getRequestTimeline(requestId) {\n    try {\n      console.log('🔄 HeadOfItService: Fetching request timeline:', requestId)\n      const response = await axiosInstance.get(`/head-of-it/requests/${requestId}/timeline`)\n\n      if (response.data.success) {\n        console.log('✅ HeadOfItService: Request timeline loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        console.error('❌ HeadOfItService: Failed to load request timeline:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load request timeline'\n        }\n      }\n    } catch (error) {\n      console.error('❌ HeadOfItService: Error fetching request timeline:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading request timeline'\n      }\n    }\n  }\n}\n\nexport default headOfItService\n"],"names":["class","fill","viewBox","$props","show","_createElementBlock","onClick","_cache","_withModifiers","args","$options","close","_createElementVNode","_hoisted_1","_hoisted_2","normalizedRequest","_hoisted_3","_toDisplayString","display_id","staff_name","stroke","d","_hoisted_4","$data","loading","_hoisted_5","error","_hoisted_6","_hoisted_7","loadTimeline","timelineData","_hoisted_8","_hoisted_9","_hoisted_10","id","hasUserSigned","handleSignDocument","disabled","isSigning","title","_hoisted_11","_hoisted_12","_hoisted_13","pf_number","department_name","request_type_name","access_type_name","_hoisted_14","formatDateTime","created_at","signatures","length","_hoisted_15","_hoisted_16","_Fragment","_renderList","s","key","user_name","signed_at","signature_preview","_hoisted_17","timelineSteps","step","index","_normalizeClass","status","getStepIconClasses","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","getStatusClasses","statusLabel","style","_normalizeStyle","getStatusStyle","_hoisted_24","actor","_hoisted_25","_hoisted_26","position","_hoisted_27","timestamp","_hoisted_28","_hoisted_29","comments","_hoisted_30","_hoisted_31","request","divisional_status","hod_status","_hoisted_32","_hoisted_33","hasSignature","_hoisted_34","rejectionReasons","_hoisted_35","_hoisted_36","reason","assignedOfficer","_hoisted_37","_hoisted_38","canUpdateImplementation","showUpdateForm","_hoisted_39","openUpdateForm","_hoisted_40","_hoisted_41","_hoisted_42","closeUpdateForm","onSubmit","updateImplementationProgress","for","updateForm","$event","required","value","rows","placeholder","updateError","_hoisted_43","_hoisted_44","type","updating","_hoisted_46","cx","cy","r","_hoisted_47","_hoisted_48","_hoisted_49","canShowUpdateProgressButton","openUpdateProgress","onMouseenter","target","backgroundColor","onMouseleave","name","props","Boolean","default","requestId","Number","String","emits","data","setup","hasRole","ROLES","user","useAuth","currentUser","computed","this","request_info","requestTypes","Array","isArray","request_types","request_type","services","requestTypeName","join","request_id","padStart","staffName","full_name","employee_name","applicant_name","requester_name","requester","profile","pfNumber","PF_NUMBER","pf","employee_id","employee_no","employeeNumber","pf_number_display","department","label","departmentLabel","department_label","dept","department_id","access_type","submission_date","createdAt","isIctOfficer","ICT_OFFICER","isIctDirector","ICT_DIRECTOR","isDivisionalDirector","DIVISIONAL_DIRECTOR","isHeadOfIT","HEAD_OF_IT","isHeadOfDepartment","HEAD_OF_DEPARTMENT","currentService","ictOfficerService","dictAccessService","divisionalAccessService","headOfItService","combinedAccessService","ict_officer_user_id","ict_officer_implemented_at","ict_officer_status","canUpdate","steps","push","signature_path","hodStatus","getApprovalStatus","hodActor","hod_name","hod_approved_by_name","approved_by_name","hodTimestamp","hod_approved_at","hod_rejected_at","updated_at","hod_comments","hod_signature_path","divStatus","divisionalActor","divisional_director_name","divisional_name","divisional_approved_by_name","divisionalTimestamp","divisional_approved_at","divisional_rejected_at","divisionalComments","divisional_director_comments","divisional_comments","divisional_director_signature_path","ictDirStatus","ictDirectorActor","ict_director_name","dict_director_name","ict_director_approved_by_name","ictDirectorTimestamp","ict_director_approved_at","dict_approved_at","ictDirectorComments","ict_director_comments","dict_comments","dict_signature_path","ict_director_rejection_reasons","headItStatus","headItActor","head_it_name","head_of_it_name","head_it_approved_by_name","headItTimestamp","head_it_approved_at","head_it_rejected_at","headItComments","head_it_comments","head_it_signature_path","implementationStatus","implementationLabel","implementationTimestamp","ict_officer_rejected_at","getValidTimestamp","ict_officer_started_at","ict_officer_assigned_at","overallIndex","getOverallProgressIndex","officerName","ict_officer_name","assigned_ict_officer","ict_officer","officerComments","implementation_comments","ict_officer_comments","ict_implementation_comments","ict_implementation_comment","ict_implementation_details","officerTimestamp","ict_officer_signature_path","cancelled_at","cancelled_by","cancellation_reason","watch","newVal","oldVal","methods","chain","loaded","lastError","svc","result","getRequestTimeline","undefined","success","Error","message","e","req","r1","getHodRequestById","r2a","getRequestById","r2","getAccessRequestById","ict_assignments","docId","res","list","me","find","user_id","console","warn","response","$emit","sign","showSuccessMessage","successDiv","document","createElement","className","innerHTML","body","appendChild","setTimeout","parentNode","transform","opacity","removeChild","stage","statusField","approvedField","approvedAt","progress","stageIndexMap","hod","divisional","ict_director","head_it","stageIndex","activeLabel","isPreviousStageComplete","assignmentStatus","assignmentLabel","toString","map","pending","pending_hod","hod_approved","pending_divisional","divisional_approved","pending_ict_director","ict_director_approved","dict_approved","pending_head_it","head_it_approved","pending_ict_officer","implementation_in_progress","implemented","approved","completed","currentStage","stages","currentIndex","indexOf","previousStage","previousStatusField","previousApprovedField","toLowerCase","includes","date","Date","isNaN","getTime","getFullYear","dateTime","toLocaleString","year","month","day","hour","minute","__exports__","render","DivisionalAccessService","getDivisionalRequests","filters","params","URLSearchParams","search","append","per_page","page","apiClient","get","updateDivisionalApproval","approvalData","formData","FormData","divisionalName","toISOString","divisionalSignature","moduleData","JSON","stringify","accessRights","post","errors","cancelRequest","getDivisionalStatistics","pendingDivisional","divisionalApproved","divisionalRejected","total","exportDivisionalRequests","format","date_from","date_to","responseType","filename","getFilenameFromHeaders","headers","now","searchRequests","criteria","bulkApprove","requestIds","request_ids","approved_at","approved_count","getRequestHistory","contentDisposition","filenameMatch","match","replace","validateRequestData","requestData","trim","phone","isValid","formatRequestForDisplay","formattedHodApprovalDate","formatDate","hod_approval_date","formattedHodApprovalTime","formatTime","statusText","getStatusText","servicesText","getServicesText","requestIdDisplay","dateString","toLocaleDateString","toLocaleTimeString","statusMap","divisional_rejected","cancelled","serviceMap","jeeva","jeeva_access","wellsoft","internet","internet_access_request","service","API_BASE_URL","process","axiosInstance","axios","create","baseURL","timeout","Accept","interceptors","use","config","token","localStorage","getItem","Authorization","method","url","URL","searchParams","set","pathname","sep","Promise","reject","removeItem","window","path","location","href","getAccessRequests","devLog","debug","assignTaskToSelf","notes","updateProgress","put","payload","implementation_status","cancelTask","completeImplementation","signatureFile","getAccessRequestTimeline","grantAccess","implementation_completed_at","getStatistics","getPendingRequestsCount","resendRequesterSms","requesterPhone","normalizePhone","p","keepPlus","startsWith","digits","rawPhone","normalized","role","notification_type","resend_only","force","force_resend","resend_sms","send_sms","send_sms_to_requester","notification_channel","requester_phone","requester_phone_number","requester_msisdn","staff_phone","staff_phone_number","recipient_phone","destination_phone","phone_number","msisdn","contact_phone","endpoints","i","currentYear","getDictRequests","getDictRequest","updateDictApproval","getDictStatistics","approveRequest","dict_status","dict_name","rejectRequest","getDictRecommendations","fallbackResponse","has_ict_director_comments","responseData","dataArray","filteredData","filter","fallbackError","submitDivisionalResponse","getPendingRequests","getIctOfficers","assignTaskToIctOfficer","ictOfficerId","notifyPhone","forceReassign","tryNewEndpoint","async","payloadNew","user_access_id","force_reassign","tryLegacyEndpoint","normalizedPhone","payloadLegacy","ict_officer_id","notify_phone","ict_officer_phone","send_sms_to_ict_officer","notify_ict_officer","err","validationErrors","Object","values","flat","getTaskHistory","cancelTaskAssignment","getDictRecommendationStats","getDictRecommendationDetails","userAccessId"],"ignoreList":[],"sourceRoot":""}