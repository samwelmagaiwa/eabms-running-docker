{"version":3,"file":"js/3631.3c3f736b.js","mappings":"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","sources":["webpack://frontend/./src/components/common/UpdateProgress.vue","webpack://frontend/./src/components/common/UpdateProgress.vue?4f20","webpack://frontend/./src/components/views/ict-officer/AccessRequests.vue","webpack://frontend/./src/components/views/ict-officer/AccessRequests.vue?0fe1","webpack://frontend/./src/services/apiClient.js"],"sourcesContent":["<template>\n  <div v-if=\"show\" class=\"mt-6 bg-white rounded-lg shadow-sm border border-gray-200\">\n    <!-- Header -->\n    <div class=\"flex items-center justify-between p-4 border-b border-gray-200\">\n      <h3 class=\"text-lg font-semibold text-gray-900 flex items-center\">\n        <svg\n          class=\"w-5 h-5 mr-2 text-blue-600\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n          />\n        </svg>\n        Update Implementation Progress\n      </h3>\n      <span\n        class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\"\n        :class=\"getRequestStatusClasses(requestData?.status)\"\n      >\n        {{ getRequestStatusLabel(requestData?.status) }}\n      </span>\n    </div>\n\n    <!-- Request Information -->\n    <div class=\"p-4 bg-gray-50 border-b border-gray-200\">\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n        <div>\n          <span class=\"font-medium text-gray-700\">Request ID:</span>\n          <span class=\"ml-2 text-gray-900\">\n            {{ requestData?.request_id || `REQ-${requestData?.id?.toString().padStart(6, '0')}` }}\n          </span>\n        </div>\n        <div>\n          <span class=\"font-medium text-gray-700\">Staff Name:</span>\n          <span class=\"ml-2 text-gray-900\">{{ requestData?.staff_name || 'N/A' }}</span>\n        </div>\n        <div>\n          <span class=\"font-medium text-gray-700\">Department:</span>\n          <span class=\"ml-2 text-gray-900\">{{ requestData?.department_name || 'N/A' }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Progress Status Options -->\n    <div class=\"p-4\">\n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n        <!-- In Progress Card -->\n        <div\n          :class=\"[\n            'p-4 rounded-lg border-2 cursor-pointer transition-all duration-200',\n            selectedStatus === 'implementation_in_progress'\n              ? 'border-blue-500 bg-blue-50'\n              : 'border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-25'\n          ]\"\n          @click=\"selectStatus('implementation_in_progress')\"\n        >\n          <div class=\"flex items-center\">\n            <div\n              :class=\"[\n                'w-4 h-4 rounded-full border-2 mr-3',\n                selectedStatus === 'implementation_in_progress'\n                  ? 'border-blue-500 bg-blue-500'\n                  : 'border-gray-300'\n              ]\"\n            >\n              <div\n                v-if=\"selectedStatus === 'implementation_in_progress'\"\n                class=\"w-2 h-2 bg-white rounded-full m-0.5\"\n              ></div>\n            </div>\n            <div>\n              <div\n                :class=\"[\n                  'font-semibold text-base',\n                  selectedStatus === 'implementation_in_progress'\n                    ? 'text-blue-900'\n                    : 'text-gray-700'\n                ]\"\n              >\n                In Progress\n              </div>\n              <div class=\"text-sm text-gray-500\">Implementation has started</div>\n            </div>\n          </div>\n          <div class=\"mt-2 flex items-center text-sm text-blue-600\">\n            <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n              />\n            </svg>\n            Working on it\n          </div>\n        </div>\n\n        <!-- Completed Card -->\n        <div\n          :class=\"[\n            'p-4 rounded-lg border-2 cursor-pointer transition-all duration-200',\n            selectedStatus === 'implemented'\n              ? 'border-green-500 bg-green-50'\n              : 'border-gray-200 bg-white hover:border-green-300 hover:bg-green-25'\n          ]\"\n          @click=\"selectStatus('implemented')\"\n        >\n          <div class=\"flex items-center\">\n            <div\n              :class=\"[\n                'w-4 h-4 rounded-full border-2 mr-3',\n                selectedStatus === 'implemented'\n                  ? 'border-green-500 bg-green-500'\n                  : 'border-gray-300'\n              ]\"\n            >\n              <div\n                v-if=\"selectedStatus === 'implemented'\"\n                class=\"w-2 h-2 bg-white rounded-full m-0.5\"\n              ></div>\n            </div>\n            <div>\n              <div\n                :class=\"[\n                  'font-semibold text-base',\n                  selectedStatus === 'implemented' ? 'text-green-900' : 'text-gray-700'\n                ]\"\n              >\n                Completed\n              </div>\n              <div class=\"text-sm text-gray-500\">Implementation finished</div>\n            </div>\n          </div>\n          <div class=\"mt-2 flex items-center text-sm text-green-600\">\n            <svg class=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n                clip-rule=\"evenodd\"\n              />\n            </svg>\n            All done\n          </div>\n        </div>\n\n        <!-- Rejected Card -->\n        <div\n          :class=\"[\n            'p-4 rounded-lg border-2 cursor-pointer transition-all duration-200',\n            selectedStatus === 'rejected'\n              ? 'border-red-500 bg-red-50'\n              : 'border-gray-200 bg-white hover:border-red-300 hover:bg-red-25'\n          ]\"\n          @click=\"selectStatus('rejected')\"\n        >\n          <div class=\"flex items-center\">\n            <div\n              :class=\"[\n                'w-4 h-4 rounded-full border-2 mr-3',\n                selectedStatus === 'rejected' ? 'border-red-500 bg-red-500' : 'border-gray-300'\n              ]\"\n            >\n              <div\n                v-if=\"selectedStatus === 'rejected'\"\n                class=\"w-2 h-2 bg-white rounded-full m-0.5\"\n              ></div>\n            </div>\n            <div>\n              <div\n                :class=\"[\n                  'font-semibold text-base',\n                  selectedStatus === 'rejected' ? 'text-red-900' : 'text-gray-700'\n                ]\"\n              >\n                Rejected\n              </div>\n              <div class=\"text-sm text-gray-500\">Cannot be implemented</div>\n            </div>\n          </div>\n          <div class=\"mt-2 flex items-center text-sm text-red-600\">\n            <svg class=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n            Issue found\n          </div>\n        </div>\n      </div>\n\n      <!-- Comments Section -->\n      <div class=\"mb-6\">\n        <label for=\"comments\" class=\"block text-sm font-medium text-gray-700 mb-2\">\n          Implementation Comments\n          <span class=\"text-gray-500 font-normal\">(Optional)</span>\n        </label>\n        <textarea\n          id=\"comments\"\n          v-model=\"comments\"\n          rows=\"4\"\n          placeholder=\"Add details about the implementation progress, any issues encountered, or completion notes...\"\n          class=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm\"\n        ></textarea>\n        <div class=\"mt-1 text-xs text-gray-500\">{{ comments.length }}/500 characters</div>\n      </div>\n\n      <!-- Error Message -->\n      <div v-if=\"error\" class=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n        <div class=\"flex items-center\">\n          <svg class=\"w-4 h-4 text-red-600 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path\n              fill-rule=\"evenodd\"\n              d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\"\n              clip-rule=\"evenodd\"\n            />\n          </svg>\n          <span class=\"text-red-700 text-sm\">{{ error }}</span>\n        </div>\n      </div>\n\n      <!-- Action Buttons -->\n      <div class=\"flex justify-end space-x-3\">\n        <button\n          @click=\"close\"\n          class=\"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"updateProgress\"\n          :disabled=\"!selectedStatus || updating\"\n          class=\"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\n        >\n          <svg v-if=\"updating\" class=\"w-4 h-4 mr-2 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle\n              class=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              stroke-width=\"4\"\n            ></circle>\n            <path\n              class=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            ></path>\n          </svg>\n          <svg v-else class=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n            />\n          </svg>\n          <span v-if=\"updating\">Updating...</span>\n          <span v-else>Update Progress</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import ictOfficerService from '@/services/ictOfficerService'\n  import { useAuth } from '@/composables/useAuth'\n\n  export default {\n    name: 'UpdateProgress',\n    props: {\n      show: {\n        type: Boolean,\n        default: false\n      },\n      requestId: {\n        type: [Number, String],\n        required: true\n      },\n      requestData: {\n        type: Object,\n        default: null\n      }\n    },\n    emits: ['close', 'updated'],\n    setup() {\n      const { hasRole, ROLES, user } = useAuth()\n      return {\n        hasRole,\n        ROLES,\n        currentUser: user\n      }\n    },\n    data() {\n      return {\n        selectedStatus: '',\n        comments: '',\n        updating: false,\n        error: null\n      }\n    },\n    computed: {\n      canUpdate() {\n        if (!this.hasRole(this.ROLES.ICT_OFFICER) || !this.requestData) return false\n\n        // Check if this ICT officer is assigned to this request and it's not yet completed\n        return (\n          this.requestData.ict_officer_user_id &&\n          this.requestData.ict_officer_user_id === this.currentUser?.id &&\n          !this.requestData.ict_officer_implemented_at &&\n          this.requestData.ict_officer_status !== 'implemented' &&\n          this.requestData.ict_officer_status !== 'rejected'\n        )\n      }\n    },\n    watch: {\n      show(newVal) {\n        if (newVal) {\n          this.resetForm()\n        }\n      },\n      comments(newVal) {\n        // Limit to 500 characters\n        if (newVal.length > 500) {\n          this.comments = newVal.substring(0, 500)\n        }\n      }\n    },\n    methods: {\n      selectStatus(status) {\n        this.selectedStatus = status\n        this.error = null\n      },\n\n      resetForm() {\n        this.selectedStatus = ''\n        this.comments = ''\n        this.error = null\n        this.updating = false\n      },\n\n      async updateProgress() {\n        if (!this.selectedStatus) {\n          this.error = 'Please select a status'\n          return\n        }\n\n        this.updating = true\n        this.error = null\n\n        try {\n          const result = await ictOfficerService.updateProgress(\n            this.requestId,\n            this.selectedStatus,\n            this.comments\n          )\n\n          if (result.success) {\n            // Show success message\n            this.showSuccessMessage()\n\n            // Force immediate badge refresh for ICT Officers\n            this.refreshNotificationBadge()\n\n            // Emit events\n            this.$emit('updated')\n            this.$emit('close')\n\n            // Reset form\n            this.resetForm()\n          } else {\n            this.error = result.message || 'Failed to update progress'\n          }\n        } catch (error) {\n          console.error('Error updating progress:', error)\n          this.error = error.message || 'Network error while updating progress'\n        } finally {\n          this.updating = false\n        }\n      },\n\n      close() {\n        this.$emit('close')\n      },\n\n      showSuccessMessage() {\n        // Create a temporary success message\n        const successDiv = document.createElement('div')\n        successDiv.className =\n          'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 transition-all duration-300'\n        successDiv.innerHTML = `\n        <div class=\"flex items-center\">\n          <svg class=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clip-rule=\"evenodd\"></path>\n          </svg>\n          Progress updated successfully!\n        </div>\n      `\n\n        document.body.appendChild(successDiv)\n\n        // Remove after 3 seconds\n        setTimeout(() => {\n          if (successDiv.parentNode) {\n            successDiv.style.transform = 'translateX(100%)'\n            successDiv.style.opacity = '0'\n            setTimeout(() => {\n              document.body.removeChild(successDiv)\n            }, 300)\n          }\n        }, 3000)\n      },\n\n      getRequestStatusClasses(status) {\n        switch (status) {\n          case 'assigned_to_ict':\n            return 'bg-blue-100 text-blue-800'\n          case 'implementation_in_progress':\n            return 'bg-purple-100 text-purple-800'\n          case 'implemented':\n            return 'bg-green-100 text-green-800'\n          case 'rejected':\n            return 'bg-red-100 text-red-800'\n          default:\n            return 'bg-gray-100 text-gray-800'\n        }\n      },\n\n      getRequestStatusLabel(status) {\n        switch (status) {\n          case 'assigned_to_ict':\n            return 'Assigned to ICT'\n          case 'implementation_in_progress':\n            return 'In Progress'\n          case 'implemented':\n            return 'Implemented'\n          case 'rejected':\n            return 'Rejected'\n          default:\n            return 'Unknown'\n        }\n      },\n\n      // Force refresh notification badge in sidebar\n      refreshNotificationBadge() {\n        try {\n          console.log(\n            'üîî UpdateProgress: Triggering notification badge refresh after status update'\n          )\n\n          // Method 0: Clear notification service cache first\n          this.clearNotificationCache()\n\n          // Method 1: Trigger global refresh event with force flag\n          if (window.dispatchEvent) {\n            const event = new CustomEvent('force-refresh-notifications', {\n              detail: {\n                source: 'UpdateProgress',\n                reason: 'implementation_status_updated',\n                requestId: this.requestId,\n                newStatus: this.selectedStatus,\n                timestamp: Date.now()\n              }\n            })\n            window.dispatchEvent(event)\n            console.log('üöÄ UpdateProgress: Dispatched force-refresh-notifications event')\n          }\n\n          // Method 2: Direct call to sidebar instance with force refresh\n          if (window.sidebarInstance && window.sidebarInstance.fetchNotificationCounts) {\n            console.log('üìû UpdateProgress: Calling sidebar fetchNotificationCounts directly')\n            window.sidebarInstance.fetchNotificationCounts(true) // force refresh\n          }\n\n          // Method 3: Add a slight delay then refresh again to ensure backend has processed the change\n          setTimeout(() => {\n            console.log('‚è∞ UpdateProgress: Delayed badge refresh to ensure backend sync')\n            this.clearNotificationCache() // Clear cache again before delayed refresh\n            if (window.dispatchEvent) {\n              const delayedEvent = new CustomEvent('refresh-notifications', {\n                detail: {\n                  source: 'UpdateProgress_delayed',\n                  reason: 'delayed_refresh',\n                  requestId: this.requestId\n                }\n              })\n              window.dispatchEvent(delayedEvent)\n            }\n            if (window.sidebarInstance && window.sidebarInstance.fetchNotificationCounts) {\n              window.sidebarInstance.fetchNotificationCounts(true)\n            }\n          }, 2000) // 2 second delay to allow backend processing\n\n          // Method 4: Extra delayed refresh for implemented/completed status changes\n          if (['implemented', 'completed'].includes(this.selectedStatus)) {\n            setTimeout(() => {\n              console.log(\n                'üîÑ UpdateProgress: Final refresh for completed status to ensure badge decrement'\n              )\n              this.clearNotificationCache()\n              if (window.sidebarInstance && window.sidebarInstance.fetchNotificationCounts) {\n                window.sidebarInstance.fetchNotificationCounts(true)\n              }\n            }, 5000) // 5 second delay for completed status changes\n          }\n        } catch (error) {\n          console.warn('UpdateProgress: Failed to refresh notification badge:', error)\n        }\n      },\n\n      // Clear notification cache to ensure fresh data\n      clearNotificationCache() {\n        try {\n          // Import and clear notification service cache dynamically\n          import('@/services/notificationService').then((module) => {\n            module.default.clearCache()\n            console.log('üóëÔ∏è UpdateProgress: Cleared notification service cache')\n          })\n        } catch (error) {\n          console.warn('UpdateProgress: Failed to clear notification cache:', error)\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .bg-blue-25 {\n    background-color: rgba(59, 130, 246, 0.05);\n  }\n\n  .bg-green-25 {\n    background-color: rgba(16, 185, 129, 0.05);\n  }\n\n  .bg-red-25 {\n    background-color: rgba(239, 68, 68, 0.05);\n  }\n\n  .hover\\:bg-blue-25:hover {\n    background-color: rgba(59, 130, 246, 0.05);\n  }\n\n  .hover\\:bg-green-25:hover {\n    background-color: rgba(16, 185, 129, 0.05);\n  }\n\n  .hover\\:bg-red-25:hover {\n    background-color: rgba(239, 68, 68, 0.05);\n  }\n</style>\n","import { render } from \"./UpdateProgress.vue?vue&type=template&id=25e00bee&scoped=true\"\nimport script from \"./UpdateProgress.vue?vue&type=script&lang=js\"\nexport * from \"./UpdateProgress.vue?vue&type=script&lang=js\"\n\nimport \"./UpdateProgress.vue?vue&type=style&index=0&id=25e00bee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-25e00bee\"]])\n\nexport default __exports__","<template>\n  <div class=\"flex flex-col h-screen\">\n    <Header />\n    <div class=\"flex flex-1 overflow-hidden\">\n      <div class=\"sidebar-narrow\">\n        <ModernSidebar />\n      </div>\n      <main class=\"flex-1 p-4 bg-blue-900 overflow-y-auto\">\n        <div class=\"max-w-full mx-auto\">\n          <!-- Error Display -->\n          <div\n            v-if=\"error\"\n            class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\"\n          >\n            <h3 class=\"font-bold text-xl\">Error</h3>\n            <p class=\"text-lg\">{{ error }}</p>\n            <button\n              @click=\"fetchAccessRequests\"\n              class=\"mt-2 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 text-base font-medium\"\n            >\n              Retry\n            </button>\n          </div>\n\n          <!-- Stats -->\n          <div class=\"grid grid-cols-4 gap-4 mb-6\">\n            <div class=\"bg-green-600/25 border border-green-400/40 p-4 rounded-lg\">\n              <h3 class=\"text-green-200 text-base font-semibold\">Available for Assignment</h3>\n              <p class=\"text-white text-3xl font-bold\">{{ stats.unassigned }}</p>\n            </div>\n            <div class=\"bg-blue-600/25 border border-blue-400/40 p-4 rounded-lg\">\n              <h3 class=\"text-blue-200 text-base font-semibold\">Assigned to ICT</h3>\n              <p class=\"text-white text-3xl font-bold\">{{ stats.assigned }}</p>\n            </div>\n            <div class=\"bg-purple-600/25 border border-purple-400/40 p-4 rounded-lg\">\n              <h3 class=\"text-purple-200 text-base font-semibold\">In Progress</h3>\n              <p class=\"text-white text-3xl font-bold\">{{ stats.inProgress }}</p>\n            </div>\n            <div class=\"bg-teal-600/25 border border-teal-400/40 p-4 rounded-lg\">\n              <h3 class=\"text-teal-200 text-base font-semibold\">Total Requests</h3>\n              <p class=\"text-white text-3xl font-bold\">{{ stats.total }}</p>\n            </div>\n          </div>\n\n          <!-- Filters -->\n          <div class=\"bg-white/10 rounded-lg p-4 mb-6\">\n            <div class=\"flex gap-4\">\n              <input\n                v-model=\"searchQuery\"\n                type=\"text\"\n                placeholder=\"Search by staff name, PF number, or department...\"\n                class=\"flex-1 px-3 py-2 bg-white/20 border border-blue-300/30 rounded text-white placeholder-blue-200/60 text-sm\"\n              />\n              <select\n                v-model=\"statusFilter\"\n                class=\"px-3 py-2 bg-white/20 border border-blue-300/30 rounded text-white text-sm status-select\"\n              >\n                <option value=\"\">All Requests</option>\n                <option value=\"unassigned\">Available for Assignment</option>\n                <option value=\"assigned_to_ict\">Assigned to ICT</option>\n                <option value=\"implementation_in_progress\">In Progress</option>\n                <option value=\"completed\">Completed</option>\n              </select>\n              <button\n                @click=\"refreshRequests\"\n                class=\"px-6 py-2 bg-teal-600 text-white rounded hover:bg-teal-700 text-sm font-medium\"\n              >\n                Refresh\n              </button>\n            </div>\n          </div>\n\n          <!-- Requests Table -->\n          <div class=\"bg-white/10 rounded-lg\">\n            <div class=\"overflow-x-auto\" style=\"overflow-y: visible\">\n              <table class=\"w-full\">\n                <thead class=\"bg-blue-800/50\">\n                  <tr>\n                    <th class=\"px-4 py-3 text-left text-blue-100 text-sm font-semibold\">\n                      Request ID\n                    </th>\n                    <th class=\"px-4 py-3 text-left text-blue-100 text-sm font-semibold\">\n                      Request Type\n                    </th>\n                    <th class=\"px-4 py-3 text-left text-blue-100 text-sm font-semibold\">\n                      Requested Modules\n                    </th>\n                    <th class=\"px-4 py-3 text-left text-blue-100 text-sm font-semibold\">\n                      Requester Name & PF Number\n                    </th>\n                    <th class=\"px-4 py-3 text-left text-blue-100 text-sm font-semibold\">\n                      Head of IT Approval Date\n                    </th>\n                    <th class=\"px-4 py-3 text-left text-blue-100 text-sm font-semibold\">Status</th>\n                    <th class=\"px-4 py-3 text-left text-blue-100 text-sm font-semibold\">\n                      SMS Status\n                    </th>\n                    <th class=\"px-4 py-3 text-center text-blue-100 text-sm font-semibold\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    v-for=\"request in filteredRequests\"\n                    :key=\"request.id\"\n                    :class=\"[\n                      'border-t border-blue-300/20 hover:bg-blue-700/30 transition-colors duration-200',\n                      isUnassigned(request.status)\n                        ? 'bg-yellow-900/20 border-l-4 border-yellow-400'\n                        : 'bg-green-900/10 border-l-4 border-green-600'\n                    ]\"\n                  >\n                    <!-- Request ID -->\n                    <td class=\"px-4 py-3\">\n                      <div class=\"flex items-center space-x-2\">\n                        <!-- Status Indicator Icon -->\n                        <div class=\"flex-shrink-0\">\n                          <i\n                            v-if=\"isUnassigned(request.status)\"\n                            class=\"fas fa-clock text-yellow-400 text-base\"\n                            title=\"Available for assignment\"\n                          ></i>\n                          <i\n                            v-else\n                            class=\"fas fa-check-circle text-green-400 text-base\"\n                            title=\"Assigned or in progress\"\n                          ></i>\n                        </div>\n                        <div>\n                          <div class=\"text-white font-medium text-sm\">\n                            {{\n                              request.request_id || `REQ-${request.id.toString().padStart(6, '0')}`\n                            }}\n                          </div>\n                          <div class=\"text-purple-300 text-xs\">ID: {{ request.id }}</div>\n                        </div>\n                      </div>\n                    </td>\n\n                    <!-- Request Type -->\n                    <td class=\"px-4 py-3\">\n                      <div class=\"text-white font-medium text-sm\">\n                        {{ getRequestType(request) }}\n                      </div>\n                      <div class=\"text-blue-300 text-xs\">\n                        {{ request.department_name || request.department || 'Unknown Dept' }}\n                      </div>\n                    </td>\n\n                    <!-- Requested Modules -->\n                    <td class=\"px-4 py-3\">\n                      <div class=\"flex flex-nowrap gap-1\">\n                        <span\n                          v-if=\"hasService(request, 'jeeva')\"\n                          class=\"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 whitespace-nowrap\"\n                        >\n                          Jeeva\n                        </span>\n                        <span\n                          v-if=\"hasService(request, 'wellsoft')\"\n                          class=\"px-2 py-1 rounded text-xs bg-green-100 text-green-800 whitespace-nowrap\"\n                        >\n                          Wellsoft\n                        </span>\n                        <span\n                          v-if=\"hasService(request, 'internet')\"\n                          class=\"px-2 py-1 rounded text-xs bg-cyan-100 text-cyan-800 whitespace-nowrap\"\n                        >\n                          Internet\n                        </span>\n                      </div>\n                    </td>\n\n                    <!-- Requester Name & PF Number -->\n                    <td class=\"px-4 py-3\">\n                      <div class=\"text-white font-medium text-sm\">\n                        {{ request.staff_name || request.full_name || 'Unknown User' }}\n                      </div>\n                      <div class=\"text-blue-300 text-xs\">\n                        {{ request.phone || request.phone_number || 'No phone' }}\n                      </div>\n                      <div v-if=\"request.pf_number\" class=\"text-teal-300 text-xs\">\n                        PF: {{ request.pf_number }}\n                      </div>\n                    </td>\n\n                    <!-- Head of IT Approval Date -->\n                    <td class=\"px-4 py-3\">\n                      <div class=\"text-white font-medium text-sm\">\n                        {{\n                          formatDate(\n                            request.head_of_it_approval_date || request.head_of_it_approved_at\n                          )\n                        }}\n                      </div>\n                      <div class=\"text-blue-300 text-xs\">\n                        {{\n                          formatTime(\n                            request.head_of_it_approval_date || request.head_of_it_approved_at\n                          )\n                        }}\n                      </div>\n                    </td>\n\n                    <!-- Status -->\n                    <td class=\"px-4 py-3\">\n                      <div class=\"flex flex-col\">\n                        <span\n                          :class=\"getStatusBadgeClass(request.status)\"\n                          class=\"rounded text-sm font-medium inline-block whitespace-nowrap\"\n                          :style=\"{ padding: '6px 12px', width: 'fit-content' }\"\n                        >\n                          {{ getStatusText(request.status) }}\n                        </span>\n                      </div>\n                    </td>\n\n                    <!-- SMS Status -->\n                    <td class=\"px-4 py-3\">\n                      <div class=\"flex items-center space-x-2\">\n                        <div\n                          class=\"w-3 h-3 rounded-full\"\n                          :class=\"getSmsStatusColor(getRelevantSmsStatus(request))\"\n                        ></div>\n                        <span\n                          class=\"text-sm font-medium\"\n                          :class=\"getSmsStatusTextColor(getRelevantSmsStatus(request))\"\n                        >\n                          {{ getSmsStatusText(getRelevantSmsStatus(request)) }}\n                        </span>\n                        <!-- Retry button shown for failed or pending -->\n                        <button\n                          v-if=\"\n                            ['failed', 'pending'].includes(getRelevantSmsStatus(request)) &&\n                            ['implemented', 'completed'].includes(request.status)\n                          \"\n                          @click=\"retrySendSms(request)\"\n                          :disabled=\"isRetrying(request.id)\"\n                          class=\"ml-2 px-2 py-1 text-xs rounded border border-blue-300/50 text-blue-100 hover:bg-blue-700/40 disabled:opacity-50\"\n                          title=\"Retry sending SMS to requester\"\n                        >\n                          <span v-if=\"!isRetrying(request.id)\">Retry</span>\n                          <span v-else> <i class=\"fas fa-spinner fa-spin mr-1\"></i>Retrying </span>\n                        </button>\n                        <!-- Attempts badge -->\n                        <span\n                          v-if=\"getRetryAttempts(request.id) > 0\"\n                          class=\"text-xs text-blue-200 ml-1\"\n                        >\n                          ({{ getRetryAttempts(request.id) }})\n                        </span>\n                      </div>\n                    </td>\n\n                    <!-- Actions -->\n                    <td class=\"px-4 py-3 text-center\" style=\"overflow: visible\">\n                      <div class=\"relative inline-block\" style=\"overflow: visible\">\n                        <!-- Three-dot menu button -->\n                        <button\n                          @click=\"toggleDropdown(request.id, $event, request)\"\n                          class=\"w-8 h-8 flex items-center justify-center text-white hover:bg-white/10 rounded-full transition-colors duration-200\"\n                          :title=\"\n                            'Actions for ' +\n                            (request.request_id || 'REQ-' + request.id.toString().padStart(6, '0'))\n                          \"\n                        >\n                          <i class=\"fas fa-ellipsis-v text-sm\"></i>\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <!-- Empty State -->\n            <div v-if=\"filteredRequests.length === 0\" class=\"text-center py-12\">\n              <h3 class=\"text-white text-xl font-medium mb-2\">No requests found</h3>\n              <p class=\"text-blue-300 text-base\">\n                {{\n                  searchQuery || statusFilter\n                    ? 'No requests match your current filters.'\n                    : 'No access requests approved by Head of IT are currently available.'\n                }}\n              </p>\n            </div>\n\n            <!-- Pagination -->\n            <div v-if=\"filteredRequests.length > 0\" class=\"px-4 py-3 border-t border-blue-300/30\">\n              <div class=\"text-blue-300 text-base\">\n                Showing {{ filteredRequests.length }} of {{ pagination.total }} requests\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n\n    <!-- Dropdown menu portal (teleported to body to avoid all overflow issues) -->\n    <Teleport to=\"body\">\n      <div\n        v-if=\"activeDropdown !== null\"\n        class=\"fixed w-56 bg-white rounded-lg shadow-2xl border border-gray-200 py-1\"\n        :style=\"getDropdownPosition()\"\n        style=\"z-index: 99999\"\n        @click.stop\n      >\n        <!-- Conditional actions based on status -->\n        <template v-if=\"selectedRequest && isUnassigned(selectedRequest.status)\">\n          <!-- Available for Assignment - show Approve and View Timeline -->\n          <button\n            @click=\"handleMenuAction('viewRequest', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-sm bg-green-50 text-green-800 border-b border-green-200 hover:bg-green-100 focus:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-inset transition-all duration-200 flex items-center group first:rounded-t-lg\"\n          >\n            <i\n              class=\"fas fa-check mr-3 text-green-600 group-hover:text-green-700 group-focus:text-green-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold text-green-800\">Approve</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('viewTimeline', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-sm bg-indigo-50 text-indigo-800 border-b border-indigo-200 hover:bg-indigo-100 focus:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-all duration-200 flex items-center group\"\n          >\n            <i\n              class=\"fas fa-history mr-3 text-indigo-600 group-hover:text-indigo-700 group-focus:text-indigo-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold\">View Timeline</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('downloadPdf', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-sm bg-rose-50 text-rose-800 hover:bg-rose-100 focus:bg-rose-100 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-inset transition-all duration-200 flex items-center group last:rounded-b-lg\"\n          >\n            <i\n              class=\"fas fa-file-pdf mr-3 text-rose-600 group-hover:text-rose-700 group-focus:text-rose-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold\">Download PDF</span>\n          </button>\n        </template>\n\n        <template v-else-if=\"selectedRequest && selectedRequest.status === 'assigned_to_ict'\">\n          <!-- Assigned to ICT - show Approve and View Timeline -->\n          <button\n            @click=\"handleMenuAction('viewRequest', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-green-50 text-green-800 border-b border-green-200 hover:bg-green-100 focus:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-inset transition-all duration-200 flex items-center group first:rounded-t-lg\"\n          >\n            <i\n              class=\"fas fa-check mr-3 text-green-600 group-hover:text-green-700 group-focus:text-green-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold text-green-800\">Approve</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('viewTimeline', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-indigo-50 text-indigo-800 border-b border-indigo-200 hover:bg-indigo-100 focus:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-all duration-200 flex items-center group\"\n          >\n            <i\n              class=\"fas fa-history mr-3 text-indigo-600 group-hover:text-indigo-700 group-focus:text-indigo-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold\">View Timeline</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('downloadPdf', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-rose-50 text-rose-800 hover:bg-rose-100 focus:bg-rose-100 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-inset transition-all duration-200 flex items-center group last:rounded-b-lg\"\n          >\n            <i\n              class=\"fas fa-file-pdf mr-3 text-rose-600 group-hover:text-rose-700 group-focus:text-rose-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold\">Download PDF</span>\n          </button>\n        </template>\n\n        <template\n          v-else-if=\"selectedRequest && selectedRequest.status === 'implementation_in_progress'\"\n        >\n          <!-- Implementation in progress - show Approve and View Timeline -->\n          <button\n            @click=\"handleMenuAction('viewRequest', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-green-50 text-green-800 border-b border-green-200 hover:bg-green-100 focus:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-inset transition-all duration-200 flex items-center group first:rounded-t-lg\"\n          >\n            <i\n              class=\"fas fa-check mr-3 text-green-600 group-hover:text-green-700 group-focus:text-green-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold text-green-800\">Approve</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('viewTimeline', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-indigo-50 text-indigo-800 border-b border-indigo-200 hover:bg-indigo-100 focus:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-all duration-200 flex items-center group\"\n          >\n            <i\n              class=\"fas fa-history mr-3 text-indigo-600 group-hover:text-indigo-700 group-focus:text-indigo-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold\">View Timeline</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('downloadPdf', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-rose-50 text-rose-800 hover:bg-rose-100 focus:bg-rose-100 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-inset transition-all duration-200 flex items-center group last:rounded-b-lg\"\n          >\n            <i\n              class=\"fas fa-file-pdf mr-3 text-rose-600 group-hover:text-rose-700 group-focus:text-rose-700 transition-colors duration-200 text-lg\"\n            ></i>\n            <span class=\"font-semibold\">Download PDF</span>\n          </button>\n        </template>\n\n        <template\n          v-else-if=\"\n            selectedRequest &&\n            (selectedRequest.status === 'completed' || selectedRequest.status === 'implemented')\n          \"\n        >\n          <!-- Completed/Implemented - show View Request (read-only) and View Timeline -->\n          <button\n            @click=\"handleMenuAction('viewRequest', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-sm bg-blue-50 text-blue-800 border-b border-blue-200 hover:bg-blue-100 focus:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-all duration-200 flex items-center group first:rounded-t-lg\"\n          >\n            <i\n              class=\"fas fa-eye mr-3 text-blue-600 group-hover:text-blue-700 group-focus:text-blue-700 transition-colors duration-200\"\n            ></i>\n            <span class=\"font-semibold text-blue-800\">View Request</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('viewTimeline', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-indigo-50 text-indigo-800 border-b border-indigo-200 hover:bg-indigo-100 focus:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-all duration-200 flex items-center group\"\n          >\n            <i\n              class=\"fas fa-history mr-3 text-indigo-600 group-hover:text-indigo-700 group-focus:text-indigo-700 transition-colors duration-200\"\n            ></i>\n            <span class=\"font-semibold\">View Timeline</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('downloadPdf', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-rose-50 text-rose-800 hover:bg-rose-100 focus:bg-rose-100 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-inset transition-all duration-200 flex items-center group last:rounded-b-lg\"\n          >\n            <i\n              class=\"fas fa-file-pdf mr-3 text-rose-600 group-hover:text-rose-700 group-focus:text-rose-700 transition-colors duration-200\"\n            ></i>\n            <span class=\"font-semibold\">Download PDF</span>\n          </button>\n        </template>\n\n        <template v-else-if=\"selectedRequest\">\n          <!-- Fallback for cancelled or unknown statuses - show View Request and View Timeline -->\n          <button\n            @click=\"handleMenuAction('viewRequest', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-blue-50 text-blue-800 border-b border-blue-200 hover:bg-blue-100 focus:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset transition-all duration-200 flex items-center group first:rounded-t-lg\"\n          >\n            <i\n              class=\"fas fa-eye mr-3 text-blue-600 group-hover:text-blue-700 group-focus:text-blue-700 transition-colors duration-200\"\n            ></i>\n            <span class=\"font-semibold text-blue-800\">View Request</span>\n          </button>\n\n          <button\n            @click=\"handleMenuAction('viewTimeline', selectedRequest)\"\n            class=\"w-full text-left px-4 py-3 text-lg bg-indigo-50 text-indigo-800 hover:bg-indigo-100 focus:bg-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset transition-all duration-200 flex items-center group last:rounded-b-lg\"\n          >\n            <i\n              class=\"fas fa-history mr-3 text-indigo-600 group-hover:text-indigo-700 group-focus:text-indigo-700 transition-colors duration-200\"\n            ></i>\n            <span class=\"font-semibold\">View Timeline</span>\n          </button>\n        </template>\n      </div>\n    </Teleport>\n\n    <AppFooter />\n\n    <!-- PDF Download Progress Banner (dismissible safety) -->\n    <div\n      v-if=\"downloadingPdf\"\n      class=\"fixed inset-0 z-[100002] flex items-center justify-center bg-black/40\"\n      @click.self=\"downloadingPdf = false\"\n    >\n      <div class=\"bg-white/90 rounded-xl shadow-2xl p-6 w-full max-w-md border border-blue-200\">\n        <div class=\"flex items-center gap-3 mb-3\">\n          <i class=\"fas fa-file-pdf text-rose-600 text-2xl\"></i>\n          <div class=\"text-lg font-semibold text-gray-800\">\n            Downloading PDF‚Ä¶ {{ downloadPercent }}%\n          </div>\n        </div>\n        <div class=\"w-full h-3 bg-gray-200 rounded-full overflow-hidden\">\n          <div\n            class=\"h-full bg-gradient-to-r from-rose-500 to-blue-600\"\n            :style=\"{ width: downloadPercent + '%' }\"\n          ></div>\n        </div>\n        <div class=\"text-sm text-gray-700 mt-3 font-semibold\">\n          Please keep this tab open until the download completes.\n        </div>\n        <div class=\"mt-4 flex justify-end\">\n          <button\n            type=\"button\"\n            class=\"px-3 py-1.5 text-sm rounded-md bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold\"\n            @click=\"downloadingPdf = false\"\n            title=\"Dismiss overlay\"\n          >\n            Dismiss\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Centered MNH Loading Banner -->\n    <div\n      v-if=\"isLoading\"\n      class=\"absolute inset-0 z-40 flex items-center justify-center pointer-events-none animate-fade-in\"\n    >\n      <div class=\"pointer-events-auto w-full max-w-lg mx-auto\">\n        <!-- Main Loading Card -->\n        <div\n          class=\"relative bg-gradient-to-br from-white/20 via-blue-50/30 to-white/10 border-2 border-blue-300/50 backdrop-blur-xl rounded-3xl p-8 shadow-2xl overflow-hidden\"\n        >\n          <!-- Animated Background Pattern -->\n          <div class=\"absolute inset-0 opacity-10\">\n            <div\n              class=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-slide-across\"\n            ></div>\n            <div\n              class=\"absolute top-4 left-4 w-16 h-16 rounded-full animate-float\"\n              style=\"background: rgba(255, 0, 0, 0.2)\"\n            ></div>\n            <div\n              class=\"absolute bottom-4 right-4 w-20 h-20 bg-blue-400/20 rounded-full animate-float\"\n              style=\"animation-delay: 1s\"\n            ></div>\n            <div\n              class=\"absolute top-1/2 left-8 w-12 h-12 rounded-full animate-float\"\n              style=\"background: rgba(255, 0, 0, 0.15); animation-delay: 2s\"\n            ></div>\n          </div>\n\n          <!-- Hospital Logos and Branding -->\n          <div class=\"relative z-10\">\n            <div class=\"flex items-center justify-center gap-6 mb-6\">\n              <!-- Left Logo -->\n              <div class=\"relative\">\n                <div\n                  class=\"w-16 h-16 bg-gradient-to-br from-blue-500/30 to-teal-500/30 rounded-2xl backdrop-blur-sm border-2 border-blue-300/50 flex items-center justify-center shadow-xl hover:scale-105 transition-transform duration-300\"\n                >\n                  <img\n                    src=\"/assets/images/ngao2.png\"\n                    alt=\"National Shield\"\n                    class=\"max-w-12 max-h-12 object-contain drop-shadow-lg\"\n                  />\n                </div>\n                <div\n                  class=\"absolute -inset-1 bg-gradient-to-r from-blue-400 to-teal-400 rounded-2xl opacity-20 blur-sm animate-pulse\"\n                ></div>\n              </div>\n\n              <!-- Center Loading Spinner -->\n              <div class=\"relative flex flex-col items-center\">\n                <!-- Main Spinner -->\n                <div class=\"relative mb-3\">\n                  <!-- Base circle -->\n                  <div class=\"rounded-full h-12 w-12 border-2 border-gray-300/20\"></div>\n                  <!-- Red orbiting segment -->\n                  <div\n                    class=\"absolute inset-0 animate-spin rounded-full h-12 w-12 border-4 border-transparent shadow-lg\"\n                    style=\"border-top-color: #ff0000; animation-duration: 2s\"\n                  ></div>\n                  <!-- Blue orbiting segment -->\n                  <div\n                    class=\"absolute inset-0 animate-spin rounded-full h-12 w-12 border-4 border-transparent shadow-lg\"\n                    style=\"\n                      border-bottom-color: #0000d1;\n                      animation-direction: reverse;\n                      animation-duration: 1.5s;\n                    \"\n                  ></div>\n                  <!-- Additional red segment for more dynamic effect -->\n                  <div\n                    class=\"absolute inset-0 animate-spin rounded-full h-12 w-12 border-4 border-transparent shadow-lg\"\n                    style=\"border-right-color: rgba(255, 0, 0, 0.7); animation-duration: 2.5s\"\n                  ></div>\n                  <!-- Additional blue segment -->\n                  <div\n                    class=\"absolute inset-0 animate-spin rounded-full h-12 w-12 border-4 border-transparent shadow-lg\"\n                    style=\"\n                      border-left-color: rgba(0, 0, 209, 0.7);\n                      animation-direction: reverse;\n                      animation-duration: 1.8s;\n                    \"\n                  ></div>\n                </div>\n\n                <!-- Loading Text -->\n                <div class=\"text-center\">\n                  <div class=\"text-white text-xl font-bold tracking-wide mb-1 drop-shadow-md\">\n                    Loading Access Requests\n                  </div>\n                  <div class=\"text-blue-100 text-sm animate-pulse\">Please wait...</div>\n                </div>\n              </div>\n\n              <!-- Right Logo -->\n              <div class=\"relative\">\n                <div\n                  class=\"w-16 h-16 bg-gradient-to-br from-teal-500/30 to-blue-500/30 rounded-2xl backdrop-blur-sm border-2 border-teal-300/50 flex items-center justify-center shadow-xl hover:scale-105 transition-transform duration-300\"\n                >\n                  <img\n                    src=\"/assets/images/logo2.png\"\n                    alt=\"MNH Logo\"\n                    class=\"max-w-12 max-h-12 object-contain drop-shadow-lg\"\n                  />\n                </div>\n                <div\n                  class=\"absolute -inset-1 bg-gradient-to-r from-teal-400 to-blue-400 rounded-2xl opacity-20 blur-sm animate-pulse\"\n                  style=\"animation-delay: 0.5s\"\n                ></div>\n              </div>\n            </div>\n\n            <!-- Hospital Name and Department -->\n            <div class=\"text-center border-t border-blue-300/30 pt-4\">\n              <div\n                class=\"text-lg font-black tracking-widest mb-1 drop-shadow-sm\"\n                style=\"color: #ff0000\"\n              >\n                MUHIMBILI NATIONAL HOSPITAL\n              </div>\n              <div class=\"text-teal-200 text-sm font-semibold tracking-wider\">\n                ICT ACCESS REQUESTS MANAGEMENT\n              </div>\n            </div>\n\n            <!-- Progress Indicators -->\n            <div class=\"flex justify-center gap-2 mt-4\">\n              <div class=\"w-2 h-2 rounded-full animate-bounce\" style=\"background: #ff0000\"></div>\n              <div\n                class=\"w-2 h-2 rounded-full animate-bounce\"\n                style=\"background: #0000d1; animation-delay: 0.1s\"\n              ></div>\n              <div\n                class=\"w-2 h-2 rounded-full animate-bounce\"\n                style=\"background: #ff0000; animation-delay: 0.2s\"\n              ></div>\n              <div\n                class=\"w-2 h-2 rounded-full animate-bounce\"\n                style=\"background: #0000d1; animation-delay: 0.3s\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Timeline Modal -->\n    <RequestTimeline\n      :show=\"showTimeline\"\n      :request-id=\"selectedRequestId\"\n      @close=\"closeTimeline\"\n      @updated=\"handleTimelineUpdate\"\n      @openUpdateProgress=\"openUpdateProgress\"\n    />\n\n    <!-- Update Progress Modal (separate from timeline) -->\n    <div\n      v-if=\"showUpdateProgress && selectedRequest\"\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10001]\"\n      @click.self=\"closeUpdateProgress\"\n    >\n      <div class=\"max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n        <UpdateProgress\n          :show=\"showUpdateProgress\"\n          :request-id=\"selectedRequestId\"\n          :request-data=\"selectedRequest\"\n          @close=\"closeUpdateProgress\"\n          @updated=\"handleUpdateProgressUpdate\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import { ref, reactive, computed, onMounted, onBeforeUnmount, nextTick } from 'vue'\n  import Header from '@/components/header.vue'\n  import ModernSidebar from '@/components/ModernSidebar.vue'\n  import AppFooter from '@/components/footer.vue'\n  import RequestTimeline from '@/components/common/RequestTimeline.vue'\n  import UpdateProgress from '@/components/common/UpdateProgress.vue'\n  import { useAuth } from '@/composables/useAuth'\n  import ictOfficerService from '@/services/ictOfficerService'\n  import apiClient from '@/services/apiClient'\n\n  // State\n  const accessRequests = ref([])\n  const searchQuery = ref('')\n  const statusFilter = ref('')\n  const isLoading = ref(false)\n  const downloadingPdf = ref(false)\n  const downloadPercent = ref(0)\n  const stats = reactive({ unassigned: 0, assigned: 0, inProgress: 0, total: 0 })\n  const error = ref(null)\n  const pagination = reactive({ total: 0, currentPage: 1, perPage: 20 })\n\n  // Timeline / dialogs\n  const showTimeline = ref(false)\n  const selectedRequestId = ref(null)\n  const selectedRequest = ref(null)\n  const showUpdateProgress = ref(false)\n\n  // Dropdown\n  const activeDropdown = ref(null)\n  const dropdownPosition = ref(null)\n\n  // Auth (called inside setup to avoid inject warnings)\n  const { ROLES, requireRole, user, userRole, ensureInitialized } = useAuth()\n\n  // Helpers\n  const isUnassigned = (status) => status === 'head_of_it_approved' || !status\n\n  const filteredRequests = computed(() => {\n    if (!Array.isArray(accessRequests.value)) {\n      console.warn('IctAccessRequests: accessRequests is not an array:', accessRequests.value)\n      return []\n    }\n\n    let filtered = accessRequests.value\n\n    if (searchQuery.value) {\n      const query = searchQuery.value.toLowerCase()\n      filtered = filtered.filter(\n        (request) =>\n          (request.staff_name || request.full_name || '').toLowerCase().includes(query) ||\n          (request.pf_number || '').toLowerCase().includes(query) ||\n          (request.department_name || request.department || '').toLowerCase().includes(query) ||\n          (request.request_id || '').toLowerCase().includes(query)\n      )\n    }\n\n    if (statusFilter.value) {\n      if (statusFilter.value === 'unassigned') {\n        filtered = filtered.filter((r) => isUnassigned(r.status))\n      } else {\n        filtered = filtered.filter((r) => r.status === statusFilter.value)\n      }\n    }\n\n    return filtered.sort((a, b) => {\n      const aUnassigned = isUnassigned(a.status)\n      const bUnassigned = isUnassigned(b.status)\n      if (aUnassigned && !bUnassigned) return -1\n      if (!aUnassigned && bUnassigned) return 1\n\n      const getRelevantDate = (r) =>\n        new Date(r.head_of_it_approval_date || r.head_of_it_approved_at || r.created_at || 0)\n      return getRelevantDate(a) - getRelevantDate(b)\n    })\n  })\n\n  async function fetchAccessRequests() {\n    console.log('üîÑ IctAccessRequests: Starting to fetch access requests...')\n    isLoading.value = true\n    error.value = null\n    try {\n      const result = await ictOfficerService.getAccessRequests()\n      if (result.success) {\n        const payload = result.data\n        const list = Array.isArray(payload)\n          ? payload\n          : payload && Array.isArray(payload.data)\n            ? payload.data\n            : []\n        const total = Array.isArray(payload) ? payload.length : (payload?.total ?? list.length)\n        const currentPage = payload?.current_page ?? 1\n        const perPage = payload?.per_page ?? list.length\n\n        console.log('‚úÖ IctAccessRequests: Requests loaded successfully:', list.length, {\n          total,\n          currentPage,\n          perPage\n        })\n        accessRequests.value = list\n        pagination.total = total\n        pagination.currentPage = currentPage\n        pagination.perPage = perPage\n\n        const pendingForICT = accessRequests.value.filter((r) => isUnassigned(r.status)).length\n        stats.unassigned = pendingForICT\n        stats.assigned = accessRequests.value.filter((r) => r.status === 'assigned_to_ict').length\n        stats.inProgress = accessRequests.value.filter(\n          (r) => r.status === 'implementation_in_progress'\n        ).length\n        stats.total = accessRequests.value.length\n\n        setPendingCountOverride(pendingForICT)\n\n        // Diagnostics are expensive (extra API calls). Only run when explicitly enabled.\n        const enableNotificationDiagnostics =\n          process.env.NODE_ENV === 'development' &&\n          typeof localStorage !== 'undefined' &&\n          localStorage.getItem('ENABLE_NOTIFICATION_DIAGNOSTICS') === 'true'\n        if (enableNotificationDiagnostics) {\n          setTimeout(() => diagnoseNotificationDiscrepancy(), 1000)\n        }\n      } else {\n        console.error('‚ùå IctAccessRequests: Failed to load requests:', result.message)\n        error.value = result.message\n        // Don't clear existing data on error - keep old data visible\n      }\n    } catch (err) {\n      console.error('‚ùå IctAccessRequests: Error loading requests:', err)\n      error.value = 'Network error while loading access requests. Please check your connection.'\n      // Don't clear existing data on error - keep old data visible\n    } finally {\n      isLoading.value = false\n    }\n  }\n\n  async function refreshRequests() {\n    console.log('üîÑ IctAccessRequests: Refreshing requests...')\n    await fetchAccessRequests()\n    initAutoRetryForList()\n  }\n\n  async function viewRequest(request) {\n    console.log('üëÅÔ∏è IctAccessRequests: Viewing request details:', request.id)\n    try {\n      if (ensureInitialized && typeof ensureInitialized === 'function') {\n        await ensureInitialized()\n      }\n      const role =\n        (typeof userRole === 'function' ? userRole() : userRole?.value) ||\n        user?.value?.primary_role ||\n        user?.value?.role\n      if (role !== ROLES.ICT_OFFICER) {\n        console.warn('Blocked navigation: current role is not ICT_OFFICER', { role })\n        window.location.href = '/ict-dashboard'\n        await nextTick()\n        alert('You do not have permission to process this request.')\n        return\n      }\n      const targetId = request.id\n      if (!targetId) {\n        console.warn('Missing id on request, cannot open form.', request)\n        await nextTick()\n        alert('Cannot open form: missing request id.')\n        return\n      }\n      window.location.href = `/ict-dashboard/both-service-form/${targetId}`\n    } catch (e) {\n      console.error('Failed to open request processing page:', e)\n      await nextTick()\n      alert('Unable to open the request. Please try again.')\n    }\n  }\n\n  async function assignTask(request) {\n    console.log('üìã IctAccessRequests: Assigning task for request:', request.id)\n    try {\n      const result = await ictOfficerService.assignTaskToSelf(\n        request.id,\n        'Task assigned by ICT Officer'\n      )\n      if (result.success) {\n        await fetchAccessRequests()\n        refreshNotificationBadge()\n        alert('Task assigned successfully!')\n      } else {\n        alert('Failed to assign task: ' + result.message)\n      }\n    } catch (error) {\n      console.error('Error assigning task:', error)\n      alert('Network error while assigning task')\n    }\n  }\n\n  async function updateProgress(request) {\n    console.log('üìà IctAccessRequests: Updating progress for request:', request.id)\n    try {\n      const result = await ictOfficerService.updateProgress(\n        request.id,\n        'implementation_in_progress',\n        'Implementation started'\n      )\n      if (result.success) {\n        await fetchAccessRequests()\n        refreshNotificationBadge()\n        alert('Progress updated successfully!')\n      } else {\n        alert('Failed to update progress: ' + result.message)\n      }\n    } catch (error) {\n      console.error('Error updating progress:', error)\n      alert('Network error while updating progress')\n    }\n  }\n\n  async function cancelTask(request) {\n    console.log('‚ùå IctAccessRequests: Canceling task for request:', request.id)\n    const reason = prompt('Please provide a reason for canceling this task:')\n    if (reason && reason.trim()) {\n      try {\n        const result = await ictOfficerService.cancelTask(request.id, reason)\n        if (result.success) {\n          await fetchAccessRequests()\n          refreshNotificationBadge()\n          alert('Task canceled successfully!')\n        } else {\n          alert('Failed to cancel task: ' + result.message)\n        }\n      } catch (error) {\n        console.error('Error canceling task:', error)\n        alert('Network error while canceling task')\n      }\n    }\n  }\n\n  function hasService(request, serviceType) {\n    if (serviceType === 'jeeva') {\n      return (\n        request.jeeva_access_required ||\n        (request.request_types && request.request_types.includes('jeeva'))\n      )\n    }\n    if (serviceType === 'wellsoft') {\n      return (\n        request.wellsoft_access_required ||\n        (request.request_types && request.request_types.includes('wellsoft'))\n      )\n    }\n    if (serviceType === 'internet') {\n      return (\n        request.internet_access_required ||\n        (request.request_types && request.request_types.includes('internet'))\n      )\n    }\n    return false\n  }\n\n  function getRequestType(request) {\n    const services = []\n    if (hasService(request, 'jeeva')) services.push('Jeeva')\n    if (hasService(request, 'wellsoft')) services.push('Wellsoft')\n    if (hasService(request, 'internet')) services.push('Internet')\n    return services.length > 0 ? services.join(' + ') : 'Access Request'\n  }\n\n  function getStatusBadgeClass(status) {\n    const statusClasses = {\n      head_of_it_approved: 'bg-yellow-500 text-yellow-900',\n      assigned_to_ict: 'bg-blue-500 text-blue-900',\n      implementation_in_progress: 'bg-purple-500 text-purple-900',\n      completed: 'bg-emerald-500 text-emerald-900',\n      implemented: 'bg-green-500 text-green-900',\n      cancelled: 'bg-red-500 text-red-900'\n    }\n    return statusClasses[status] || 'bg-gray-500 text-gray-900'\n  }\n\n  function getStatusText(status) {\n    const statusTexts = {\n      head_of_it_approved: 'Pending Implementation',\n      assigned_to_ict: 'Assigned to ICT Officer',\n      implementation_in_progress: 'Implementation in Progress',\n      completed: 'Implementation Completed',\n      implemented: 'Access Granted',\n      cancelled: 'Task Cancelled'\n    }\n    return (\n      statusTexts[status] ||\n      status?.replace(/_/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase()) ||\n      'Unknown Status'\n    )\n  }\n\n  // SMS Status helper functions\n  function getRelevantSmsStatus(request) {\n    // Only show SMS status if access has been granted (implemented/completed)\n    if (request.status === 'implemented' || request.status === 'completed') {\n      // Accept broader fields and values\n      const normalize = (val) => {\n        if (val === undefined || val === null) return null\n        if (typeof val === 'boolean') return val ? 'sent' : 'pending'\n        if (typeof val === 'number') return val === 1 ? 'sent' : val === 0 ? 'pending' : null\n        const v = String(val).toLowerCase().trim()\n        if (\n          [\n            'sent',\n            'delivered',\n            'success',\n            'successful',\n            'ok',\n            'delivrd',\n            'delivery_ok',\n            'submitted',\n            'accepted',\n            'done',\n            'complete',\n            'completed'\n          ].includes(v)\n        )\n          return 'sent'\n        if (\n          [\n            'failed',\n            'fail',\n            'error',\n            'undelivered',\n            'rejected',\n            'expired',\n            'blocked',\n            'blacklisted'\n          ].includes(v)\n        )\n          return 'failed'\n        if (['queued', 'queue', 'processing', 'pending', 'in_progress'].includes(v))\n          return 'pending'\n        return v || null\n      }\n      const ts =\n        request.requester_sms_sent_at ||\n        request.sms_to_requester_at ||\n        request.sms_delivered_to_requester_at\n      if (ts) return 'sent'\n      const candidates = [\n        request.sms_to_requester_status,\n        request.sms_to_requester,\n        request.requester_sms_status,\n        request.sms_delivery_status_to_requester,\n        request.sms_status\n      ]\n        .map(normalize)\n        .filter(Boolean)\n      if (candidates.length) return candidates.find((s) => s !== 'pending') || candidates[0]\n      return 'pending'\n    }\n    // Otherwise, show pending (access not yet granted)\n    return 'pending'\n  }\n\n  function getSmsStatusText(smsStatus) {\n    // NOTE: \"sent\" here means \"submitted to provider\".\n    // We only know \"delivered\" if we receive provider delivery reports.\n    const statusMap = {\n      sent: 'Submitted',\n      pending: 'Pending',\n      failed: 'Failed'\n    }\n    return statusMap[smsStatus] || 'Pending'\n  }\n\n  function getSmsStatusColor(smsStatus) {\n    const colorMap = {\n      sent: 'bg-green-500',\n      pending: 'bg-yellow-500',\n      failed: 'bg-red-500'\n    }\n    return colorMap[smsStatus] || 'bg-gray-400'\n  }\n\n  function getSmsStatusTextColor(smsStatus) {\n    const textColorMap = {\n      sent: 'text-green-400',\n      pending: 'text-yellow-400',\n      failed: 'text-red-400'\n    }\n    return textColorMap[smsStatus] || 'text-gray-400'\n  }\n\n  function viewTimeline(request) {\n    console.log('üìÖ IctAccessRequests: Opening timeline for request:', request.id)\n    selectedRequestId.value = request.id\n    selectedRequest.value = request\n    showTimeline.value = true\n  }\n\n  function closeTimeline() {\n    console.log('üìÖ IctAccessRequests: Closing timeline modal')\n    showTimeline.value = false\n    selectedRequestId.value = null\n    selectedRequest.value = null\n    showUpdateProgress.value = false\n  }\n\n  async function handleTimelineUpdate() {\n    console.log('üîÑ IctAccessRequests: Timeline updated, refreshing requests list...')\n    await fetchAccessRequests()\n    refreshNotificationBadge()\n  }\n\n  function openUpdateProgress(request) {\n    console.log('üìù IctAccessRequests: Opening update progress section for request:', request?.id)\n    if (request && canShowUpdateProgress(request)) {\n      selectedRequest.value = request\n      selectedRequestId.value = request.id\n      showUpdateProgress.value = true\n    }\n  }\n\n  function closeUpdateProgress() {\n    console.log('üìù IctAccessRequests: Closing update progress section')\n    showUpdateProgress.value = false\n  }\n\n  async function handleUpdateProgressUpdate() {\n    console.log('üîÑ IctAccessRequests: Progress updated, refreshing data...')\n    await fetchAccessRequests()\n    refreshNotificationBadge()\n    initAutoRetryForList()\n    closeTimeline()\n    setTimeout(() => refreshNotificationBadge(), 3000)\n    setTimeout(() => refreshNotificationBadge(), 5000)\n  }\n\n  function canShowUpdateProgress(request) {\n    if (!request) return false\n    const currentUserId = user.value?.id\n    return (\n      request.ict_officer_user_id &&\n      request.ict_officer_user_id === currentUserId &&\n      !request.ict_officer_implemented_at &&\n      request.ict_officer_status !== 'implemented' &&\n      request.ict_officer_status !== 'rejected' &&\n      !['implemented', 'completed'].includes(request.status) &&\n      (request.status === 'assigned_to_ict' || request.status === 'implementation_in_progress')\n    )\n  }\n\n  function toggleDropdown(requestId, event, request) {\n    if (activeDropdown.value === requestId) {\n      activeDropdown.value = null\n      selectedRequest.value = null\n    } else {\n      activeDropdown.value = requestId\n      selectedRequest.value = request\n\n      if (event) {\n        const button = event.target.closest('button')\n        if (button) {\n          const rect = button.getBoundingClientRect()\n\n          // Always show above the button\n          dropdownPosition.value = {\n            top: rect.top + window.scrollY,\n            right: window.innerWidth - rect.right - window.scrollX,\n            showAbove: true\n          }\n        }\n      }\n    }\n  }\n\n  function getDropdownPosition() {\n    if (dropdownPosition.value) {\n      const dropdownWidth = 192\n      const dropdownHeight = 120 // Reduced from 200 to actual height\n      let { top, right, showAbove } = dropdownPosition.value\n\n      // Adjust horizontal position if too close to left edge\n      if (right + dropdownWidth > window.innerWidth) {\n        right = Math.max(4, window.innerWidth - dropdownWidth - 4)\n      }\n\n      // If showing above, adjust top position to be just above the button\n      if (showAbove) {\n        top = top - dropdownHeight\n        // Ensure it doesn't go above viewport\n        if (top < window.scrollY + 4) {\n          top = window.scrollY + 4\n        }\n      }\n\n      return { top: `${top}px`, right: `${right}px`, left: 'auto' }\n    }\n    return { top: '100%', right: '0', left: 'auto', position: 'absolute' }\n  }\n\n  function handleClickOutside(event) {\n    if (\n      activeDropdown.value &&\n      !event.target.closest('[style*=\"z-index: 9999\"]') &&\n      !event.target.closest('button[title*=\"Actions for\"]')\n    ) {\n      activeDropdown.value = null\n      dropdownPosition.value = null\n    }\n  }\n\n  async function downloadPdf(request) {\n    try {\n      if (!request?.id) {\n        alert('Missing request id')\n        return\n      }\n      downloadingPdf.value = true\n      downloadPercent.value = 0\n      const res = await apiClient.get(`/both-service-form/${request.id}/export-pdf`, {\n        responseType: 'blob',\n        onDownloadProgress: (evt) => {\n          if (evt.total) {\n            downloadPercent.value = Math.min(100, Math.round((evt.loaded * 100) / evt.total))\n          } else {\n            // If total is not provided, show an animated fallback\n            const next = downloadPercent.value + 3\n            downloadPercent.value = next >= 95 ? 95 : next\n          }\n        }\n      })\n      const blob = new Blob([res.data], { type: 'application/pdf' })\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `access-request-${request.id}.pdf`\n      document.body.appendChild(link)\n      link.click()\n      URL.revokeObjectURL(url)\n      link.remove()\n      downloadPercent.value = 100\n      setTimeout(() => (downloadingPdf.value = false), 400)\n    } catch (e) {\n      console.error('Failed to download PDF:', e)\n      downloadingPdf.value = false\n      downloadPercent.value = 0\n      alert('Failed to download PDF. Please try again.')\n    }\n  }\n\n  function handleMenuAction(action, request) {\n    activeDropdown.value = null\n    dropdownPosition.value = null\n    switch (action) {\n      case 'viewRequest':\n        viewRequest(request)\n        break\n      case 'viewTimeline':\n        viewTimeline(request)\n        break\n      case 'downloadPdf':\n        downloadPdf(request)\n        break\n      case 'assignTask':\n        assignTask(request)\n        break\n      case 'updateProgress':\n        updateProgress(request)\n        break\n      case 'cancelTask':\n        cancelTask(request)\n        break\n      default:\n        console.warn('Unknown action:', action)\n    }\n  }\n\n  function formatDate(dateString) {\n    if (!dateString) return 'N/A'\n    try {\n      return new Date(dateString).toLocaleDateString('en-GB')\n    } catch {\n      return 'Invalid Date'\n    }\n  }\n\n  function formatTime(dateString) {\n    if (!dateString) return 'N/A'\n    try {\n      return new Date(dateString).toLocaleTimeString('en-GB', {\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    } catch {\n      return 'Invalid Time'\n    }\n  }\n\n  function refreshNotificationBadge() {\n    try {\n      console.log('üîî AccessRequests: Triggering notification badge refresh')\n      const currentPendingCount = accessRequests.value.filter((r) => isUnassigned(r.status)).length\n      setPendingCountOverride(currentPendingCount)\n      clearNotificationCache()\n      if (window.dispatchEvent) {\n        const event = new CustomEvent('force-refresh-notifications', {\n          detail: { source: 'AccessRequests', reason: 'request_updated', timestamp: Date.now() }\n        })\n        window.dispatchEvent(event)\n        console.log('üöÄ AccessRequests: Dispatched force-refresh-notifications event')\n      }\n      if (window.sidebarInstance && window.sidebarInstance.fetchNotificationCounts) {\n        console.log('üìû AccessRequests: Calling sidebar fetchNotificationCounts directly')\n        window.sidebarInstance.fetchNotificationCounts(true)\n      }\n    } catch (e) {\n      console.warn('Failed to refresh notification badge:', e)\n    }\n  }\n\n  function clearNotificationCache() {\n    try {\n      import('@/services/notificationService').then((m) => {\n        m.default.clearCache()\n        console.log('üóëÔ∏è AccessRequests: Cleared notification service cache')\n      })\n    } catch (e) {\n      console.warn('Failed to clear notification cache:', e)\n    }\n  }\n\n  function setPendingCountOverride(count) {\n    try {\n      console.log('üé† AccessRequests: Setting pending count override:', count)\n      if (typeof window !== 'undefined') {\n        window.accessRequestsPendingCount = count\n      }\n      if (window.dispatchEvent) {\n        const event = new CustomEvent('ict-access-requests-pending-count', {\n          detail: { count, source: 'AccessRequests', timestamp: Date.now() }\n        })\n        window.dispatchEvent(event)\n      }\n      if (window.sidebarInstance && window.sidebarInstance.setNotificationCount) {\n        window.sidebarInstance.setNotificationCount('/ict-dashboard/access-requests', count)\n      }\n      console.log('üìª AccessRequests: Emitted pending count override event')\n    } catch (e) {\n      console.warn('Failed to set pending count override:', e)\n    }\n  }\n\n  async function diagnoseNotificationDiscrepancy() {\n    try {\n      console.log('üîç DIAGNOSTIC: Comparing notification APIs...')\n      const notificationService = (await import('@/services/notificationService')).default\n      const universalResult = await notificationService.getPendingRequestsCount(true)\n      const ictResult = await ictOfficerService.getPendingRequestsCount()\n      const pageStatuses = accessRequests.value.map((r) => ({\n        id: r.id,\n        status: r.status,\n        request_id: r.request_id || `REQ-${r.id.toString().padStart(6, '0')}`\n      }))\n      if (process.env.NODE_ENV === 'development') {\n        console.log('üî¥ NOTIFICATION API COMPARISON:', {\n          universal_api: {\n            endpoint: '/notifications/pending-count',\n            count: universalResult.total_pending,\n            full_response: universalResult\n          },\n          ict_specific_api: {\n            endpoint: '/ict-officer/pending-count',\n            count: ictResult.total_pending || ictResult,\n            full_response: ictResult\n          },\n          page_data: {\n            total_requests: accessRequests.value.length,\n            pending_requests: accessRequests.value.filter((r) => isUnassigned(r.status)).length,\n            completed_requests: accessRequests.value.filter((r) =>\n              ['completed', 'implemented'].includes(r.status)\n            ).length,\n            all_statuses: pageStatuses\n          },\n          analysis: {\n            universal_vs_ict:\n              universalResult.total_pending === (ictResult.total_pending || ictResult)\n                ? 'MATCH'\n                : 'MISMATCH',\n            badge_vs_page:\n              universalResult.total_pending ===\n              accessRequests.value.filter((r) => isUnassigned(r.status)).length\n                ? 'CONSISTENT'\n                : 'INCONSISTENT'\n          }\n        })\n      }\n    } catch (e) {\n      console.error('üö´ DIAGNOSTIC ERROR:', e)\n    }\n  }\n\n  // Lifecycle\n  // Retry state\n  const retryAttempts = reactive({}) // requestId -> count\n  const retryTimers = reactive({}) // requestId -> timer id\n  const maxRetryAttempts = 5\n  const retryDelays = [3000, 7000, 15000, 30000, 60000]\n\n  function getRetryAttempts(id) {\n    return retryAttempts[id] || 0\n  }\n  function isRetrying(id) {\n    return !!retryTimers[id]\n  }\n\n  async function retrySendSms(request) {\n    if (!request) return\n    const id = request.id\n    if (!retryAttempts[id]) retryAttempts[id] = 0\n\n    // Guard against spamming\n    if (isRetrying(id)) return\n\n    try {\n      retryTimers[id] = setTimeout(() => {}, 0) // mark busy\n      const phone = request.phone_number || request.phone || null\n      await ictOfficerService.resendRequesterSms(id, phone)\n      // Short delay to allow backend to update, then refresh\n      setTimeout(async () => {\n        await fetchAccessRequests()\n        clearTimeout(retryTimers[id])\n        delete retryTimers[id]\n        const status = getRelevantSmsStatus(\n          accessRequests.value.find((r) => r.id === id) || request\n        )\n        if (status !== 'sent') {\n          // schedule next retry if allowed\n          scheduleNextRetry(id, request)\n        } else {\n          retryAttempts[id] = 0\n        }\n      }, 1200)\n    } catch (e) {\n      clearTimeout(retryTimers[id])\n      delete retryTimers[id]\n      scheduleNextRetry(id, request)\n    }\n  }\n\n  function scheduleNextRetry(id, request) {\n    retryAttempts[id] = (retryAttempts[id] || 0) + 1\n    if (retryAttempts[id] > maxRetryAttempts) return\n    const delay = retryDelays[Math.min(retryAttempts[id] - 1, retryDelays.length - 1)]\n    retryTimers[id] = setTimeout(() => {\n      clearTimeout(retryTimers[id])\n      delete retryTimers[id]\n      retrySendSms(request)\n    }, delay)\n  }\n\n  function initAutoRetryForList() {\n    for (const r of accessRequests.value) {\n      const st = getRelevantSmsStatus(r)\n      if (['failed', 'pending'].includes(st) && ['implemented', 'completed'].includes(r.status)) {\n        // start gentle auto-retry only if not already running\n        if (!retryTimers[r.id] && (retryAttempts[r.id] || 0) === 0) {\n          scheduleNextRetry(r.id, r)\n        }\n      }\n    }\n  }\n\n  onMounted(async () => {\n    try {\n      console.log('IctAccessRequests: Component mounted, initializing...')\n      // Safety: ensure stale overlays are cleared on mount\n      isLoading.value = false\n      downloadingPdf.value = false\n\n      requireRole([ROLES.ICT_OFFICER, ROLES.SECRETARY_ICT])\n      await fetchAccessRequests()\n      console.log('IctAccessRequests: Component initialized successfully')\n      refreshNotificationBadge()\n      initAutoRetryForList()\n\n      // Optional diagnostics: enable by running in DevTools:\n      // localStorage.setItem('ENABLE_NOTIFICATION_DIAGNOSTICS','true') then refresh.\n      const enableNotificationDiagnostics =\n        process.env.NODE_ENV === 'development' &&\n        typeof localStorage !== 'undefined' &&\n        localStorage.getItem('ENABLE_NOTIFICATION_DIAGNOSTICS') === 'true'\n      if (enableNotificationDiagnostics) {\n        diagnoseNotificationDiscrepancy()\n      }\n      document.addEventListener('click', handleClickOutside)\n\n      // Extra safety: auto-clear loading overlays if they persist too long\n      setTimeout(() => {\n        if (isLoading.value) {\n          console.warn('IctAccessRequests: Forcing isLoading=false after timeout')\n          isLoading.value = false\n        }\n      }, 10000)\n      setTimeout(() => {\n        if (downloadingPdf.value && downloadPercent.value === 0) {\n          console.warn('IctAccessRequests: Forcing downloadingPdf=false after timeout')\n          downloadingPdf.value = false\n        }\n      }, 30000)\n    } catch (e) {\n      console.error('IctAccessRequests: Error during mount:', e)\n      error.value = 'Failed to initialize component: ' + e.message\n      isLoading.value = false\n      downloadingPdf.value = false\n    }\n  })\n\n  onBeforeUnmount(() => {\n    document.removeEventListener('click', handleClickOutside)\n  })\n</script>\n\n<style scoped>\n  .sidebar-narrow {\n    flex-shrink: 0;\n  }\n\n  /* Animations */\n  @keyframes float {\n    0%,\n    100% {\n      transform: translateY(0px);\n    }\n    50% {\n      transform: translateY(-15px);\n    }\n  }\n\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  /* Sliding background animation for loading banner */\n  @keyframes slide-across {\n    0% {\n      transform: translateX(-100%);\n    }\n    100% {\n      transform: translateX(100%);\n    }\n  }\n\n  .animate-float {\n    animation: float 6s ease-in-out infinite;\n  }\n\n  .animate-fade-in {\n    animation: fade-in 1s ease-out;\n  }\n\n  .animate-slide-across {\n    animation: slide-across 2.5s ease-in-out infinite;\n  }\n  /* Status filter dropdown styling */\n  .status-select {\n    background-color: rgba(255, 255, 255, 0.12);\n    color: #fff;\n    border-color: rgba(147, 197, 253, 0.4);\n  }\n  .status-select:focus {\n    outline: none;\n    border-color: #60a5fa;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.35);\n  }\n  .status-select option,\n  .status-select optgroup {\n    background-color: #1e3a8a;\n    color: #ffffff;\n  }\n</style>\n","import script from \"./AccessRequests.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AccessRequests.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AccessRequests.vue?vue&type=style&index=0&id=5afe819d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5afe819d\"]])\n\nexport default __exports__","import axios from 'axios'\n\nconst API_BASE_URL = process.env.VUE_APP_API_URL || 'http://127.0.0.1:8000/api'\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: parseInt(process.env.VUE_APP_API_TIMEOUT) || 10000,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  }\n})\n\n// Add auth token to requests\napiClient.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('auth_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Handle response errors\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      // Token expired or invalid\n      localStorage.removeItem('auth_token')\n      localStorage.removeItem('user_data')\n      localStorage.removeItem('session_data')\n      window.location.href = '/login'\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default apiClient\n"],"names":["class","fill","viewBox","stroke","$props","show","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","d","_normalizeClass","$options","getRequestStatusClasses","requestData","status","getRequestStatusLabel","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","request_id","id","toString","padStart","_hoisted_6","staff_name","_hoisted_7","department_name","_hoisted_8","_hoisted_9","$data","selectedStatus","onClick","_cache","$event","selectStatus","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","for","comments","rows","placeholder","_hoisted_17","length","error","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","args","close","updateProgress","disabled","updating","_hoisted_23","cx","cy","r","_hoisted_24","_hoisted_25","_hoisted_26","name","props","type","Boolean","default","requestId","Number","String","required","Object","emits","setup","hasRole","ROLES","user","useAuth","currentUser","data","computed","canUpdate","this","ICT_OFFICER","ict_officer_user_id","ict_officer_implemented_at","ict_officer_status","watch","newVal","resetForm","substring","methods","result","ictOfficerService","success","showSuccessMessage","refreshNotificationBadge","$emit","message","console","successDiv","document","createElement","className","innerHTML","body","appendChild","setTimeout","parentNode","style","transform","opacity","removeChild","clearNotificationCache","window","dispatchEvent","event","CustomEvent","detail","source","reason","newStatus","timestamp","Date","now","sidebarInstance","fetchNotificationCounts","delayedEvent","includes","warn","then","module","clearCache","__exports__","render","maxRetryAttempts","accessRequests","ref","searchQuery","statusFilter","isLoading","downloadingPdf","downloadPercent","stats","reactive","unassigned","assigned","inProgress","total","pagination","currentPage","perPage","showTimeline","selectedRequestId","selectedRequest","showUpdateProgress","activeDropdown","dropdownPosition","requireRole","userRole","ensureInitialized","isUnassigned","filteredRequests","Array","isArray","value","filtered","query","toLowerCase","filter","request","full_name","pf_number","department","sort","a","b","aUnassigned","bUnassigned","getRelevantDate","head_of_it_approval_date","head_of_it_approved_at","created_at","async","fetchAccessRequests","getAccessRequests","payload","list","current_page","per_page","pendingForICT","setPendingCountOverride","enableNotificationDiagnostics","process","diagnoseNotificationDiscrepancy","err","refreshRequests","initAutoRetryForList","viewRequest","role","primary_role","location","href","nextTick","alert","targetId","e","assignTask","assignTaskToSelf","cancelTask","prompt","trim","hasService","serviceType","jeeva_access_required","request_types","wellsoft_access_required","internet_access_required","getRequestType","services","push","join","getStatusBadgeClass","statusClasses","head_of_it_approved","assigned_to_ict","implementation_in_progress","completed","implemented","cancelled","getStatusText","statusTexts","replace","l","toUpperCase","getRelevantSmsStatus","normalize","val","undefined","v","ts","requester_sms_sent_at","sms_to_requester_at","sms_delivered_to_requester_at","candidates","sms_to_requester_status","sms_to_requester","requester_sms_status","sms_delivery_status_to_requester","sms_status","map","find","s","getSmsStatusText","smsStatus","statusMap","sent","pending","failed","getSmsStatusColor","colorMap","getSmsStatusTextColor","textColorMap","viewTimeline","closeTimeline","handleTimelineUpdate","openUpdateProgress","canShowUpdateProgress","closeUpdateProgress","handleUpdateProgressUpdate","currentUserId","toggleDropdown","button","target","closest","rect","getBoundingClientRect","top","scrollY","right","innerWidth","scrollX","showAbove","getDropdownPosition","dropdownWidth","dropdownHeight","Math","max","left","position","handleClickOutside","downloadPdf","res","apiClient","get","responseType","onDownloadProgress","evt","min","round","loaded","next","blob","Blob","url","URL","createObjectURL","link","download","click","revokeObjectURL","remove","handleMenuAction","action","formatDate","dateString","toLocaleDateString","formatTime","toLocaleTimeString","hour","minute","currentPendingCount","m","count","accessRequestsPendingCount","setNotificationCount","notificationService","getPendingRequestsCount","retryAttempts","retryTimers","retryDelays","getRetryAttempts","isRetrying","retrySendSms","phone","phone_number","resendRequesterSms","clearTimeout","scheduleNextRetry","delay","st","onMounted","SECRETARY_ICT","addEventListener","onBeforeUnmount","removeEventListener","_createVNode","Header","ModernSidebar","_Fragment","_renderList","key","_hoisted_22","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","padding","width","_hoisted_46","_hoisted_47","title","_hoisted_50","_hoisted_49","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_createBlock","_Teleport","to","_normalizeStyle","_withModifiers","AppFooter","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","RequestTimeline","onClose","onUpdated","onOpenUpdateProgress","_hoisted_65","UpdateProgress","API_BASE_URL","axios","create","baseURL","timeout","parseInt","headers","Accept","interceptors","use","config","token","localStorage","getItem","Authorization","Promise","reject","response","removeItem"],"ignoreList":[],"sourceRoot":""}