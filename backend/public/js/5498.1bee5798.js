"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[5498],{5498:function(e,t,r){r.d(t,{A:function(){return Y}});var s=r(5796);const a={class:"bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 text-white py-3 px-6 border-b border-blue-600/40 shadow-xl backdrop-blur-sm relative z-[1000]"},o={class:"flex justify-between items-center"},l={class:"flex items-center space-x-4"},i={class:"flex items-center space-x-3"},n={class:"w-10 h-10 bg-gradient-to-br from-blue-500/30 to-blue-600/30 rounded-lg backdrop-blur-sm border border-blue-400/50 flex items-center justify-center shadow-lg"},d={class:"flex items-center space-x-4"},c={class:"relative",ref:"profileDropdown"},u={class:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center shadow-lg border-2 border-blue-300/30 relative overflow-hidden"},p=["src"],f={key:1,class:"fas fa-user text-white text-sm relative z-10 drop-shadow-lg"},b={key:0,class:"text-left"},m={class:"text-base font-medium text-white leading-tight"},h={class:"text-xs text-blue-200 capitalize leading-tight"},g={key:0,class:"profile-dropdown absolute right-0 mt-2 w-72 bg-white rounded-xl shadow-2xl border-2 border-blue-300/60 z-[10002] overflow-hidden backdrop-blur-sm",style:{"box-shadow":"0 25px 50px -12px rgba(59, 130, 246, 0.4),\n                  0 10px 25px -5px rgba(59, 130, 246, 0.3),\n                  0 4px 6px -1px rgba(59, 130, 246, 0.2),\n                  inset 0 1px 0 rgba(255, 255, 255, 0.8),\n                  inset 0 -1px 0 rgba(59, 130, 246, 0.1)","border-image":"linear-gradient(\n                    135deg,\n                    rgba(59, 130, 246, 0.8),\n                    rgba(147, 197, 253, 0.6),\n                    rgba(59, 130, 246, 0.8)\n                  )\n                  1"}},x={class:"bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 px-4 py-4 relative overflow-hidden",style:{"box-shadow":"0 8px 25px -5px rgba(59, 130, 246, 0.5),\n                    inset 0 1px 0 rgba(255, 255, 255, 0.2),\n                    inset 0 -1px 0 rgba(0, 0, 0, 0.1)","border-bottom":"2px solid rgba(59, 130, 246, 0.3)"}},v={class:"flex items-center space-x-3 relative z-10"},w={class:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center relative overflow-hidden",style:{"box-shadow":"0 8px 20px -4px rgba(59, 130, 246, 0.6),\n                        0 4px 8px -2px rgba(59, 130, 246, 0.4),\n                        inset 0 2px 4px rgba(255, 255, 255, 0.3),\n                        inset 0 -2px 4px rgba(0, 0, 0, 0.2)",border:"2px solid rgba(255, 255, 255, 0.4)"}},y=["src"],k={key:1,class:"fas fa-user text-white text-lg relative z-10 drop-shadow-lg"},L={class:"flex-1"},C={class:"text-white font-semibold text-sm"},_={class:"text-blue-100 text-xs"},D={class:"flex items-center mt-1"},T={class:"bg-blue-500/40 text-blue-100 px-2 py-0.5 rounded-full text-xs font-medium relative overflow-hidden",style:{"box-shadow":"0 2px 8px rgba(59, 130, 246, 0.4),\n                            inset 0 1px 0 rgba(255, 255, 255, 0.2)",border:"1px solid rgba(147, 197, 253, 0.5)"}},I={class:"relative z-10"},E={class:"py-2"},U={key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9998] backdrop-blur-sm"},R={class:"bg-white rounded-2xl shadow-2xl max-w-lg w-full mx-4 transform transition-all duration-300 scale-100 overflow-hidden max-h-[85vh] overflow-y-auto"},O={class:"p-6"},j={class:"space-y-4"},A={class:"bg-blue-50 rounded-lg shadow-sm border border-blue-100"},q={class:"w-8 h-8 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center"},z={key:0,class:"px-4 pb-4"},H={class:"bg-white rounded-xl border border-blue-100 p-4"},S={class:"text-xs text-gray-500 mb-2"},X={class:"font-medium"},P={class:"space-y-3"},G={class:"text-sm font-semibold text-gray-800 mb-1"},W={class:"list-disc pl-5 text-sm text-gray-700 space-y-1"},M={class:"mt-6"};function F(e,t,r,F,Q,K){return(0,s.uX)(),(0,s.CE)("header",a,[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[(0,s.Lk)("div",i,[(0,s.Lk)("div",n,[(0,s.Lk)("img",{src:"/assets/images/ngao2.png",alt:"National Shield",class:"max-w-6 max-h-6 object-contain",loading:"lazy",decoding:"async",fetchpriority:"low",width:"24",height:"24",onError:t[0]||(t[0]=e=>e.target.style.display="none")},null,32)]),t[9]||(t[9]=(0,s.Lk)("div",null,[(0,s.Lk)("h1",{class:"text-lg font-bold text-white tracking-wide"},"Muhimbili National Hospital"),(0,s.Lk)("p",{class:"text-xs text-blue-200"},"ICT Access Management System")],-1))])]),(0,s.Lk)("div",d,[(0,s.Lk)("div",c,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>F.toggleProfileDropdown&&F.toggleProfileDropdown(...e)),class:"flex items-center space-x-3 px-4 py-2 bg-blue-600/60 text-white rounded-lg hover:bg-blue-600/80 transition-all duration-300 border border-blue-500/40 focus:outline-none focus:ring-2 focus:ring-blue-400 shadow-lg hover:shadow-blue-500/25"},[(0,s.Lk)("div",u,[t[10]||(t[10]=(0,s.Lk)("div",{class:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"},null,-1)),F.safeCurrentUser?.profile_photo_url?((0,s.uX)(),(0,s.CE)("img",{key:0,src:F.safeCurrentUser.profile_photo_url,alt:"Profile photo",class:"w-full h-full object-cover rounded-full relative z-10"},null,8,p)):((0,s.uX)(),(0,s.CE)("i",f)),t[11]||(t[11]=(0,s.Lk)("div",{class:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-400 rounded-full border border-white"},null,-1))]),F.safeCurrentUser?((0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("p",m,(0,s.v_)(F.safeCurrentUser.name),1),(0,s.Lk)("p",h,(0,s.v_)(F.formatRole(F.safeCurrentUser.role||F.safeCurrentUser.role_name)),1)])):(0,s.Q3)("",!0),(0,s.Lk)("i",{class:(0,s.C4)(["fas fa-chevron-down text-xs text-blue-200 transition-transform duration-300",F.showProfileDropdown?"rotate-180":""])},null,2)]),(0,s.bF)(s.eB,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95 translate-y-1","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0","leave-to-class":"opacity-0 scale-95 translate-y-1"},{default:(0,s.k6)(()=>[F.showProfileDropdown?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.Lk)("div",x,[t[16]||(t[16]=(0,s.Lk)("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500/20 via-transparent to-blue-900/20"},null,-1)),t[17]||(t[17]=(0,s.Lk)("div",{class:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"},null,-1)),t[18]||(t[18]=(0,s.Lk)("div",{class:"absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-blue-300/50 to-transparent"},null,-1)),(0,s.Lk)("div",v,[(0,s.Lk)("div",w,[t[12]||(t[12]=(0,s.Lk)("div",{class:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent rounded-full"},null,-1)),F.safeCurrentUser?.profile_photo_url?((0,s.uX)(),(0,s.CE)("img",{key:0,src:F.safeCurrentUser.profile_photo_url,alt:"Profile photo",class:"w-full h-full object-cover rounded-full relative z-10"},null,8,y)):((0,s.uX)(),(0,s.CE)("i",k)),t[13]||(t[13]=(0,s.Lk)("div",{class:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"},null,-1))]),(0,s.Lk)("div",L,[(0,s.Lk)("h3",C,(0,s.v_)(F.safeCurrentUser.name),1),(0,s.Lk)("p",_,(0,s.v_)(F.safeCurrentUser.email),1),(0,s.Lk)("div",D,[(0,s.Lk)("span",T,[t[15]||(t[15]=(0,s.Lk)("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-400/20 to-blue-600/20"},null,-1)),(0,s.Lk)("div",I,[t[14]||(t[14]=(0,s.Lk)("i",{class:"fas fa-id-badge mr-1"},null,-1)),(0,s.eW)(" "+(0,s.v_)(F.formatRole(F.safeCurrentUser.role||F.safeCurrentUser.role_name)),1)])])])])])]),(0,s.Lk)("div",E,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>F.goToDashboard&&F.goToDashboard(...e)),class:"w-full flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 transition-all duration-300 text-left relative overflow-hidden group"},[...t[19]||(t[19]=[(0,s.Lk)("div",{class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3 relative z-10",style:{"box-shadow":"0 4px 8px rgba(29, 78, 216, 0.4),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.3),\n                        inset 0 -1px 0 rgba(29, 78, 216, 0.3)",border:"1px solid rgba(147, 197, 253, 0.4)"}},[(0,s.Lk)("i",{class:"fas fa-home text-white text-sm"})],-1),(0,s.Lk)("div",{class:"relative z-10"},[(0,s.Lk)("p",{class:"font-medium text-sm"},"Dashboard"),(0,s.Lk)("p",{class:"text-xs text-gray-500"},"Go to your dashboard")],-1)])]),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>F.goToProfile&&F.goToProfile(...e)),class:"w-full flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 transition-all duration-300 text-left relative overflow-hidden group"},[...t[20]||(t[20]=[(0,s.Lk)("div",{class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3 relative z-10",style:{"box-shadow":"0 4px 8px rgba(29, 78, 216, 0.4),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.3),\n                        inset 0 -1px 0 rgba(29, 78, 216, 0.3)",border:"1px solid rgba(147, 197, 253, 0.4)"}},[(0,s.Lk)("i",{class:"fas fa-user-circle text-white text-sm"})],-1),(0,s.Lk)("div",{class:"relative z-10"},[(0,s.Lk)("p",{class:"font-medium text-sm"},"My Profile"),(0,s.Lk)("p",{class:"text-xs text-gray-500"},"View and edit profile")],-1)])]),F.isHeadOfDepartment?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>F.goToHodCreateUser&&F.goToHodCreateUser(...e)),class:"w-full flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 transition-all duration-300 text-left relative overflow-hidden group"},[...t[21]||(t[21]=[(0,s.Lk)("div",{class:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center mr-3 relative z-10",style:{"box-shadow":"0 4px 8px rgba(22, 163, 74, 0.4),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.3),\n                        inset 0 -1px 0 rgba(21, 128, 61, 0.3)",border:"1px solid rgba(74, 222, 128, 0.6)"}},[(0,s.Lk)("i",{class:"fas fa-user-plus text-white text-sm"})],-1),(0,s.Lk)("div",{class:"relative z-10"},[(0,s.Lk)("p",{class:"font-medium text-sm"},"Create Staff User"),(0,s.Lk)("p",{class:"text-xs text-gray-500"},"Register new staff in your department")],-1)])])):(0,s.Q3)("",!0),F.isAdmin?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[5]||(t[5]=(...e)=>F.openOnboardingReset&&F.openOnboardingReset(...e)),class:"w-full flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 transition-all duration-300 text-left relative overflow-hidden group"},[...t[22]||(t[22]=[(0,s.Lk)("div",{class:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3 relative z-10",style:{"box-shadow":"0 4px 8px rgba(234, 88, 12, 0.4),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.3),\n                        inset 0 -1px 0 rgba(154, 52, 18, 0.3)",border:"1px solid rgba(251, 146, 60, 0.4)"}},[(0,s.Lk)("i",{class:"fas fa-undo text-white text-sm"})],-1),(0,s.Lk)("div",{class:"relative z-10"},[(0,s.Lk)("p",{class:"font-medium text-sm"},"Reset Onboarding"),(0,s.Lk)("p",{class:"text-xs text-gray-500"},"Reset Terms & ICT Policy per user")],-1)])])):(0,s.Q3)("",!0),t[24]||(t[24]=(0,s.Lk)("div",{class:"border-t border-gray-200 my-2"},null,-1)),t[25]||(t[25]=(0,s.Lk)("div",{class:"border-t border-gray-200 my-2"},null,-1)),(0,s.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>F.logout&&F.logout(...e)),class:"w-full flex items-center px-4 py-3 text-gray-700 hover:bg-red-50 transition-all duration-300 text-left relative overflow-hidden group"},[...t[23]||(t[23]=[(0,s.Lk)("div",{class:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center mr-3 relative z-10",style:{"box-shadow":"0 4px 8px rgba(153, 27, 27, 0.4),\n                        inset 0 1px 0 rgba(255, 255, 255, 0.3),\n                        inset 0 -1px 0 rgba(153, 27, 27, 0.3)",border:"1px solid rgba(248, 113, 113, 0.4)"}},[(0,s.Lk)("i",{class:"fas fa-sign-out-alt text-white text-sm"})],-1),(0,s.Lk)("div",{class:"relative z-10"},[(0,s.Lk)("p",{class:"font-medium text-sm"},"Sign Out"),(0,s.Lk)("p",{class:"text-xs text-gray-500"},"Logout from your account")],-1)])])])])):(0,s.Q3)("",!0)]),_:1})],512)])]),F.showHelpModal?((0,s.uX)(),(0,s.CE)("div",U,[(0,s.Lk)("div",R,[t[29]||(t[29]=(0,s.Fv)('<div class="bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 p-6 text-center shadow-lg" data-v-7633d37e><div class="w-16 h-16 bg-blue-500/30 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm border border-blue-300/40 shadow-lg" data-v-7633d37e><i class="fas fa-question-circle text-white text-2xl" data-v-7633d37e></i></div><h3 class="text-xl font-bold text-white mb-1" data-v-7633d37e>Help &amp; Support</h3><p class="text-blue-100 text-sm" data-v-7633d37e>Quick help based on your role</p></div>',1)),(0,s.Lk)("div",O,[(0,s.Lk)("div",j,[t[28]||(t[28]=(0,s.Fv)('<div class="flex items-center p-4 bg-blue-50 rounded-lg shadow-sm border border-blue-100" data-v-7633d37e><div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center mr-3 shadow-md" data-v-7633d37e><i class="fas fa-phone text-white" data-v-7633d37e></i></div><div data-v-7633d37e><p class="font-medium text-gray-800" data-v-7633d37e>ICT Support</p><a class="text-sm text-gray-600 hover:text-blue-700" href="tel:+255222215701" data-v-7633d37e> +255222215701 </a></div></div><div class="flex items-center p-4 bg-blue-50 rounded-lg shadow-sm border border-blue-100" data-v-7633d37e><div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center mr-3 shadow-md" data-v-7633d37e><i class="fas fa-envelope text-white" data-v-7633d37e></i></div><div data-v-7633d37e><p class="font-medium text-gray-800" data-v-7633d37e>Email Support</p><a class="text-sm text-gray-600 hover:text-blue-700" href="mailto:ict@mnh.or.tz" data-v-7633d37e> ict@mnh.or.tz </a></div></div>',2)),(0,s.Lk)("div",A,[(0,s.Lk)("button",{type:"button",onClick:t[7]||(t[7]=e=>F.showUserGuide=!F.showUserGuide),class:"w-full flex items-center p-4 text-left"},[t[26]||(t[26]=(0,s.Fv)('<div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center mr-3 shadow-md flex-shrink-0" data-v-7633d37e><i class="fas fa-book text-white" data-v-7633d37e></i></div><div class="flex-1 min-w-0" data-v-7633d37e><p class="font-medium text-gray-800" data-v-7633d37e>User Guide</p><p class="text-sm text-gray-600" data-v-7633d37e>Access system documentation</p></div>',2)),(0,s.Lk)("div",q,[(0,s.Lk)("i",{class:(0,s.C4)(["fas fa-chevron-down text-blue-700 text-sm transition-transform duration-200",F.showUserGuide?"rotate-180":""])},null,2)])]),(0,s.bF)(s.eB,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform opacity-0 -translate-y-1","enter-to-class":"transform opacity-100 translate-y-0","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-1"},{default:(0,s.k6)(()=>[F.showUserGuide?((0,s.uX)(),(0,s.CE)("div",z,[(0,s.Lk)("div",H,[(0,s.Lk)("p",S,[t[27]||(t[27]=(0,s.eW)(" Showing guidance for: ",-1)),(0,s.Lk)("span",X,(0,s.v_)(F.userGuideRoleLabel),1)]),(0,s.Lk)("div",P,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(F.userGuideSections,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t},[(0,s.Lk)("p",G,(0,s.v_)(e.title),1),(0,s.Lk)("ul",W,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.items,(e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,s.v_)(e),1))),128))])]))),128))])])])):(0,s.Q3)("",!0)]),_:1})])]),(0,s.Lk)("div",M,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=e=>F.showHelpModal=!1),class:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"}," Close ")])])])])):(0,s.Q3)("",!0)])}r(4114);var Q=r(1127),K=r(1387),N=r(6358),V={name:"HeaderComponent",setup(){const{user:e,logout:t}=(0,Q.h)(),r=(0,K.rd)(),a=(0,s.KR)(!1),o=(0,s.KR)(!1),l=(0,s.KR)(!1),i=(0,s.KR)(null),n=(0,s.EW)(()=>{try{const e=f.value,t=e?.role||e?.role_name||e?.primary_role;return t||"staff"}catch(e){return console.warn("Error determining user role:",e),"staff"}}),d=(0,s.EW)(()=>{const e=n.value,t={admin:"Administrator",ict_officer:"ICT Officer",secretary_ict:"ICT Secretary",head_of_department:"Head of Department",divisional_director:"Divisional Director",ict_director:"ICT Director",head_of_it:"Head of IT",staff:"Staff Member"};return t[e]||e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),c=(0,s.EW)(()=>{const e=n.value;switch(e){case"admin":return[{title:"Admin: setup & maintenance",items:["Go to Admin Dashboard to manage the system configuration.","Assign correct roles and departments to users so the right menus/forms appear."]},{title:"Admin: support actions",items:["Use User Roles / Departments modules when a user cannot see expected pages.","Use Onboarding Reset when a user needs to re-accept terms/ICT policy or restart onboarding."]}];case"staff":return[{title:"Staff: submit a request",items:["Open User Dashboard and choose the relevant form (Jeeva / Wellsoft / Internet / Combined).","Fill in accurate details (service needed, user info, justification) then submit."]},{title:"Staff: track progress",items:["Monitor the status of your submitted requests in your dashboard views.","If you are blocked or the request is delayed, contact ICT Support using the phone/email above."]}];case"head_of_department":return[{title:"HOD: review & recommend",items:["Open HOD Dashboard → Access Requests to review submissions from your department.","Approve/Reject (or Recommend) with clear comments, then forward to the next approver."]},{title:"HOD: departmental user actions",items:["Create users for your department (if enabled) and ensure correct department details.","Incorrect department/role assignment may prevent the user from seeing the correct forms."]}];case"divisional_director":return[{title:"Divisional Director: approval stage",items:["Open Divisional Dashboard → Combined Requests / Access Requests to review escalations.","Approve/Reject with audit-ready comments (who/what/why) to keep the workflow moving."]}];case"head_of_it":return[{title:"Head of IT: routing & oversight",items:["Open Head of IT Dashboard → Combined Requests to review and route requests.","Ensure the request reaches the correct implementation team (ICT Officer) promptly."]},{title:"Head of IT: escalation",items:["Escalate high-impact or policy-sensitive cases to ICT Director.","Coordinate with departments if a request is missing required details."]}];case"ict_officer":return[{title:"ICT Officer: implement requests",items:["Open ICT Dashboard → Access Requests to view requests forwarded for implementation.","Validate the request details, then proceed with implementation or reject with reasons."]},{title:"ICT Officer: update status",items:["After completing the task, update the request status so approvers/users can track progress.","If policy approval is required, escalate to Head of IT / ICT Director."]}];case"secretary_ict":return[{title:"ICT Secretary: device bookings",items:["Open Device Requests to review device borrowing/booking requests.","Confirm device availability, dates, and borrower details before approving/declining."]},{title:"ICT Secretary: coordination",items:["If a request requires technical implementation, route/escalate it to ICT Officer.","Use ICT Support contacts above for user communication and issue logging."]}];case"ict_director":return[{title:"ICT Director: final oversight",items:["Open ICT Director Dashboard to review escalated / high-impact requests.","Approve/Reject based on ICT policy, then ensure the ICT team completes implementation."]}];default:return[{title:"General guidance",items:["Your menus and forms are displayed based on your role and permissions.","If you cannot find a page you need, contact ICT Support or request role verification from Admin."]}]}}),u=(0,s.EW)(()=>{try{return!1}catch(e){return console.warn("Error accessing NODE_ENV:",e),!1}}),p=(0,s.EW)(()=>{try{const t=e?.value;if(!t||"object"!==typeof t)return!1;const r=t.role||t.role_name||t.primary_role||null,s=Array.isArray(t.roles)?t.roles:[];return"admin"===r||s.includes("admin")}catch(t){return console.warn("Error in isAdmin computed:",t),!1}}),f=(0,s.EW)(()=>{try{const t=e?.value;return t&&"object"===typeof t?t:{name:"User",email:"user@example.com",role:null,role_name:null,roles:[]}}catch(t){return console.warn("Error accessing currentUser:",t),{name:"User",email:"user@example.com",role:null,role_name:null,roles:[]}}}),b=(0,s.EW)(()=>{try{const e=f.value,t=e?.role||e?.role_name||e?.primary_role,r=Array.isArray(e?.roles)?e.roles:[];return"head_of_department"===t||r.includes("head_of_department")}catch(e){return console.warn("Error in isHeadOfDepartment computed:",e),!1}}),m=()=>{a.value=!a.value},h=()=>{a.value=!1},g=e=>{if(!e)return"User";const t={admin:"Administrator",ict_officer:"ICT Officer",head_of_department:"Head of Department",divisional_director:"Divisional Director",ict_director:"ICT Director",staff:"Staff Member"};return t[e]||e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},x=()=>{h();try{const e=f.value,t=e?.role||e?.role_name||e?.primary_role;if(t)switch(t){case"admin":r.push("/admin-dashboard");break;case"ict_officer":r.push("/ict-dashboard");break;case"head_of_department":r.push("/hod-dashboard");break;case"divisional_director":r.push("/divisional-dashboard");break;case"ict_director":r.push("/dict-dashboard");break;case"staff":r.push("/user-dashboard");break;default:r.push("/user-dashboard")}else r.push("/user-dashboard")}catch(e){console.warn("Error in goToDashboard:",e),r.push("/user-dashboard")}},v=()=>{h(),r.push("/profile")},w=()=>{h(),r.push("/hod-dashboard/create-user")},y=()=>{h(),r.push("/admin/onboarding-reset")},k=()=>{h(),o.value=!0},L=async()=>{h();try{await N.a.executeLogout(async()=>{await t()}),r.push("/login")}catch(e){console.error("Logout error:",e),r.push("/login")}},C=e=>{i.value&&!i.value.contains(e.target)&&h()};return(0,s.sV)(()=>{document.addEventListener("click",C)}),(0,s.hi)(()=>{document.removeEventListener("click",C)}),{currentUser:e,safeCurrentUser:f,showProfileDropdown:a,showHelpModal:o,showUserGuide:l,userGuideRoleLabel:d,userGuideSections:c,profileDropdown:i,isDevelopment:u,isAdmin:p,isHeadOfDepartment:b,toggleProfileDropdown:m,closeProfileDropdown:h,formatRole:g,goToDashboard:x,goToProfile:v,goToHodCreateUser:w,openOnboardingReset:y,showHelp:k,logout:L}}},B=r(1241);const J=(0,B.A)(V,[["render",F],["__scopeId","data-v-7633d37e"]]);var Y=J}}]);
//# sourceMappingURL=5498.1bee5798.js.map