(function(){"use strict";var e={14:function(e,t,a){a.d(t,{useAuthStore:function(){return l}});a(8111),a(1701),a(3579);var s=a(657),r=a(5796),o=a(9553);const n="auth_state_pinia",i="user_data",c="auth_token",d=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(a){return console.error("Failed to save to localStorage:",a),!1}},l=(0,s.nY)("auth",()=>{const e=(0,r.KR)(!1),t=(0,r.KR)(null),s=(0,r.KR)(null),l=(0,r.KR)(null),u=(0,r.KR)([]),g=(0,r.KR)([]),m=(0,r.KR)(!1),p=(0,r.KR)(!1),h=(0,r.KR)(null),f=(0,r.EW)(()=>t.value?.name||"User"),b=(0,r.EW)(()=>t.value?.email||""),v=(0,r.EW)(()=>"admin"===l.value||u.value.includes("admin")),y=(0,r.EW)(()=>"staff"===l.value||u.value.includes("staff")),_=(0,r.EW)(()=>{const e=l.value,t=["divisional_director","head_of_department","ict_director","head_of_it","ict_officer","secretary_ict"];return t.includes(e)||u.value.some(e=>t.includes(e))}),w=()=>{if(m.value)return;const a=localStorage.getItem(c),r=localStorage.getItem(i),d=localStorage.getItem(n);if(a&&r)try{const n=JSON.parse(r);d&&JSON.parse(d);s.value=a,t.value=n,l.value=n.role||n.role_name,u.value=n.roles||[],g.value=n.permissions||[],e.value=!0;try{(0,o.WY)(n)}catch(p){console.warn("Pinia Auth: Failed to infer dynamic permissions on init:",p)}n.name,l.value,e.value}catch(h){console.error("âŒ Pinia Auth: Failed to restore state:",h),R()}A(),m.value=!0},A=()=>{(0,r.wB)(()=>({isAuthenticated:e.value,userRole:l.value}),e=>{d(n,e)},{deep:!0,immediate:!1}),(0,r.wB)(()=>t.value,e=>{if(e){d(i,e)}},{deep:!0,immediate:!1}),(0,r.wB)(()=>s.value,e=>{e?localStorage.setItem(c,e):localStorage.removeItem(c)},{immediate:!1})},q=a=>{a.user,a.token,a.user,a.user,s.value=a.token,t.value=a.user,l.value=a.user?.role||a.user?.role_name;let r=[];Array.isArray(a.user?.roles)?a.user.roles.length>0&&"string"===typeof a.user.roles[0]?r=a.user.roles:a.user.roles.length>0&&"object"===typeof a.user.roles[0]&&(r=a.user.roles.map(e=>e.name||e)):l.value&&(r=[l.value]),u.value=r,g.value=a.user?.permissions||[];try{(0,o.WY)(a.user)}catch(n){console.warn("Auth: Failed to infer dynamic permissions for user role:",n)}e.value=!0,h.value=null,l.value,u.value},k=e=>{if(t.value={...t.value,...e},l.value=e.role||e.role_name||l.value,e.roles){let t=[];Array.isArray(e.roles)&&(e.roles.length>0&&"string"===typeof e.roles[0]?t=e.roles:e.roles.length>0&&"object"===typeof e.roles[0]&&(t=e.roles.map(e=>e.name||e))),u.value=t}g.value=e.permissions||g.value},R=()=>{e.value=!1,t.value=null,s.value=null,l.value=null,u.value=[],g.value=[],h.value=null,localStorage.removeItem(c),localStorage.removeItem(i),localStorage.removeItem(n)},E=e=>{p.value=e},C=e=>{h.value=e,console.error("âŒ Pinia Auth: Error set:",e)},I=()=>{h.value=null},S=e=>g.value.includes(e),x=e=>{const t=Array.isArray(e)?e:[e];return t.some(e=>l.value===e||u.value.includes(e))},D=e=>x(e),T=async()=>{try{const e=(await a.e(2226).then(a.bind(a,2226))).default,t=e.getters["auth/user"],s=e.getters["auth/token"],r=e.getters["auth/isAuthenticated"];r&&t&&s&&q({user:t,token:s})}catch(h){console.error("âŒ Pinia Auth: Failed to sync with Vuex:",h)}},F=()=>({isAuthenticated:e.value,isInitialized:m.value,isLoading:p.value,userName:f.value,userRole:l.value,userRoles:u.value,hasToken:!!s.value,error:h.value,storageData:{token:localStorage.getItem(c),userData:localStorage.getItem(i),authState:localStorage.getItem(n)}});return{isAuthenticated:e,user:t,token:s,userRole:l,userRoles:u,userPermissions:g,isInitialized:m,isLoading:p,error:h,userName:f,userEmail:b,isAdmin:v,isStaff:y,isApprover:_,initializeAuth:w,setAuthData:q,updateUser:k,clearAuth:R,setLoading:E,setError:C,clearError:I,hasPermission:S,hasRole:x,hasAnyRole:D,syncWithVuex:T,getDebugInfo:F}})},59:function(e,t,a){a.d(t,{i:function(){return o}});a(4114);var s=a(657),r=a(5796);const o=(0,s.nY)("notification",()=>{const e=(0,r.KR)([]),t=(0,r.KR)(null);function a(t){const a=Date.now()+Math.random(),r={id:a,type:t.type||"info",title:t.title||"",message:t.message||"",duration:t.duration||5e3,persistent:t.persistent||!1,actions:t.actions||[],createdAt:new Date};return e.value.push(r),r.persistent||setTimeout(()=>{s(a)},r.duration),a}function s(t){const a=e.value.findIndex(e=>e.id===t);a>-1&&e.value.splice(a,1)}function o(){e.value=[]}function n(e,t,s={}){return a({type:"success",title:e,message:t,...s})}function i(e,t,s={}){return a({type:"error",title:e,message:t,duration:s.duration||8e3,...s})}function c(e,t,s={}){return a({type:"warning",title:e,message:t,duration:s.duration||6e3,...s})}function d(e,t,s={}){return a({type:"info",title:e,message:t,...s})}function l(e){t.value=e}function u(){t.value=null}function g(e){const t=[{label:"View Request",action:"view-request",icon:"fas fa-eye",url:e?.request_url||"/request-status"}];return a({type:"booking",title:"Booking Service Locked",message:`You have a pending ${e?.device_name||"device"} booking request. Please wait for it to be processed before submitting a new request.`,persistent:!0,actions:t})}function m(e,t,s={}){return a({type:"booking",title:e,message:t,...s})}function p(e,t,s={}){return a({type:"access",title:e,message:t,...s})}function h(e,t,s={}){return a({type:"approval",title:e,message:t,...s})}function f(e,t,s={}){return a({type:"system",title:e,message:t,...s})}function b(e,t,s={}){return a({type:"medical",title:e,message:t,...s})}function v(e,t){return n("Request Submitted Successfully",`Your ${e} request #${t} has been submitted and is now in the approval process.`,{actions:[{label:"View Status",icon:"fas fa-eye",url:"/request-status"}]})}function y(e,t){return h("Request Approved",`Your ${e} request #${t} has been approved by the relevant authority.`,{actions:[{label:"View Details",icon:"fas fa-info-circle",url:`/request-details?id=${t}`}]})}function _(e,t,a){return i("Request Rejected",`Your ${e} request #${t} has been rejected. Reason: ${a}`,{actions:[{label:"View Details",icon:"fas fa-info-circle",url:`/request-details?id=${t}`},{label:"Submit New",icon:"fas fa-plus",url:"/user-dashboard"}]})}function w(e,t){return m("Device Ready for Collection",`Your requested ${e} is ready for collection. Please visit the ICT department.`,{actions:[{label:"View Details",icon:"fas fa-calendar-check",url:`/request-details?id=${t}&type=booking_service`}]})}function A(e,t,a){return c("Device Return Overdue",`Your ${e} is ${a} days overdue for return. Please return it immediately to avoid penalties.`,{persistent:!0,actions:[{label:"View Details",icon:"fas fa-exclamation-triangle",url:`/request-details?id=${t}&type=booking_service`}]})}function q(e,t){return p("Access Granted",`You have been granted ${t} access to ${e}. You can now use the system.`,{actions:[{label:"View Access",icon:"fas fa-key",url:"/request-status"}]})}function k(e,t){return f("System Maintenance Scheduled",`${e} will be under maintenance ${t}. Please plan accordingly.`,{persistent:!0,actions:[{label:"More Info",icon:"fas fa-info-circle",url:"/system-status"}]})}function R(e,t){return b(e,t,{persistent:!0,duration:0,actions:[{label:"Acknowledge",icon:"fas fa-check",callback:()=>console.log("Emergency alert acknowledged")}]})}function E(){return n("Onboarding Complete","Welcome to Muhimbili National Hospital Access Management System! You can now submit access requests.",{actions:[{label:"Start Using System",icon:"fas fa-rocket",url:"/user-dashboard"}]})}function C(){return d("Profile Updated","Your profile information has been successfully updated.",{actions:[{label:"View Profile",icon:"fas fa-user",url:"/profile"}]})}function I(){return n("Password Changed","Your password has been successfully updated. Please use your new password for future logins.",{duration:6e3})}function S(){return n("Terms Accepted","You have successfully accepted the Terms of Service and ICT Policy.",{actions:[{label:"Continue",icon:"fas fa-arrow-right",url:"/user-dashboard"}]})}function x(e,t){const a=Array.isArray(t)?t.join(", "):t;return i(`${e} Submission Failed`,`Please correct the following errors: ${a}`,{duration:1e4,actions:[{label:"Review Form",icon:"fas fa-edit",callback:()=>window.scrollTo({top:0,behavior:"smooth"})}]})}function D(e){return n("File Uploaded",`${e} has been successfully uploaded.`,{duration:4e3})}function T(e,t){return i("File Upload Failed",`Failed to upload ${e}. ${t}`,{duration:8e3})}function F(){return c("Signature Required","Please provide your digital signature before submitting the request.",{persistent:!0,actions:[{label:"Add Signature",icon:"fas fa-signature",callback:()=>{const e=document.querySelector("[data-signature-section]");e&&e.scrollIntoView({behavior:"smooth"})}}]})}function P(e,t){return d("Request Cancelled",`Your ${e} request #${t} has been successfully cancelled.`,{actions:[{label:"Submit New Request",icon:"fas fa-plus",url:"/user-dashboard"}]})}function O(e,t){return m("Device Collected",`You have successfully collected ${e}. Please return it by the specified date.`,{actions:[{label:"View Return Date",icon:"fas fa-calendar",url:`/request-details?id=${t}&type=booking_service`}]})}function N(e,t){return n("Device Returned",`Thank you for returning ${e} on time. Your booking request is now complete.`,{actions:[{label:"Book Another Device",icon:"fas fa-calendar-plus",url:"/user-dashboard"}]})}function j(e,t){return c("Access Revoked",`Your access to ${e} has been revoked. Reason: ${t}`,{persistent:!0,actions:[{label:"Contact Support",icon:"fas fa-headset",url:"/support"},{label:"Request New Access",icon:"fas fa-key",url:"/user-dashboard"}]})}function L(e,t){return f("System Under Maintenance",`${e} is currently under maintenance. Estimated completion: ${t}`,{persistent:!0,actions:[{label:"Check Status",icon:"fas fa-sync",callback:()=>window.location.reload()}]})}function M(e,t){return d(`New Feature: ${e}`,t,{duration:1e4,actions:[{label:"Learn More",icon:"fas fa-info-circle",url:"/help"},{label:"Try It Now",icon:"fas fa-rocket",url:"/user-dashboard"}]})}function $(e,t,a){return c("Quota Exceeded",`You have exceeded your ${e} quota (${t}/${a}). Please contact your supervisor.`,{persistent:!0,actions:[{label:"View Usage",icon:"fas fa-chart-bar",url:"/usage-statistics"},{label:"Contact Supervisor",icon:"fas fa-user-tie",url:"/contact"}]})}function U(e){return c("Session Expiring Soon",`Your session will expire in ${e} minutes. Please save your work.`,{persistent:!0,actions:[{label:"Extend Session",icon:"fas fa-clock",callback:()=>{}},{label:"Save Work",icon:"fas fa-save",callback:()=>{}}]})}function B(){return d("Backup Reminder","Remember to backup your important documents and data regularly.",{actions:[{label:"Backup Now",icon:"fas fa-download",url:"/backup"},{label:"Schedule Backup",icon:"fas fa-calendar-alt",url:"/settings"}]})}function H(e,t){return i(`Security Alert: ${e}`,t,{persistent:!0,duration:0,actions:[{label:"Change Password",icon:"fas fa-shield-alt",url:"/profile"},{label:"Review Activity",icon:"fas fa-history",url:"/security-log"}]})}function W(e){return b(`Welcome, ${e}!`,"Welcome to Muhimbili National Hospital Access Management System. Your digital healthcare journey starts here.",{duration:8e3,actions:[{label:"Take Tour",icon:"fas fa-route",url:"/tour"},{label:"Get Started",icon:"fas fa-play",url:"/user-dashboard"}]})}function V(e,t){return m("Device Condition Assessment Saved",`Device condition assessment saved successfully! You can now approve the request to issue the ${e}.`,{duration:6e3,actions:[{label:"Approve Request",icon:"fas fa-check-circle",url:`/ict-approval/request/${t}?action=approve`},{label:"View Details",icon:"fas fa-eye",url:`/ict-approval/request/${t}`}]})}function z(e,t){return m("Device Condition Updated",`${e} condition assessment has been updated successfully. The request is ready for final approval.`,{duration:5e3,actions:[{label:"Review & Approve",icon:"fas fa-clipboard-check",url:`/ict-approval/request/${t}`}]})}function Y(e,t){return m("Device Ready for Issue",`${e} has passed condition assessment and is ready to be issued to the borrower.`,{duration:7e3,actions:[{label:"Issue Device",icon:"fas fa-hand-holding",url:`/ict-approval/request/${t}?action=issue`},{label:"View Assessment",icon:"fas fa-clipboard-list",url:`/ict-approval/request/${t}?tab=assessment`}]})}function X(e,t,a){return n("Device Successfully Issued",`${e} has been successfully issued to ${t}. Return tracking is now active.`,{duration:6e3,actions:[{label:"Track Return",icon:"fas fa-calendar-check",url:`/ict-approval/request/${a}?tab=tracking`},{label:"Print Receipt",icon:"fas fa-print",callback:()=>window.print()}]})}function K(e,t,a){const s="good"===a||"excellent"===a;return m("Device Return Assessment",`${e} has been returned and assessed as '${a}'. ${s?"No issues found.":"Please review the condition report."}`,{duration:6e3,actions:[{label:"View Report",icon:"fas fa-file-alt",url:`/ict-approval/request/${t}?tab=return-assessment`},...s?[]:[{label:"Report Issue",icon:"fas fa-exclamation-triangle",url:`/ict-approval/request/${t}?tab=issue-report`}]]})}return{notifications:e,pendingBookingInfo:t,addNotification:a,removeNotification:s,clearAllNotifications:o,showSuccess:n,showError:i,showWarning:c,showInfo:d,showBookingNotification:m,showAccessNotification:p,showApprovalNotification:h,showSystemNotification:f,showMedicalNotification:b,showRequestSubmitted:v,showRequestApproved:y,showRequestRejected:_,showDeviceReady:w,showDeviceOverdue:A,showAccessGranted:q,showSystemMaintenance:k,showEmergencyAlert:R,showOnboardingComplete:E,showProfileUpdated:C,showPasswordChanged:I,showTermsAccepted:S,showFormSubmissionError:x,showFileUploadSuccess:D,showFileUploadError:T,showSignatureRequired:F,showRequestCancelled:P,showDeviceCollected:O,showDeviceReturned:N,showAccessRevoked:j,showMaintenanceMode:L,showNewFeatureAnnouncement:M,showQuotaExceeded:$,showSessionExpiring:U,showBackupReminder:B,showSecurityAlert:H,showWelcomeMessage:W,setPendingBookingInfo:l,clearPendingBookingInfo:u,showBookingLockNotification:g,showDeviceConditionSaved:V,showDeviceConditionUpdated:z,showDeviceReadyForIssue:Y,showDeviceIssued:X,showDeviceReturnAssessment:K}})},274:function(e,t,a){a.d(t,{authAPI:function(){return n}});var s=a(4373),r=a(9871);"undefined"!==typeof window&&r.vQ.DEBUG&&(r.i3.BASE_URL,r.i3.TIMEOUT,r.vQ.DEBUG);const o=s.A.create({baseURL:r.i3.BASE_URL,timeout:r.i3.TIMEOUT,headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});"undefined"!==typeof window&&r.vQ.DEBUG&&r.i3.BASE_URL,o.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),"undefined"!==typeof window&&r.vQ.DEBUG&&(e.method?.toUpperCase(),e.url),e},e=>("undefined"!==typeof window&&r.vQ.DEBUG&&console.error("âŒ API Request Error:",e),Promise.reject(e))),o.interceptors.response.use(e=>("undefined"!==typeof window&&r.vQ.DEBUG&&(e.config.method?.toUpperCase(),e.config.url,e.status),e),e=>{const t=!e.response&&("ECONNABORTED"===e.code||/aborted|canceled/i.test(e.message||""));return t?Promise.reject(new Error("Request aborted")):("undefined"!==typeof window&&r.vQ.DEBUG&&console.error(`âŒ API Error: ${e.config?.method?.toUpperCase()} ${e.config?.url}`,{status:e.response?.status,message:e.response?.data?.message||e.message,data:e.response?.data}),401===e.response?.status&&(console.warn("ðŸ” Authentication failed - clearing tokens and redirecting to login"),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("session_data"),"/"!==window.location.pathname&&"/login"!==window.location.pathname&&(window.location.href="/")),e.response?.status>=500&&!e.config.__retriedOnce?(e.config.__retriedOnce=!0,new Promise(e=>setTimeout(e,400)).then(()=>o.request(e.config))):Promise.reject(e))});const n={async login(e){try{const t=await o.post("/login",e);return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||t.message||"Login failed"}}},async logout(){try{const e=await o.post("/logout");return{success:!0,data:e.data}}catch(e){return console.warn("Logout request failed:",e.message),{success:!0}}},async logoutAll(){try{const e=await o.post("/logout-all");return{success:!0,data:e.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}},async getActiveSessions(){try{const e=await o.get("/sessions");return{success:!0,data:e.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}},async revokeSession(e){try{const t=await o.post("/sessions/revoke",{token_id:e});return{success:!0,data:t.data}}catch(t){return{success:!1,error:t.response?.data?.message||t.message}}},async getCurrentUser(){try{const e=await o.get("/user");return{success:!0,data:e.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}},async getOnboardingStatus(){try{const e=await o.get("/onboarding/status");return{success:!0,data:e.data.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}},async acceptTerms(){try{const e=await o.post("/onboarding/accept-terms");return{success:!0,data:e.data.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}},async acceptIctPolicy(){try{const e=await o.post("/onboarding/accept-ict-policy");return{success:!0,data:e.data.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}},async submitDeclaration(e){try{let t,a={};e instanceof FormData?(t=e,a["Content-Type"]="multipart/form-data"):t={declaration_data:e};const s=await o.post("/onboarding/submit-declaration",t,{headers:a});return{success:!0,data:s.data.data}}catch(t){return{success:!1,error:t.response?.data?.message||t.message,errors:t.response?.data?.errors}}},async completeOnboarding(){try{const e=await o.post("/onboarding/complete");return{success:!0,data:e.data.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}},async updateOnboardingStep(e){try{const t=await o.post("/onboarding/update-step",{step:e});return{success:!0,data:t.data.data}}catch(t){return{success:!1,error:t.response?.data?.message||t.message}}},async resetOnboarding(e,t="all"){try{const a=await o.post("/onboarding/reset",{user_id:e,type:t});return{success:!0,data:a.data.data}}catch(a){return{success:!1,error:a.response?.data?.message||a.message}}},async getUsers(e={}){try{const t=await o.get("/admin/users",{params:e});return{success:!0,data:t.data.data}}catch(t){return{success:!1,error:t.response?.data?.message||t.message}}},async getUserDetails(e){try{const t=await o.get(`/admin/users/${e}`);return{success:!0,data:t.data.data}}catch(t){return{success:!1,error:t.response?.data?.message||t.message}}},async resetUserOnboarding(e,t="all"){try{const a=await o.post("/admin/users/reset-onboarding",{user_id:e,reset_type:t});return{success:!0,data:a.data.data}}catch(a){return{success:!1,error:a.response?.data?.message||a.message}}},async bulkResetOnboarding(e,t="all"){try{const a=await o.post("/admin/users/bulk-reset-onboarding",{user_ids:e,reset_type:t});return{success:!0,data:a.data.data}}catch(a){return{success:!1,error:a.response?.data?.message||a.message}}},async getOnboardingStats(){try{const e=await o.get("/admin/onboarding/stats");return{success:!0,data:e.data.data}}catch(e){return{success:!1,error:e.response?.data?.message||e.message}}}};t.A=o},460:function(e,t,a){a(4114),a(8111),a(1701),a(4603),a(7566),a(8721);var s=a(274),r=a(8998);class o{async getHodRequests(e={}){try{r.gg.debug("ðŸ”„ Fetching combined access requests for HOD approval...",e);const t=new URLSearchParams;e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.department&&t.append("department",e.department),e.per_page&&t.append("per_page",e.per_page),e.page&&t.append("page",e.page);const a=await s.A.get(`/hod/combined-access-requests?${t.toString()}`);if(a.data&&a.data.success)return r.gg.debug("âœ… HOD requests retrieved successfully:",a.data.data?.length||0,"requests"),{success:!0,data:a.data};throw new Error(a.data?.message||"Failed to retrieve HOD requests")}catch(t){return"Request aborted"===t.message||t.message?.includes("aborted")||t.message?.includes("canceled")?{success:!1,error:"Request aborted",data:null}:(r.gg.error("âŒ Error fetching HOD requests:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to retrieve HOD requests",data:null})}}async getRequestById(e){try{r.gg.debug("ðŸ”„ Fetching combined access request (general):",e);const t=await s.A.get(`/both-service-form/${e}`);if(t.data&&t.data.success)return r.gg.debug("âœ… Request retrieved successfully (general):",e),{success:!0,data:t.data.data};throw new Error(t.data?.message||"Request not found")}catch(t){return r.gg.error("âŒ Error fetching request (general):",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to retrieve request",data:null}}}async getHodRequestById(e){try{r.gg.debug("ðŸ”„ Fetching HOD combined access request:",e);const t=await s.A.get(`/hod/combined-access-requests/${e}`);if(t.data&&t.data.success)return r.gg.debug("âœ… HOD request retrieved successfully:",e),{success:!0,data:t.data.data};throw new Error(t.data?.message||"HOD request not found")}catch(t){return r.gg.error("âŒ Error fetching HOD request:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to retrieve HOD request",data:null}}}async updateHodApproval(e,t){try{r.gg.debug("ðŸ”„ Updating HOD approval for request:",e,t);const a=new FormData;a.append("hod_status",t.status),a.append("hod_comments",t.comments||""),a.append("hod_name",t.hodName||""),a.append("hod_approved_at",(new Date).toISOString()),t.hodSignature&&a.append("hod_signature",t.hodSignature),t.moduleData&&a.append("module_data",JSON.stringify(t.moduleData)),t.accessRights&&a.append("access_rights",JSON.stringify(t.accessRights));const o=await s.A.post(`/hod/combined-access-requests/${e}/approve`,a);if(o.data&&o.data.success)return r.gg.debug("âœ… HOD approval updated successfully:",e),{success:!0,data:o.data.data,message:"Request approval updated successfully"};throw new Error(o.data?.message||"Failed to update approval")}catch(a){return r.gg.error("âŒ Error updating HOD approval:",a),{success:!1,error:a.response?.data?.message||a.message||"Failed to update approval",errors:a.response?.data?.errors||null}}}async cancelRequest(e,t){try{r.gg.debug("ðŸ”„ Cancelling combined access request:",e);const a=await s.A.post(`/hod/combined-access-requests/${e}/cancel`,{reason:t||"Cancelled by HOD",cancelled_at:(new Date).toISOString()});if(a.data&&a.data.success)return r.gg.debug("âœ… Request cancelled successfully:",e),{success:!0,data:a.data.data,message:"Request cancelled successfully"};throw new Error(a.data?.message||"Failed to cancel request")}catch(a){return r.gg.error("âŒ Error cancelling request:",a),{success:!1,error:a.response?.data?.message||a.message||"Failed to cancel request"}}}async getHodStatistics(){try{r.gg.debug("ðŸ”„ Fetching HOD statistics...");const e=await s.A.get("/hod/combined-access-requests/statistics");if(e.data&&e.data.success)return r.gg.debug("âœ… HOD statistics retrieved successfully"),{success:!0,data:e.data.data};throw new Error(e.data?.message||"Failed to retrieve statistics")}catch(e){return console.warn("âš ï¸ Statistics fetch fallback (using computed stats):",e?.message||e),{success:!1,error:e.response?.data?.message||e.message||"Failed to retrieve statistics",data:{pendingHod:0,hodApproved:0,hodRejected:0,total:0}}}}async exportHodRequests(e={},t="excel"){try{r.gg.debug("ðŸ”„ Exporting HOD requests...",{filters:e,format:t});const a=new URLSearchParams;e.search&&a.append("search",e.search),e.status&&a.append("status",e.status),e.department&&a.append("department",e.department),e.date_from&&a.append("date_from",e.date_from),e.date_to&&a.append("date_to",e.date_to),a.append("format",t);const o=await s.A.get(`/hod/combined-access-requests/export?${a.toString()}`,{responseType:"blob"});return r.gg.debug("âœ… Export completed successfully"),{success:!0,data:o.data,filename:this.getFilenameFromHeaders(o.headers)||`hod_requests_${Date.now()}.${"excel"===t?"xlsx":"csv"}`}}catch(a){return r.gg.error("âŒ Error exporting HOD requests:",a),{success:!1,error:a.response?.data?.message||a.message||"Failed to export requests"}}}async searchRequests(e){try{r.gg.debug("ðŸ”„ Searching requests with criteria:",e);const t=await s.A.post("/hod/combined-access-requests/search",e);if(t.data&&t.data.success)return r.gg.debug("âœ… Search completed successfully:",t.data.data?.length||0,"results"),{success:!0,data:t.data};throw new Error(t.data?.message||"Search failed")}catch(t){return r.gg.error("âŒ Error searching requests:",t),{success:!1,error:t.response?.data?.message||t.message||"Search failed",data:null}}}async bulkApprove(e,t){try{r.gg.debug("ðŸ”„ Bulk approving requests:",e.length);const a=await s.A.post("/hod/combined-access-requests/bulk-approve",{request_ids:e,hod_comments:t.comments||"",hod_name:t.hodName||"",approved_at:(new Date).toISOString()});if(a.data&&a.data.success)return r.gg.debug("âœ… Bulk approval completed successfully"),{success:!0,data:a.data.data,message:`${a.data.data.approved_count||0} requests approved successfully`};throw new Error(a.data?.message||"Bulk approval failed")}catch(a){return r.gg.error("âŒ Error in bulk approval:",a),{success:!1,error:a.response?.data?.message||a.message||"Bulk approval failed",data:null}}}async getRequestHistory(e){try{r.gg.debug("ðŸ”„ Fetching request history:",e);const t=await s.A.get(`/hod/combined-access-requests/${e}/history`);if(t.data&&t.data.success)return r.gg.debug("âœ… Request history retrieved successfully"),{success:!0,data:t.data.data};throw new Error(t.data?.message||"Failed to retrieve request history")}catch(t){return r.gg.error("âŒ Error fetching request history:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to retrieve request history",data:[]}}}getFilenameFromHeaders(e){try{const t=e["content-disposition"]||e["Content-Disposition"];if(t){const e=t.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);if(e&&e[1])return e[1].replace(/['"]/g,"")}return null}catch(t){return console.warn("Could not extract filename from headers:",t),null}}validateRequestData(e){const t=[];return e.staff_name&&""!==e.staff_name.trim()||t.push("Staff name is required"),e.pf_number&&""!==e.pf_number.trim()||t.push("PF Number is required"),e.department&&""!==e.department.trim()||t.push("Department is required"),e.phone&&""!==e.phone.trim()||t.push("Phone number is required"),e.services&&0!==e.services.length||t.push("At least one service must be selected"),{isValid:0===t.length,errors:t}}formatRequestForDisplay(e){return{...e,formattedDate:this.formatDate(e.created_at||e.submission_date),formattedTime:this.formatTime(e.created_at||e.submission_date),statusText:this.getStatusText(e.hod_status||e.status),servicesText:this.getServicesText(e.services||e.request_types),requestIdDisplay:e.request_id||`REQ-${e.id.toString().padStart(6,"0")}`}}formatDate(e){if(!e)return"N/A";const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatTime(e){if(!e)return"N/A";const t=new Date(e);return t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}getStatusText(e){const t={pending_hod:"Pending HOD Approval",hod_approved:"HOD Approved",hod_rejected:"HOD Rejected",cancelled:"Cancelled",completed:"Completed"};return t[e]||"Unknown Status"}getServicesText(e){if(!e||0===e.length)return"No services";const t={jeeva:"Jeeva",jeeva_access:"Jeeva",wellsoft:"Wellsoft",internet:"Internet",internet_access_request:"Internet"};return e.map(e=>t[e]||e).join(", ")}async getRequestTimeline(e){try{r.gg.debug("ðŸ”„ CombinedAccessService: Fetching request timeline:",e);const t=await s.A.get(`/hod/combined-access-requests/${e}/timeline`);if(t.data&&t.data.success){r.gg.debug("âœ… CombinedAccessService: Request timeline loaded successfully");const e=t.data.data;let a=e;if(e&&!e.request&&e.request_info){const t={...e.request_info,id:e.request_info.id,staff_name:e.request_info.staff_name,pf_number:e.request_info.pf_number,created_at:e.request_info.created_at,cancelled_at:e.cancellation?.cancelled_at||null,cancelled_by:e.cancellation?.cancelled_by||null,cancellation_reason:e.cancellation?.cancellation_reason||null,ict_officer_implemented_at:e.implementation?.implemented_at||null,implementation_comments:e.implementation?.implementation_notes||null},s=Array.isArray(e.approval_stages)?e.approval_stages:[];for(const e of s){const a=(e.stage||"").toLowerCase();a.includes("hod")?(t.hod_status=e.status,t.hod_name=e.approver_name,t.hod_comments=e.comments,t.hod_approved_at=e.timestamp):a.includes("divisional")?(t.divisional_status=e.status,t.divisional_director_name=e.approver_name,t.divisional_director_comments=e.comments,t.divisional_approved_at=e.timestamp):a.includes("ict director")?(t.ict_director_status=e.status,t.ict_director_name=e.approver_name,t.ict_director_comments=e.comments,t.ict_director_approved_at=e.timestamp):a.includes("head of it")?(t.head_it_status=e.status,t.head_it_name=e.approver_name,t.head_it_comments=e.comments,t.head_it_approved_at=e.timestamp):a.includes("ict officer")&&(t.ict_officer_status=e.status,t.ict_officer_name=e.approver_name,t.ict_officer_comments=e.comments,t.ict_officer_approved_at=e.timestamp)}a={...e,request:t,ict_assignments:Array.isArray(e.ict_tasks)?e.ict_tasks:[]}}return{success:!0,data:a,message:t.data.message}}throw new Error(t.data?.message||"Failed to load request timeline")}catch(t){return r.gg.error("âŒ CombinedAccessService: Error fetching request timeline:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to load request timeline"}}}async deleteCancelledRequest(e){try{r.gg.debug("ðŸ—‘ï¸ Deleting user-cancelled request as HOD:",e);const t=await s.A.delete(`/hod/combined-access-requests/${e}`);if(t.data&&t.data.success)return{success:!0,message:t.data.message};throw new Error(t.data?.message||"Failed to delete request")}catch(t){return r.gg.error("âŒ Error deleting user-cancelled request:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to delete request"}}}async getWellsoftModules(){try{r.gg.debug("ðŸ”„ CombinedAccessService: Fetching Wellsoft modules...");const e=await s.A.get("/wellsoft-modules");if(e.data&&e.data.success)return r.gg.debug("âœ… CombinedAccessService: Wellsoft modules loaded successfully:",e.data.data?.length||0),{success:!0,data:e.data.data};throw new Error(e.data?.message||"Failed to load Wellsoft modules")}catch(e){return r.gg.error("âŒ CombinedAccessService: Error fetching Wellsoft modules:",e),{success:!1,error:e.response?.data?.message||e.message||"Failed to load Wellsoft modules",data:[]}}}async getJeevaModules(){try{r.gg.debug("ðŸ”„ CombinedAccessService: Fetching Jeeva modules...");const e=await s.A.get("/jeeva-modules");if(e.data&&e.data.success)return r.gg.debug("âœ… CombinedAccessService: Jeeva modules loaded successfully:",e.data.data?.length||0),{success:!0,data:e.data.data};throw new Error(e.data?.message||"Failed to load Jeeva modules")}catch(e){return r.gg.error("âŒ CombinedAccessService: Error fetching Jeeva modules:",e),{success:!1,error:e.response?.data?.message||e.message||"Failed to load Jeeva modules",data:[]}}}}t.A=new o},2398:function(e,t,a){const s={pending:"Pending Submission",pending_hod:"Pending HOD Approval",hod_approved:"HOD Approved",hod_rejected:"HOD Rejected",pending_divisional:"Pending Divisional Approval",divisional_approved:"Divisional Approved",divisional_rejected:"Divisional Rejected",pending_ict_director:"Pending ICT Director Approval",ict_director_approved:"Approved",ict_director_rejected:"ICT Director Rejected",dict_approved:"Approved",dict_rejected:"ICT Director Rejected",pending_head_it:"Pending Head IT Approval",head_it_approved:"Head IT Approved",head_it_rejected:"Head IT Rejected",pending_ict_officer:"Pending ICT Officer Approval",ict_officer_approved:"ICT Officer Approved",ict_officer_rejected:"ICT Officer Rejected",approved:"Fully Approved",implemented:"Implemented",completed:"Completed",cancelled:"Cancelled",rejected:"Rejected",in_review:"In Review",in_use:"In Use",returned:"Returned",overdue:"Overdue"},r={pending:"bg-blue-100 text-blue-800",pending_hod:"bg-yellow-100 text-yellow-800",pending_divisional:"bg-purple-100 text-purple-800",pending_ict_director:"bg-indigo-100 text-indigo-800",pending_head_it:"bg-cyan-100 text-cyan-800",pending_ict_officer:"bg-orange-100 text-orange-800",hod_approved:"bg-green-100 text-green-800",divisional_approved:"bg-emerald-100 text-emerald-800",ict_director_approved:"bg-teal-100 text-teal-800 font-bold",dict_approved:"bg-teal-100 text-teal-800 font-bold",head_it_approved:"bg-lime-100 text-lime-800",ict_officer_approved:"bg-green-200 text-green-900",approved:"bg-green-100 text-green-800 font-bold",hod_rejected:"bg-red-100 text-red-800",divisional_rejected:"bg-red-100 text-red-800",ict_director_rejected:"bg-red-100 text-red-800",dict_rejected:"bg-red-100 text-red-800",head_it_rejected:"bg-red-100 text-red-800",ict_officer_rejected:"bg-red-100 text-red-800",rejected:"bg-red-100 text-red-800",implemented:"bg-blue-100 text-blue-800",completed:"bg-purple-100 text-purple-800",cancelled:"bg-gray-100 text-gray-800",in_review:"bg-blue-100 text-blue-800",in_use:"bg-purple-100 text-purple-800",returned:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"},o={pending:"fas fa-hourglass-start",pending_hod:"fas fa-clock",pending_divisional:"fas fa-clock",pending_ict_director:"fas fa-clock",pending_head_it:"fas fa-clock",pending_ict_officer:"fas fa-clock",hod_approved:"fas fa-check",divisional_approved:"fas fa-check-double",ict_director_approved:"fas fa-check",dict_approved:"fas fa-check",head_it_approved:"fas fa-check",ict_officer_approved:"fas fa-check",approved:"fas fa-check-circle",hod_rejected:"fas fa-times",divisional_rejected:"fas fa-times",ict_director_rejected:"fas fa-times",dict_rejected:"fas fa-times",head_it_rejected:"fas fa-times",ict_officer_rejected:"fas fa-times",rejected:"fas fa-times",implemented:"fas fa-cogs",completed:"fas fa-flag-checkered",cancelled:"fas fa-ban",in_review:"fas fa-eye",in_use:"fas fa-play",returned:"fas fa-undo",overdue:"fas fa-exclamation-triangle"};function n(e,t="Unknown Component"){if(!e)return console.warn(`ðŸ” [StatusUtils] Empty or undefined status passed from ${t}`),"No Status";if(t&&t.includes("Dict")&&"divisional_approved"===e)return"Pending";const a=s[e];return a||(console.warn("ðŸ” [StatusUtils] Unknown status encountered:",{status:e,componentName:t,availableStatuses:Object.keys(s)}),`Unknown Status (${e})`)}function i(e,t=""){return t&&t.includes("Dict")&&"divisional_approved"===e?"bg-yellow-100 text-yellow-800":r[e]||"bg-gray-100 text-gray-800"}function c(e){return o[e]||"fas fa-question"}function d(e){return e&&e.startsWith("pending")}function l(e){return e&&(e.includes("approved")||"approved"===e)}function u(e){return e&&(e.includes("rejected")||"rejected"===e)}function g(e){const t=["implemented","completed","cancelled"];return t.includes(e)}function m(e){const t={pending:"pending_hod",pending_hod:"hod_approved",hod_approved:"pending_divisional",pending_divisional:"divisional_approved",divisional_approved:"pending_ict_director",pending_ict_director:"ict_director_approved",ict_director_approved:"pending_head_it",pending_head_it:"head_it_approved",head_it_approved:"pending_ict_officer",pending_ict_officer:"ict_officer_approved",ict_officer_approved:"approved",approved:"implemented",implemented:"completed"};return t[e]||null}function p(){return Object.keys(s)}function h(e){return Object.prototype.hasOwnProperty.call(s,e)}t.Ay={getStatusText:n,getStatusBadgeClass:i,getStatusIcon:c,isPendingStatus:d,isApprovedStatus:l,isRejectedStatus:u,isFinalStatus:g,getNextStatus:m,getAllStatuses:p,isValidStatus:h,STATUS_TEXTS:s,STATUS_BADGE_CLASSES:r,STATUS_ICONS:o}},4666:function(e,t,a){a(8111),a(7588);var s=a(5796);const r={id:"app"},o={key:0,class:"fixed top-0 left-0 bg-black text-white p-4 z-50 text-xs"},n={key:2},i={key:3,class:"fixed top-4 right-4 bg-red-500 text-white px-6 py-4 rounded-xl shadow-2xl z-[9999] max-w-md"},c={class:"flex items-center"},d={class:"font-medium flex-1"};function l(e,t,a,l,u,g){const m=(0,s.g2)("AuthLoadingScreen"),p=(0,s.g2)("router-view"),h=(0,s.g2)("NotificationSystem"),f=(0,s.g2)("CompactNotificationSystem");return(0,s.uX)(),(0,s.CE)("div",r,[l.showDebug?((0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("div",null,"Auth Ready: "+(0,s.v_)(l.isAuthReady),1),(0,s.Lk)("div",null,"Restoring Session: "+(0,s.v_)(l.restoringSession),1),(0,s.Lk)("div",null,"Session Restored: "+(0,s.v_)(l.sessionRestored),1),(0,s.Lk)("div",null,"Is Authenticated: "+(0,s.v_)(l.isAuthenticated),1),(0,s.Lk)("div",null,"User Role: "+(0,s.v_)(l.userRole),1),(0,s.Lk)("div",null,"Current User: "+(0,s.v_)(l.currentUser?.name),1),(0,s.Lk)("div",null,"Auth Error: "+(0,s.v_)(l.authError),1)])):(0,s.Q3)("",!0),l.isAuthReady?((0,s.uX)(),(0,s.CE)("main",n,[(0,s.bF)(p)])):((0,s.uX)(),(0,s.Wv)(m,{key:1,message:l.loadingMessage,progress:l.loadingProgress},null,8,["message","progress"])),(0,s.bF)(h),(0,s.bF)(f),l.authError?((0,s.uX)(),(0,s.CE)("div",i,[(0,s.Lk)("div",c,[t[2]||(t[2]=(0,s.Lk)("div",{class:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center mr-3"},[(0,s.Lk)("i",{class:"fas fa-exclamation-triangle text-sm"})],-1)),(0,s.Lk)("p",d,(0,s.v_)(l.authError),1),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.clearAuthError&&l.clearAuthError(...e)),class:"ml-3 text-white/80 hover:text-white transition-colors duration-200"},[...t[1]||(t[1]=[(0,s.Lk)("i",{class:"fas fa-times"},null,-1)])])])])):(0,s.Q3)("",!0)])}const u={class:"auth-loading-screen"},g={class:"loading-container"},m={class:"loading-message"},p={class:"loading-progress"};function h(e,t,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",g,[t[0]||(t[0]=(0,s.Fv)('<div class="loading-spinner" data-v-33750150><div class="spinner-ring" data-v-33750150></div><div class="spinner-ring" data-v-33750150></div><div class="spinner-ring" data-v-33750150></div></div><h2 class="loading-title" data-v-33750150>Initializing Application</h2>',2)),(0,s.Lk)("p",m,(0,s.v_)(n.loadingMessage),1),(0,s.Lk)("div",p,[(0,s.Lk)("div",{class:"progress-bar",style:(0,s.Tr)({width:n.progressPercentage+"%"})},null,4)])])])}var f={name:"AuthLoadingScreen",props:{message:{type:String,default:"Restoring your session..."},progress:{type:Number,default:0}},computed:{loadingMessage(){return this.message},progressPercentage(){return Math.min(Math.max(this.progress,0),100)}}},b=a(1241);const v=(0,b.A)(f,[["render",h],["__scopeId","data-v-33750150"]]);var y=v;const _={class:"notification-container fixed top-4 right-4 z-50 space-y-3 max-w-md"},w={class:"absolute inset-0 opacity-5"},A={class:"grid grid-cols-8 gap-2 h-full transform rotate-45"},q={class:"flex items-start justify-between relative z-10"},k={class:"flex items-center space-x-3"},R={key:0,class:"text-sm font-bold text-white drop-shadow-md"},E=["onClick"],C={key:0,class:"text-base text-white/90 mt-3 leading-relaxed relative z-10"},I={key:1,class:"mt-4 flex space-x-2 relative z-10"},S=["onClick"];function x(e,t,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",_,[(0,s.bF)(s.F,{name:"notification",tag:"div"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.notifications,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,s.C4)(["notification-card rounded-xl shadow-2xl border-l-4 p-5 backdrop-blur-sm relative overflow-hidden",r.getNotificationClasses(e.type)])},[(0,s.Lk)("div",w,[(0,s.Lk)("div",A,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(32,e=>(0,s.Lk)("div",{key:e,class:"bg-white rounded-full w-1 h-1 animate-pulse",style:(0,s.Tr)({animationDelay:.1*e+"s"})},null,4)),64))])]),(0,s.Lk)("div",q,[(0,s.Lk)("div",k,[(0,s.Lk)("div",{class:(0,s.C4)(r.getIconClasses(e.type))},[(0,s.Lk)("i",{class:(0,s.C4)([r.getIcon(e.type),"text-sm"])},null,2)],2),e.title?((0,s.uX)(),(0,s.CE)("h4",R,(0,s.v_)(e.title),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("button",{onClick:t=>r.removeNotification(e.id),class:"text-white/70 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10"},[...t[0]||(t[0]=[(0,s.Lk)("i",{class:"fas fa-times text-xs"},null,-1)])],8,E)]),e.message?((0,s.uX)(),(0,s.CE)("p",C,(0,s.v_)(e.message),1)):(0,s.Q3)("",!0),e.actions&&e.actions.length>0?((0,s.uX)(),(0,s.CE)("div",I,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.actions,t=>((0,s.uX)(),(0,s.CE)("button",{key:t.action,onClick:a=>r.handleAction(t,e),class:(0,s.C4)([r.getActionButtonClasses(e.type),"px-4 py-2 text-xs font-semibold rounded-lg transition-all duration-200 hover:shadow-lg hover:scale-105"])},[t.icon?((0,s.uX)(),(0,s.CE)("i",{key:0,class:(0,s.C4)([t.icon,"mr-1"])},null,2)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,s.v_)(t.label),1)],10,S))),128))])):(0,s.Q3)("",!0),e.persistent?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,s.C4)([r.getProgressBarClasses(e.type),"progress-bar mt-4 h-1 rounded-full relative z-10"]),style:(0,s.Tr)(`animation-duration: ${e.duration}ms`)},null,6)),(0,s.Lk)("div",{class:(0,s.C4)([r.getTypeBadgeClasses(e.type),"absolute top-2 right-12 px-2 py-1 rounded-full text-xs font-bold uppercase tracking-wide"])},(0,s.v_)(e.type),3)],2))),128))]),_:1})])}a(4114);var D=a(1387),T=a(59),F={name:"NotificationSystem",setup(){const e=(0,D.rd)(),t=(0,T.i)(),a=(0,s.EW)(()=>t.notifications),r=e=>{t.removeNotification(e)},o=(t,a)=>{t.url&&e.push(t.url),t.callback&&"function"===typeof t.callback&&t.callback(),r(a.id)},n=e=>{const t={success:"medical-card bg-gradient-to-r from-blue-600/30 to-emerald-600/30 border-emerald-400 shadow-emerald-500/30",error:"medical-card bg-gradient-to-r from-blue-600/30 to-red-600/30 border-red-400 shadow-red-500/30",warning:"medical-card bg-gradient-to-r from-blue-600/30 to-yellow-600/30 border-yellow-400 shadow-yellow-500/30",info:"medical-card bg-gradient-to-r from-blue-600/30 to-blue-700/30 border-blue-400 shadow-blue-500/30",booking:"medical-card bg-gradient-to-r from-blue-600/30 to-cyan-600/30 border-cyan-400 shadow-cyan-500/30",access:"medical-card bg-gradient-to-r from-blue-600/30 to-indigo-600/30 border-indigo-400 shadow-indigo-500/30",approval:"medical-card bg-gradient-to-r from-blue-600/30 to-purple-600/30 border-purple-400 shadow-purple-500/30",system:"medical-card bg-gradient-to-r from-blue-600/30 to-teal-600/30 border-teal-400 shadow-teal-500/30",medical:"medical-card bg-gradient-to-r from-blue-600/30 to-blue-800/30 border-blue-400 shadow-blue-500/30",security:"medical-card bg-gradient-to-r from-blue-600/30 to-red-700/30 border-red-500 shadow-red-600/30",maintenance:"medical-card bg-gradient-to-r from-blue-600/30 to-orange-600/30 border-orange-400 shadow-orange-500/30",feature:"medical-card bg-gradient-to-r from-blue-600/30 to-violet-600/30 border-violet-400 shadow-violet-500/30",quota:"medical-card bg-gradient-to-r from-blue-600/30 to-amber-600/30 border-amber-400 shadow-amber-500/30",session:"medical-card bg-gradient-to-r from-blue-600/30 to-rose-600/30 border-rose-400 shadow-rose-500/30",backup:"medical-card bg-gradient-to-r from-blue-600/30 to-slate-600/30 border-slate-400 shadow-slate-500/30",welcome:"medical-card bg-gradient-to-r from-blue-600/30 to-sky-600/30 border-sky-400 shadow-sky-500/30"};return t[e]||t.info},i=e=>{const t={success:"w-8 h-8 bg-emerald-500/20 text-emerald-300 rounded-full flex items-center justify-center border border-emerald-400/30",error:"w-8 h-8 bg-red-500/20 text-red-300 rounded-full flex items-center justify-center border border-red-400/30",warning:"w-8 h-8 bg-yellow-500/20 text-yellow-300 rounded-full flex items-center justify-center border border-yellow-400/30",info:"w-8 h-8 bg-blue-500/20 text-blue-300 rounded-full flex items-center justify-center border border-blue-400/30",booking:"w-8 h-8 bg-cyan-500/20 text-cyan-300 rounded-full flex items-center justify-center border border-cyan-400/30",access:"w-8 h-8 bg-indigo-500/20 text-indigo-300 rounded-full flex items-center justify-center border border-indigo-400/30",approval:"w-8 h-8 bg-purple-500/20 text-purple-300 rounded-full flex items-center justify-center border border-purple-400/30",system:"w-8 h-8 bg-teal-500/20 text-teal-300 rounded-full flex items-center justify-center border border-teal-400/30",medical:"w-8 h-8 bg-blue-500/20 text-blue-300 rounded-full flex items-center justify-center border border-blue-400/30",security:"w-8 h-8 bg-red-600/20 text-red-300 rounded-full flex items-center justify-center border border-red-500/30",maintenance:"w-8 h-8 bg-orange-500/20 text-orange-300 rounded-full flex items-center justify-center border border-orange-400/30",feature:"w-8 h-8 bg-violet-500/20 text-violet-300 rounded-full flex items-center justify-center border border-violet-400/30",quota:"w-8 h-8 bg-amber-500/20 text-amber-300 rounded-full flex items-center justify-center border border-amber-400/30",session:"w-8 h-8 bg-rose-500/20 text-rose-300 rounded-full flex items-center justify-center border border-rose-400/30",backup:"w-8 h-8 bg-slate-500/20 text-slate-300 rounded-full flex items-center justify-center border border-slate-400/30",welcome:"w-8 h-8 bg-sky-500/20 text-sky-300 rounded-full flex items-center justify-center border border-sky-400/30"};return t[e]||t.info},c=e=>{const t={success:"fas fa-check-circle",error:"fas fa-exclamation-triangle",warning:"fas fa-exclamation-circle",info:"fas fa-info-circle",booking:"fas fa-calendar-check",access:"fas fa-key",approval:"fas fa-clipboard-check",system:"fas fa-cog",medical:"fas fa-hospital",security:"fas fa-shield-alt",maintenance:"fas fa-tools",feature:"fas fa-star",quota:"fas fa-chart-pie",session:"fas fa-clock",backup:"fas fa-download",welcome:"fas fa-hand-wave"};return t[e]||t.info},d=e=>{const t={success:"bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30 border border-emerald-400/30",error:"bg-red-500/20 text-red-300 hover:bg-red-500/30 border border-red-400/30",warning:"bg-yellow-500/20 text-yellow-300 hover:bg-yellow-500/30 border border-yellow-400/30",info:"bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 border border-blue-400/30",booking:"bg-cyan-500/20 text-cyan-300 hover:bg-cyan-500/30 border border-cyan-400/30",access:"bg-indigo-500/20 text-indigo-300 hover:bg-indigo-500/30 border border-indigo-400/30",approval:"bg-purple-500/20 text-purple-300 hover:bg-purple-500/30 border border-purple-400/30",system:"bg-teal-500/20 text-teal-300 hover:bg-teal-500/30 border border-teal-400/30",medical:"bg-blue-500/20 text-blue-300 hover:bg-blue-500/30 border border-blue-400/30",security:"bg-red-600/20 text-red-300 hover:bg-red-600/30 border border-red-500/30",maintenance:"bg-orange-500/20 text-orange-300 hover:bg-orange-500/30 border border-orange-400/30",feature:"bg-violet-500/20 text-violet-300 hover:bg-violet-500/30 border border-violet-400/30",quota:"bg-amber-500/20 text-amber-300 hover:bg-amber-500/30 border border-amber-400/30",session:"bg-rose-500/20 text-rose-300 hover:bg-rose-500/30 border border-rose-400/30",backup:"bg-slate-500/20 text-slate-300 hover:bg-slate-500/30 border border-slate-400/30",welcome:"bg-sky-500/20 text-sky-300 hover:bg-sky-500/30 border border-sky-400/30"};return t[e]||t.info},l=e=>{const t={success:"bg-emerald-400/60",error:"bg-red-400/60",warning:"bg-yellow-400/60",info:"bg-blue-400/60",booking:"bg-cyan-400/60",access:"bg-indigo-400/60",approval:"bg-purple-400/60",system:"bg-teal-400/60",medical:"bg-blue-400/60",security:"bg-red-500/60",maintenance:"bg-orange-400/60",feature:"bg-violet-400/60",quota:"bg-amber-400/60",session:"bg-rose-400/60",backup:"bg-slate-400/60",welcome:"bg-sky-400/60"};return t[e]||t.info},u=e=>{const t={success:"bg-emerald-500/30 text-emerald-200 border border-emerald-400/30",error:"bg-red-500/30 text-red-200 border border-red-400/30",warning:"bg-yellow-500/30 text-yellow-200 border border-yellow-400/30",info:"bg-blue-500/30 text-blue-200 border border-blue-400/30",booking:"bg-cyan-500/30 text-cyan-200 border border-cyan-400/30",access:"bg-indigo-500/30 text-indigo-200 border border-indigo-400/30",approval:"bg-purple-500/30 text-purple-200 border border-purple-400/30",system:"bg-teal-500/30 text-teal-200 border border-teal-400/30",medical:"bg-blue-500/30 text-blue-200 border border-blue-400/30",security:"bg-red-600/30 text-red-200 border border-red-500/30",maintenance:"bg-orange-500/30 text-orange-200 border border-orange-400/30",feature:"bg-violet-500/30 text-violet-200 border border-violet-400/30",quota:"bg-amber-500/30 text-amber-200 border border-amber-400/30",session:"bg-rose-500/30 text-rose-200 border border-rose-400/30",backup:"bg-slate-500/30 text-slate-200 border border-slate-400/30",welcome:"bg-sky-500/30 text-sky-200 border border-sky-400/30"};return t[e]||t.info};return{notifications:a,removeNotification:r,handleAction:o,getNotificationClasses:n,getIconClasses:i,getIcon:c,getActionButtonClasses:d,getProgressBarClasses:l,getTypeBadgeClasses:u}}};const P=(0,b.A)(F,[["render",x],["__scopeId","data-v-b900eeec"]]);var O=P;const N={class:"compact-notification-container fixed top-4 right-4 z-50 space-y-2 max-w-sm"},j={class:"absolute inset-0 opacity-10"},L={class:"grid grid-cols-6 gap-1 h-full transform rotate-12"},M={class:"flex items-start justify-between relative z-10 mb-2"},$={class:"flex items-center space-x-2"},U={key:0,class:"text-xs font-bold text-white drop-shadow-md truncate"},B=["onClick"],H={key:0,class:"text-xs text-white/90 leading-relaxed relative z-10 mb-2"},W={key:1,class:"flex space-x-1 relative z-10"},V=["onClick"],z={class:"truncate"};function Y(e,t,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",N,[(0,s.bF)(s.F,{name:"compact-notification",tag:"div"},{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.compactNotifications,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,s.C4)(["compact-notification-card rounded-xl shadow-xl border-l-4 p-3 backdrop-blur-sm relative overflow-hidden transform hover:scale-105 transition-all duration-300",r.getCompactNotificationClasses(e.type)])},[(0,s.Lk)("div",j,[(0,s.Lk)("div",L,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(24,e=>(0,s.Lk)("div",{key:e,class:"bg-white rounded-full w-0.5 h-0.5 animate-pulse",style:(0,s.Tr)({animationDelay:.05*e+"s"})},null,4)),64))])]),(0,s.Lk)("div",M,[(0,s.Lk)("div",$,[(0,s.Lk)("div",{class:(0,s.C4)(r.getCompactIconClasses(e.type))},[(0,s.Lk)("i",{class:(0,s.C4)([r.getCompactIcon(e.type),"text-xs"])},null,2)],2),e.title?((0,s.uX)(),(0,s.CE)("h4",U,(0,s.v_)(e.title),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("button",{onClick:t=>r.removeNotification(e.id),class:"text-white/60 hover:text-white transition-colors p-0.5 rounded-full hover:bg-white/10 flex-shrink-0"},[...t[0]||(t[0]=[(0,s.Lk)("i",{class:"fas fa-times text-xs"},null,-1)])],8,B)]),e.message?((0,s.uX)(),(0,s.CE)("p",H,(0,s.v_)(e.message),1)):(0,s.Q3)("",!0),e.actions&&e.actions.length>0?((0,s.uX)(),(0,s.CE)("div",W,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.actions.slice(0,2),t=>((0,s.uX)(),(0,s.CE)("button",{key:t.action,onClick:a=>r.handleAction(t,e),class:(0,s.C4)([r.getCompactActionButtonClasses(e.type),"px-2 py-1 text-xs font-semibold rounded-md transition-all duration-200 hover:shadow-md hover:scale-105 flex items-center space-x-1"])},[t.icon?((0,s.uX)(),(0,s.CE)("i",{key:0,class:(0,s.C4)([t.icon,"text-xs"])},null,2)):(0,s.Q3)("",!0),(0,s.Lk)("span",z,(0,s.v_)(t.label),1)],10,V))),128))])):(0,s.Q3)("",!0),e.persistent?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,s.C4)([r.getCompactProgressBarClasses(e.type),"compact-progress-bar mt-2 h-0.5 rounded-full relative z-10"]),style:(0,s.Tr)(`animation-duration: ${e.duration}ms`)},null,6)),(0,s.Lk)("div",{class:(0,s.C4)([r.getCompactTypeBadgeClasses(e.type),"absolute top-1 right-8 px-1 py-0.5 rounded-full text-xs font-bold uppercase tracking-wide"])},(0,s.v_)(e.type.charAt(0)),3)],2))),128))]),_:1})])}a(2489);var X={name:"CompactNotificationSystem",setup(){const e=(0,D.rd)(),t=(0,T.i)(),a=(0,s.EW)(()=>t.notifications.filter(e=>["booking","success","approval"].includes(e.type))),r=e=>{t.removeNotification(e)},o=(t,a)=>{t.url&&e.push(t.url),t.callback&&"function"===typeof t.callback&&t.callback(),r(a.id)},n=e=>{const t={success:"compact-card bg-gradient-to-r from-emerald-500/30 to-emerald-600/30 border-emerald-400 shadow-emerald-500/40",booking:"compact-card bg-gradient-to-r from-blue-500/30 to-cyan-600/30 border-cyan-400 shadow-cyan-500/40",approval:"compact-card bg-gradient-to-r from-purple-500/30 to-purple-600/30 border-purple-400 shadow-purple-500/40"};return t[e]||t.booking},i=e=>{const t={success:"w-5 h-5 bg-emerald-500/30 text-emerald-300 rounded-full flex items-center justify-center border border-emerald-400/40",booking:"w-5 h-5 bg-cyan-500/30 text-cyan-300 rounded-full flex items-center justify-center border border-cyan-400/40",approval:"w-5 h-5 bg-purple-500/30 text-purple-300 rounded-full flex items-center justify-center border border-purple-400/40"};return t[e]||t.booking},c=e=>{const t={success:"fas fa-check-circle",booking:"fas fa-calendar-check",approval:"fas fa-clipboard-check"};return t[e]||t.booking},d=e=>{const t={success:"bg-emerald-500/25 text-emerald-200 hover:bg-emerald-500/40 border border-emerald-400/40",booking:"bg-cyan-500/25 text-cyan-200 hover:bg-cyan-500/40 border border-cyan-400/40",approval:"bg-purple-500/25 text-purple-200 hover:bg-purple-500/40 border border-purple-400/40"};return t[e]||t.booking},l=e=>{const t={success:"bg-emerald-400/70",booking:"bg-cyan-400/70",approval:"bg-purple-400/70"};return t[e]||t.booking},u=e=>{const t={success:"bg-emerald-500/40 text-emerald-100 border border-emerald-400/40",booking:"bg-cyan-500/40 text-cyan-100 border border-cyan-400/40",approval:"bg-purple-500/40 text-purple-100 border border-purple-400/40"};return t[e]||t.booking};return{compactNotifications:a,removeNotification:r,handleAction:o,getCompactNotificationClasses:n,getCompactIconClasses:i,getCompactIcon:c,getCompactActionButtonClasses:d,getCompactProgressBarClasses:l,getCompactTypeBadgeClasses:u}}};const K=(0,b.A)(X,[["render",Y],["__scopeId","data-v-13e9625e"]]);var Q=K,G=a(14),J={name:"App",components:{AuthLoadingScreen:y,NotificationSystem:O,CompactNotificationSystem:Q},setup(){const e=(0,G.useAuthStore)(),t=(0,s.KR)(!1),a=(0,s.EW)(()=>e.isInitialized),r=(0,s.EW)(()=>!1),o=(0,s.EW)(()=>e.isInitialized),n=(0,s.EW)(()=>e.isAuthenticated),i=(0,s.EW)(()=>e.user),c=(0,s.EW)(()=>e.userRole),d=(0,s.EW)(()=>e.error),l=(0,s.EW)(()=>r.value?"Restoring your session...":o.value?"Preparing application...":"Initializing authentication..."),u=(0,s.EW)(()=>o.value?r.value?60:a.value?100:80:30);(0,s.sV)(async()=>{a.value,r.value,o.value,n.value,c.value,i.value});const g=()=>{e.clearError()};return{showDebug:t,isAuthReady:a,restoringSession:r,sessionRestored:o,isAuthenticated:n,currentUser:i,userRole:c,authError:d,loadingMessage:l,loadingProgress:u,clearAuthError:g}}};const Z=(0,b.A)(J,[["render",l]]);var ee=Z,te=a(9553),ae=(a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(8998));const se=new Set;function re(e,t="image/png"){if(se.has(e))return;const a=document.querySelector(`link[href="${e}"]`);if(a)return void se.add(e);const s=document.createElement("link");s.rel="preload",s.as="image",s.type=t,s.href=e,document.head.appendChild(s),se.add(e),ae.gg.debug("image",`ðŸ”— Image preloaded via link: ${e}`)}function oe(e){const t="/assets/images/",a=["/hod-dashboard/request-list","/internal-access/details","/both-service-form","/jeeva-access","/wellsoft-access","/internet-access","/user-combined-form","/booking-service","/ict-approval/requests","/ict-approval/request","/secretary-approval/requests","/secretary-approval/request","/onboarding"],s=a.some(t=>e.startsWith(t));s&&(ae.gg.debug("navigation",`ðŸ–¼ï¸ Route requires images, preloading: ${e}`),re(`${t}logo2.png`))}a(3579);var ne=a(6464);const ie=!1;async function ce(e){try{if("staff"!==e)return{hasPendingRequest:!1};const t=await ne.A.checkPendingRequests();return t.success&&t.data?{hasPendingRequest:t.data.has_pending_request,pendingRequestInfo:t.data.pending_request||null,message:t.data.message||null}:{hasPendingRequest:!1}}catch(t){return console.error("âŒ Route Guard: Error checking pending booking request:",t),{hasPendingRequest:!1}}}async function de(e){try{const s=(0,G.useAuthStore)();s.isInitialized||s.initializeAuth();const r=s.isAuthenticated,o=s.user,n=s.userRole,i=o&&Array.isArray(o.roles)?o.roles:[];if(ie&&e.path,!1!==e.meta?.requiresAuth){if(!r)return{hasAccess:!1,redirectTo:"/login",reason:"Not authenticated"};if(o?.needs_onboarding&&"admin"!==n&&"ADMIN"!==n&&"Onboarding"!==e.name&&"/onboarding"!==e.path)return ie&&(o.needs_onboarding,e.path,e.name,o.id,o.name),{hasAccess:!1,redirectTo:"/onboarding",reason:"Onboarding required"};if(("Onboarding"===e.name||"/onboarding"===e.path)&&o?.needs_onboarding&&"admin"!==n&&"ADMIN"!==n)return{hasAccess:!0,reason:"Onboarding access granted for user who needs it"};if("Onboarding"!==e.name&&ie&&(e.path,e.name),("admin"===n||"ADMIN"===n)&&"Onboarding"===e.name)return{hasAccess:!1,redirectTo:"/admin-dashboard",reason:"Admin users do not need onboarding"}}if(e.meta?.roles&&e.meta.roles.length>0){if(!n&&(!i||0===i.length))return{hasAccess:!1,redirectTo:"/login",reason:"No user role found"};const t=e.meta.roles.includes(n)||i.some(t=>e.meta.roles.includes(t));let s=!1;if(!t){const t=n||(i.length>0?i[0]:null);if(t){const{hasRouteAccess:r}=await Promise.resolve().then(a.bind(a,9553));s=r(t,e.path)}}if(!t&&!s){ie&&(e.meta.roles,e.path);const t=n||(i.length>0?i[0]:null),{getDefaultDashboard:s}=await Promise.resolve().then(a.bind(a,9553)),r=s(t);return{hasAccess:!1,redirectTo:r||"/login",reason:`Role ${t} not authorized for this route. Required roles: ${e.meta.roles.join(", ")}`}}}if(!e.meta?.roles&&r){const{isDashboardRoute:t,getDefaultDashboard:s}=await Promise.resolve().then(a.bind(a,9553));if(t(e.path)){const t=s(n);return e.path===t?(ie&&e.path,{hasAccess:!0,reason:"User accessing their default dashboard"}):(ie&&e.path,{hasAccess:!1,redirectTo:t||"/login",reason:`Redirecting to correct dashboard for role ${n}`})}}if("/booking-service"===e.path&&"staff"===n){const e=await ce(n);if(e.hasPendingRequest){ie&&e.pendingRequestInfo;try{const t=(0,T.i)();t.setPendingBookingInfo(e.pendingRequestInfo),t.showBookingLockNotification(e.pendingRequestInfo)}catch(t){console.warn("Failed to show booking lock notification:",t)}return{hasAccess:!1,redirectTo:"/request-status",reason:"User has a pending booking request. Access to booking service is locked until request is processed.",pendingRequestInfo:e.pendingRequestInfo}}}return{hasAccess:!0,reason:"Access granted"}}catch(t){return console.error("âŒ Route Guard: Error checking access:",t),{hasAccess:!1,redirectTo:"/login",reason:"Route guard error"}}}async function le(e,t,s){ie&&(t.path,e.path);try{let t=5e3,r=0;const o=50,n=(0,G.useAuthStore)();while(!n.isInitialized&&r<t)ie&&n.isInitialized,n.isInitialized||n.initializeAuth(),await new Promise(e=>setTimeout(e,o)),r+=o;if(r>=t&&console.warn("âš ï¸ Enhanced Route Guard: Auth initialization timeout, proceeding anyway"),n.isInitialized||n.initializeAuth(),ie&&(n.isAuthenticated,n.userRole,n.user,e.path,n.isInitialized),e.query.redirect&&n.isAuthenticated&&n.userRole){const t=n.user;if(!t?.needs_onboarding||"admin"===n.userRole||"ADMIN"===n.userRole){const t=e.query.redirect;ie&&(e.path,n.userRole);const r={path:t,meta:{}},o=await de(r);if(o.hasAccess)return s({path:t,replace:!0});{const{getDefaultDashboard:e}=await Promise.resolve().then(a.bind(a,9553)),t=e(n.userRole);return s({path:t||"/login",replace:!0})}}}if(n.isAuthenticated&&n.userRole&&("/"===e.path||"/login"===e.path)){const{getDefaultDashboard:t}=await Promise.resolve().then(a.bind(a,9553)),r=t(n.userRole);if(r&&r!==e.path)return ie&&n.userRole,s({path:r,replace:!0})}if("/onboarding"===e.path&&n.user?.needs_onboarding&&"admin"!==n.userRole&&"ADMIN"!==n.userRole)return s();if(e.meta?.roles&&e.meta.roles.length>0&&!n.userRole){ie&&e.path;let t=0;const a=500;while(!n.userRole&&t<a)await new Promise(e=>setTimeout(e,50)),t+=50;ie&&n.userRole}const i=await de(e);if(!i.hasAccess){if(ie&&i.reason,i.redirectTo){const{getDefaultDashboard:t}=await Promise.resolve().then(a.bind(a,9553)),r=t(n.userRole),o=i.redirectTo!==r&&e.path!==i.redirectTo&&!e.path.startsWith("/login")&&!e.path.startsWith("/onboarding")&&"/onboarding"!==i.redirectTo&&"Onboarding required"!==i.reason;return ie&&(i.redirectTo,e.path),s({path:i.redirectTo,query:o?{redirect:e.fullPath}:void 0,replace:!0})}return s(!1)}ie&&i.reason,s()}catch(r){console.error("âŒ Enhanced Route Guard: Navigation error:",r),s("/login")}}var ue=a(460);const ge=()=>a.e(7933).then(a.bind(a,3701)),me=[{path:"/",name:"LoginPage",component:ge,meta:{requiresAuth:!1,isPublic:!0}},{path:"/login",name:"Login",component:ge,meta:{requiresAuth:!1,isPublic:!0}},{path:"/ict-policy",name:"IctPolicy",component:()=>Promise.all([a.e(7253),a.e(624)]).then(a.bind(a,8022)),meta:{requiresAuth:!1,isPublic:!0}},{path:"/terms-of-service",name:"TermsOfService",component:()=>Promise.all([a.e(7253),a.e(624)]).then(a.bind(a,4786)),meta:{requiresAuth:!1,isPublic:!0}},{path:"/api-docs",name:"ApiDocsRedirect",beforeEnter:()=>{window.location.href="/api-docs-modern"},meta:{requiresAuth:!1,isPublic:!0}},{path:"/admin-dashboard",name:"AdminDashboard",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(1815)]).then(a.bind(a,2100)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/admin/dashboard",name:"AdminDashboardAlt",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(1815)]).then(a.bind(a,2100)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/admin/user-roles",name:"UserRoleAssignment",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(8138),a.e(8722)]).then(a.bind(a,4528)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/admin/clean-role-assignment",name:"CleanRoleAssignment",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(9444)]).then(a.bind(a,6100)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/admin/departments",name:"DepartmentManagement",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(8138),a.e(6684)]).then(a.bind(a,3246)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/admin/device-inventory",name:"DeviceInventoryManagement",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(9567),a.e(1256)]).then(a.bind(a,416)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/user-dashboard",name:"UserDashboard",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(1)]).then(a.bind(a,782)),meta:{requiresAuth:!0,roles:[te.gg.STAFF,te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/dict-dashboard",name:"DictDashboard",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(8406)]).then(a.bind(a,1955)),meta:{requiresAuth:!0,roles:[te.gg.ICT_DIRECTOR]}},{path:"/hod-dashboard",name:"HodDashboard",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(8158)]).then(a.bind(a,4827)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_DEPARTMENT]}},{path:"/hod-dashboard/create-user",name:"HodCreateUser",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(1819)]).then(a.bind(a,4512)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_DEPARTMENT]}},{path:"/divisional-dashboard",name:"DivisionalDashboard",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(2273)]).then(a.bind(a,4606)),meta:{requiresAuth:!0,roles:[te.gg.DIVISIONAL_DIRECTOR]}},{path:"/ict-dashboard",redirect:"/ict-dashboard/access-requests"},{path:"/head_of_it-dashboard",redirect:"/head_of_it-dashboard/combined-requests"},{path:"/onboarding",name:"Onboarding",component:()=>Promise.all([a.e(7253),a.e(7802)]).then(a.bind(a,4268)),meta:{requiresAuth:!0,roles:Object.values(te.gg).filter(e=>e!==te.gg.ADMIN)}},{path:"/settings",name:"Settings",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(8428)]).then(a.bind(a,348)),meta:{requiresAuth:!0,roles:Object.values(te.gg)}},{path:"/profile",name:"UserProfile",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(590)]).then(a.bind(a,971)),meta:{requiresAuth:!0,roles:Object.values(te.gg)}},{path:"/jeeva-access",name:"JeevaAccessForm",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(2869)]).then(a.bind(a,8762)),meta:{requiresAuth:!0,roles:[te.gg.DIVISIONAL_DIRECTOR,te.gg.HEAD_OF_DEPARTMENT,te.gg.ICT_DIRECTOR,te.gg.HEAD_OF_IT,te.gg.ICT_OFFICER]}},{path:"/wellsoft-access",name:"WellsoftAccessForm",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(9609)]).then(a.bind(a,2198)),meta:{requiresAuth:!0,roles:[te.gg.DIVISIONAL_DIRECTOR,te.gg.HEAD_OF_DEPARTMENT,te.gg.ICT_DIRECTOR,te.gg.HEAD_OF_IT,te.gg.ICT_OFFICER]}},{path:"/internet-access",name:"InternetAccessForm",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(7439)]).then(a.bind(a,7644)),meta:{requiresAuth:!0,roles:[te.gg.DIVISIONAL_DIRECTOR,te.gg.HEAD_OF_DEPARTMENT,te.gg.ICT_DIRECTOR,te.gg.HEAD_OF_IT,te.gg.ICT_OFFICER]}},{path:"/hod-combined-requests/both-service-form/:id",name:"HodBothServiceFormReview",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(3679)]).then(a.bind(a,5692)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_DEPARTMENT]}},{path:"/user-combined-form",name:"UserCombinedForm",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(2993)]).then(a.bind(a,661)),meta:{requiresAuth:!0,roles:[te.gg.STAFF,te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/booking-service",name:"BookingService",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(9567),a.e(7338)]).then(a.bind(a,9257)),meta:{requiresAuth:!0,roles:[te.gg.STAFF,te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/edit-booking-request",name:"EditBookingRequest",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(3163)]).then(a.bind(a,8955)),meta:{requiresAuth:!0,roles:[te.gg.STAFF,te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/request-status",name:"RequestStatusPage",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(8958)]).then(a.bind(a,2442)),meta:{requiresAuth:!0,roles:[te.gg.STAFF,te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/request-details",name:"StaffRequestDetails",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(637)]).then(a.bind(a,3906)),meta:{requiresAuth:!0,roles:[te.gg.STAFF,te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/ict-approval/requests",name:"RequestsList",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(4466),a.e(9332)]).then(a.bind(a,8369)),meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER]}},{path:"/secretary-approval/requests",name:"SecretaryRequestsList",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(4466),a.e(9332)]).then(a.bind(a,8369)),meta:{requiresAuth:!0,roles:[te.gg.SECRETARY_ICT]}},{path:"/ict-dashboard/both-service-form/:id",name:"IctOfficerBothServiceFormReview",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(3679)]).then(a.bind(a,5692)),meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER]}},{path:"/ict-dashboard/access-requests",name:"IctDashboard",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(3631)]).then(a.bind(a,6082)),meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER]}},{path:"/ict-dashboard/access-service",name:"IctAccessService",redirect:"/user-dashboard",meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/user-security-access/:id",name:"UserSecurityAccess",component:()=>Promise.all([a.e(8966),a.e(6933),a.e(6700)]).then(a.bind(a,5356)),meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER,te.gg.STAFF,te.gg.SECRETARY_ICT]}},{path:"/ict-approval/requests-simple",name:"RequestsListSimple",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(4466),a.e(8201)]).then(a.bind(a,4854)),meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/ict-approval/requests-original",name:"RequestsListOriginal",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(4466),a.e(9332)]).then(a.bind(a,8369)),meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER,te.gg.SECRETARY_ICT]}},{path:"/ict-approval/request/:id",name:"RequestDetails",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(4466),a.e(6530)]).then(a.bind(a,1911)),meta:{requiresAuth:!0,roles:[te.gg.ICT_OFFICER]}},{path:"/secretary-approval/request/:id",name:"SecretaryRequestDetails",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(4466),a.e(6530)]).then(a.bind(a,1911)),meta:{requiresAuth:!0,roles:[te.gg.SECRETARY_ICT]}},{path:"/hod-dashboard/request-list",name:"HODDashboardRequestList",redirect:"/hod-dashboard/combined-requests"},{path:"/hod-dashboard/combined-requests",name:"HODCombinedRequestList",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(6156)]).then(a.bind(a,2068)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_DEPARTMENT]}},{path:"/hod-dashboard/divisional-recommendations",name:"HODDivisionalRecommendations",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(6156)]).then(a.bind(a,1468)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_DEPARTMENT]}},{path:"/hod-dashboard/resubmit-request/:id",name:"HODRequestResubmission",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(6156)]).then(a.bind(a,7479)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_DEPARTMENT]}},{path:"/divisional-dashboard/combined-requests",name:"DivisionalCombinedRequestList",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(385)]).then(a.bind(a,2778)),meta:{requiresAuth:!0,roles:[te.gg.DIVISIONAL_DIRECTOR]}},{path:"/divisional-dashboard/both-service-form/:id",name:"DivisionalBothServiceFormReview",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(3679)]).then(a.bind(a,5692)),meta:{requiresAuth:!0,roles:[te.gg.DIVISIONAL_DIRECTOR]}},{path:"/both-service-form/:id",redirect:e=>`/divisional-dashboard/both-service-form/${e.params.id}`},{path:"/divisional-dashboard/dict-recommendations",name:"DivisionalDictRecommendations",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(385)]).then(a.bind(a,1538)),meta:{requiresAuth:!0,roles:[te.gg.DIVISIONAL_DIRECTOR]}},{path:"/dict-dashboard/combined-requests",name:"DictCombinedRequestList",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(5531)]).then(a.bind(a,8667)),meta:{requiresAuth:!0,roles:[te.gg.ICT_DIRECTOR],refreshOnEnter:!0}},{path:"/dict-dashboard/both-service-form/:id",name:"DictBothServiceFormReview",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(3679)]).then(a.bind(a,5692)),meta:{requiresAuth:!0,roles:[te.gg.ICT_DIRECTOR]}},{path:"/head_of_it-dashboard/combined-requests",name:"HeadOfItCombinedRequestList",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(2461)]).then(a.bind(a,6429)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_IT],refreshOnEnter:!0}},{path:"/head_of_it-dashboard/dict-recommendations",name:"HeadOfItDictRecommendations",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(2461)]).then(a.bind(a,9054)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_IT]}},{path:"/head_of_it-dashboard/select-ict-officer/:id",name:"HeadOfItSelectIctOfficer",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(257),a.e(2461)]).then(a.bind(a,9877)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_IT]}},{path:"/head_of_it-dashboard/both-service-form/:id",name:"HeadOfItBothServiceFormReview",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(3679)]).then(a.bind(a,5692)),meta:{requiresAuth:!0,roles:[te.gg.HEAD_OF_IT]}},{path:"/internal-access/list",redirect:"/hod-dashboard/request-list"},{path:"/service-users",name:"ServiceUsers",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(2175),a.e(698)]).then(a.bind(a,9884)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/admin/onboarding-reset",name:"OnboardingReset",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(8781)]).then(a.bind(a,7746)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/wellsoft-users",name:"WellsoftUsers",component:()=>Promise.all([a.e(8966),a.e(5498),a.e(2175),a.e(7418)]).then(a.bind(a,1228)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/internet-users",name:"InternetUsers",component:()=>Promise.all([a.e(8966),a.e(2175),a.e(7936)]).then(a.bind(a,3234)),meta:{requiresAuth:!0,roles:[te.gg.ADMIN]}},{path:"/admin/users/jeeva",redirect:"/service-users"},{path:"/jeeva-users",redirect:"/service-users"},{path:"/admin/users/wellsoft",redirect:"/wellsoft-users"},{path:"/admin/users/internet",redirect:"/internet-users"},{path:"/admin/department-hods",redirect:"/admin/departments"},{path:"/admin",redirect:"/admin-dashboard"},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a.e(5830).then(a.bind(a,5830)).catch(()=>Promise.resolve({name:"NotFoundFallback",render(){return(0,s.h)("div",{class:"text-center p-8"},[(0,s.h)("h1",{class:"text-2xl font-bold text-red-600"},"Page Not Found"),(0,s.h)("p",{class:"mt-4"},"The requested page could not be found.")])}}))}],pe=(0,D.aE)({history:(0,D.LA)(),routes:me});pe.beforeEach(async(e,t,a)=>{try{return le(e,t,a)}catch(s){console.error("âŒ Router: Navigation error:",s),a("/login")}}),pe.afterEach(e=>{oe(e.path)}),pe.afterEach((e,t,a)=>{a&&(8===a.type?a.message:16===a.type||(console.error("Navigation failed:",a),console.error("Failed route:",e),console.error("Previous route:",t),2===a.type&&console.error("Route not found - this might indicate a missing route definition")))}),pe.onError(e=>{if(console.error("Router error:",e),e.message&&e.message.includes("Loading chunk")){console.error("Chunk loading failed, reloading page...");const e=pe.currentRoute.value.path;if(e.includes("/both-service-form/"))return void console.error("âš ï¸ Chunk loading failed on both-service-form, but preventing reload to avoid disappearing page");window.location.reload()}if(e.message&&e.message.includes("__vccOpts")){console.error("Component compilation error, attempting recovery...");const e=pe.currentRoute.value.path;if(e.includes("/both-service-form/"))return void console.error("âš ï¸ Component compilation error on both-service-form, but preventing navigation to avoid disappearing page");pe.push("/").catch(()=>{window.location.href="/"})}}),pe.beforeEach(async(e,t,a)=>{try{const s=e.path.includes("/both-service-form/");if(!s)return a();if(e.fullPath===t.fullPath)return a();const r=e.params?.id||e.path.match(/both-service-form\/(\d+)/)?.[1];if(!r)return a();const o=new Promise((e,t)=>setTimeout(()=>t(new Error("timeout")),6e3)),n=await Promise.race([ue.A.getRequestById(r),o]),i=n&&n.success&&n.data;return i?a():t&&t.path&&t.path.includes("/both-service-form/")?a(!1):a("/user-dashboard")}catch(s){return t&&t.path&&t.path.includes("/both-service-form/")?a(!1):a("/user-dashboard")}}),pe.beforeEach((e,t,a)=>{if(e.query&&Object.prototype.hasOwnProperty.call(e.query,"v")){const t={...e.query};delete t.v,a({name:e.name,params:e.params,query:t,replace:!0})}else a()});var he=pe,fe=a(657);a(9750);const be=(0,fe.Ey)();var ve=be,ye=a(2398),_e={install(e){e.config.globalProperties.$statusUtils=ye.Ay,e.provide("statusUtils",ye.Ay),e.config.globalProperties.$getStatusText=(e,t)=>ye.Ay.getStatusText(e,t),e.config.globalProperties.$getStatusBadgeClass=e=>ye.Ay.getStatusBadgeClass(e),e.config.globalProperties.$getStatusIcon=e=>ye.Ay.getStatusIcon(e)}};a.e(10).then(a.bind(a,10)),a.e(3191).then(a.bind(a,3191)),a.e(3890).then(a.bind(a,3890)),ae.gg.log("ðŸš€ Starting Vue application...");const we=(0,s.Ef)(ee);we.config.errorHandler=(e,t,a)=>{ae.gg.error("âŒ Vue Error:",e),ae.gg.error("âŒ Component:",t),ae.gg.error("âŒ Info:",a)},we.use(ve),we.use(_e),we.use(he),we.mount("#app"),ae.gg.log("âœ… Vue application mounted successfully"),Promise.resolve().then(a.bind(a,14)).then(({useAuthStore:e})=>{const t=e();t.initializeAuth(),ae.gg.log("âœ… Auth store initialized");try{window.dispatchEvent(new CustomEvent("auth-ready"))}catch(a){ae.gg.warn("Auth ready event dispatch failed:",a)}}),setTimeout(()=>{Promise.resolve().then(a.bind(a,9750)).then(({useSidebarStore:e})=>{const t=e();t.initializeSidebar(),ae.gg.log("âœ… Sidebar store initialized")}).catch(e=>{ae.gg.warn("âš ï¸ Sidebar initialization failed:",e)})},100)},6464:function(e,t,a){a.d(t,{z:function(){return r}});var s=a(274);const r={async submitBooking(e){try{const t=await s.A.post("/booking-service/bookings",e);return{success:!0,data:t.data}}catch(t){return console.error("Booking submission failed:",t),{success:!1,message:t.response?.data?.message||"Failed to submit booking request",errors:t.response?.data?.errors||{},status:t.response?.status}}},async getUserBookings(e={}){try{const t=await s.A.get("/booking-service/bookings",{params:e});return{success:!0,data:t.data}}catch(t){return console.error("Failed to fetch user bookings:",t),{success:!1,message:t.response?.data?.message||"Failed to fetch bookings",status:t.response?.status}}},async getBookingById(e){try{const t=await s.A.get(`/booking-service/bookings/${e}`);return{success:!0,data:t.data}}catch(t){return console.error("Failed to fetch booking details:",t),{success:!1,message:t.response?.data?.message||"Failed to fetch booking details",status:t.response?.status}}},async updateBooking(e,t){try{const a=await s.A.post(`/booking-service/bookings/${e}`,t);return{success:!0,data:a.data}}catch(a){return console.error("Failed to update booking:",a),{success:!1,message:a.response?.data?.message||"Failed to update booking",errors:a.response?.data?.errors||{},status:a.response?.status}}},async deleteBooking(e){try{const t=await s.A.delete(`/booking-service/bookings/${e}`);return{success:!0,data:t.data}}catch(t){return console.error("Failed to delete booking:",t),{success:!1,message:t.response?.data?.message||"Failed to delete booking",status:t.response?.status}}},async getDeviceTypes(){try{const e=await s.A.get("/booking-service/device-types");return{success:!0,data:e.data}}catch(e){return console.error("Failed to fetch device types:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch device types",status:e.response?.status}}},async getDepartments(){try{const e=await s.A.get("/booking-service/departments");return{success:!0,data:e.data}}catch(e){return console.error("Failed to fetch departments:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch departments",status:e.response?.status}}},async getStatistics(){try{const e=await s.A.get("/booking-service/statistics");return{success:!0,data:e.data}}catch(e){return console.error("Failed to fetch booking statistics:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch statistics",status:e.response?.status}}},async approveBooking(e,t=""){try{const a=await s.A.post(`/booking-service/bookings/${e}/approve`,{admin_notes:t});return{success:!0,data:a.data}}catch(a){return console.error("Failed to approve booking:",a),{success:!1,message:a.response?.data?.message||"Failed to approve booking",status:a.response?.status}}},async rejectBooking(e,t){try{const a=await s.A.post(`/booking-service/bookings/${e}/reject`,{admin_notes:t});return{success:!0,data:a.data}}catch(a){return console.error("Failed to reject booking:",a),{success:!1,message:a.response?.data?.message||"Failed to reject booking",errors:a.response?.data?.errors||{},status:a.response?.status}}},async testValidation(e){try{const t=await s.A.post("/booking-service/test-validation",e);return{success:!0,data:t.data}}catch(t){return console.error("Validation test failed:",t),{success:!1,message:t.response?.data?.message||"Validation test failed",errors:t.response?.data?.errors||{},status:t.response?.status}}},async debugDepartments(){try{const e=await s.A.get("/booking-service/debug-departments");return{success:!0,data:e.data}}catch(e){return console.error("Failed to fetch debug departments:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch debug departments",status:e.response?.status}}},async seedDepartments(){try{const e=await s.A.post("/booking-service/seed-departments");return{success:!0,data:e.data}}catch(e){return console.error("Failed to seed departments:",e),{success:!1,message:e.response?.data?.message||"Failed to seed departments",status:e.response?.status}}},async checkPendingRequests(){try{const e=await s.A.get("/booking-service/check-pending-requests");return{success:!0,data:e.data}}catch(e){return console.error("Failed to check pending requests:",e),{success:!1,message:e.response?.data?.message||"Failed to check pending requests",status:e.response?.status,has_pending_request:!1}}},async canSubmitNewRequest(){try{const e=await s.A.get("/booking-service/can-submit-new-request");return{success:!0,data:e.data.data||e.data,can_submit:e.data.can_submit,message:e.data.message,active_request:e.data.active_request||null,return_status_info:e.data.return_status_info||null}}catch(e){return console.error("Failed to check new request eligibility:",e),{success:!1,message:e.response?.data?.message||"Failed to check request eligibility",status:e.response?.status,can_submit:!1,active_request:null}}}};t.A=r},8998:function(e,t,a){a.d(t,{gg:function(){return r}});const s=!1,r={log:(...e)=>{},info:(...e)=>{},warn:(...e)=>{s&&console.warn(...e)},error:(...e)=>{console.error(...e)},debug:(...e)=>{if(s&&e.length>=2&&"string"===typeof e[0]&&"string"===typeof e[1]){const[t,a,s=null]=e,r={auth:"ðŸ”",api:"ðŸŒ",form:"ðŸ“",approval:"âœ…",file:"ðŸ“",image:"ðŸ–¼ï¸",role:"ðŸ‘¥",navigation:"ðŸ§­",state:"ðŸ“Š",validation:"âœ¨",signature:"âœï¸",upload:"â¬†ï¸",download:"â¬‡ï¸",cache:"ðŸ’¾",performance:"âš¡",error:"ðŸ’¥",success:"ðŸŽ‰",warning:"âš ï¸",info:"â„¹ï¸"};r[t];return void t.toUpperCase()}},time:e=>{s&&console.time(e)},timeEnd:e=>{s&&console.timeEnd(e)},group:e=>{s&&console.group(e)},groupEnd:()=>{s&&console.groupEnd()},table:e=>{s&&console.table(e)}}},9553:function(e,t,a){a.d(t,{WY:function(){return b},X0:function(){return g},getDefaultDashboard:function(){return m},gg:function(){return s},hasRouteAccess:function(){return u},isDashboardRoute:function(){return h},t_:function(){return f}});a(8111),a(2489),a(7588),a(1701),a(3579),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);const s={ADMIN:"admin",DIVISIONAL_DIRECTOR:"divisional_director",HEAD_OF_DEPARTMENT:"head_of_department",ICT_DIRECTOR:"ict_director",HEAD_OF_IT:"head_of_it",STAFF:"staff",ICT_OFFICER:"ict_officer",SECRETARY_ICT:"secretary_ict"},r={[s.ADMIN]:{routes:["/admin-dashboard","/admin/dashboard","/service-users","/admin/user-roles","/admin/departments","/admin/onboarding-reset"],dashboards:["admin-dashboard"],forms:[],userManagement:["service-users"],adminFeatures:["admin/user-roles","admin/departments","admin/onboarding-reset"]},[s.DIVISIONAL_DIRECTOR]:{routes:["/divisional-dashboard","/divisional-dashboard/combined-requests","/jeeva-access","/wellsoft-access","/internet-access","/both-service-form","/internal-access/list","/internal-access/details","/onboarding"],dashboards:["divisional-dashboard"],forms:["jeeva-access","wellsoft-access","internet-access","both-service-form"],userManagement:[],requestsManagement:["hod-dashboard/request-list","internal-access/list","internal-access/details"]},[s.HEAD_OF_DEPARTMENT]:{routes:["/hod-dashboard","/hod-dashboard/create-user","/hod-dashboard/request-list","/hod-dashboard/combined-requests","/hod-dashboard/divisional-recommendations","/jeeva-access","/wellsoft-access","/internet-access","/both-service-form","/internal-access/list","/internal-access/details","/onboarding"],dashboards:["hod-dashboard"],forms:["jeeva-access","wellsoft-access","internet-access","both-service-form"],userManagement:[],requestsManagement:["internal-access/list","internal-access/details"]},[s.ICT_DIRECTOR]:{routes:["/dict-dashboard","/dict-dashboard/combined-requests","/jeeva-access","/wellsoft-access","/internet-access","/both-service-form","/internal-access/list","/internal-access/details","/onboarding"],dashboards:["ict-director-dashboard"],forms:["jeeva-access","wellsoft-access","internet-access","both-service-form"],userManagement:[],requestsManagement:["dict-dashboard/combined-requests","internal-access/list","internal-access/details"]},[s.STAFF]:{routes:["/user-dashboard","/user-jeeva-form","/user-wellsoft-form","/user-internet-form","/user-combined-form","/booking-service","/onboarding"],dashboards:["user-dashboard"],forms:["user-jeeva-form","user-wellsoft-form","user-internet-form","user-combined-form","booking-service"],userManagement:[]},[s.ICT_OFFICER]:{routes:["/ict-dashboard","/ict-dashboard/access-requests","/ict-dashboard/access-service","/user-security-access/:id","/ict-approval/requests","/ict-approval/requests-simple","/ict-approval/requests-original","/ict-approval/request/:id","/user-security-access/:id","/jeeva-access","/wellsoft-access","/internet-access","/both-service-form","/both-service-form/:id","/hod-dashboard/debug","/debug/ict-requests","/debug/user-security-access-test","/debug/api-test","/onboarding"],dashboards:["ict-dashboard"],forms:["jeeva-access","wellsoft-access","internet-access","both-service-form"],userManagement:[],deviceManagement:["ict-approval/requests","ict-approval/request/:id","user-security-access/:id"],requestsManagement:["ict-dashboard/access-requests","user-security-access/:id"]},[s.SECRETARY_ICT]:{routes:["/user-dashboard","/secretary-approval/requests","/ict-approval/requests-simple","/ict-approval/requests-original","/ict-approval/request/:id","/booking-service","/request-status","/request-details","/onboarding"],dashboards:["secretary-device-dashboard","user-dashboard"],forms:[],userManagement:[],deviceManagement:["ict-approval/requests","ict-approval/request/:id"],requestsManagement:[]},[s.HEAD_OF_IT]:{routes:["/head_of_it-dashboard","/head_of_it-dashboard/combined-requests","/jeeva-access","/wellsoft-access","/internet-access","/both-service-form","/internal-access/list","/internal-access/details","/onboarding"],dashboards:["head_of_it-dashboard"],forms:["jeeva-access","wellsoft-access","internet-access","both-service-form"],userManagement:[],requestsManagement:["head_of_it-dashboard/combined-requests","internal-access/list","internal-access/details"]}},o={},n=["/","/login","/ict-policy","/terms-of-service"],i=["/onboarding"],c=["/settings"];function d(e){return o[e]||r[e]||null}function l(e,t={}){if(!e)return;const a=d(e)||{routes:[],dashboards:[],forms:[],userManagement:[],deviceManagement:[],requestsManagement:[]},s={...a,...t,routes:Array.from(new Set([...a.routes||[],...t.routes||[]])),dashboards:t.dashboards&&t.dashboards.length>0?t.dashboards:a.dashboards||[]};o[e]=s}function u(e,t){if(n.includes(t))return!0;if(i.includes(t)&&e!==s.ADMIN)return!0;if(c.includes(t)&&e)return!0;const a=d(e);return!!a&&a.routes.includes(t)}function g(e){const t=d(e);if(!t)return n;let a=[...n,...t.routes||[]];return e!==s.ADMIN&&(a=[...a,...i]),e&&(a=[...a,...c]),a}function m(e){const t=d(e);if(!t||!t.dashboards||!t.dashboards.length)return null;const a=t.dashboards[0];return p[a]||null}const p={"admin-dashboard":"/admin-dashboard","user-dashboard":"/user-dashboard","ict-director-dashboard":"/dict-dashboard","hod-dashboard":"/hod-dashboard","divisional-dashboard":"/divisional-dashboard","ict-dashboard":"/ict-dashboard","head_of_it-dashboard":"/head_of_it-dashboard","device-dashboard":"/ict-approval/requests","secretary-device-dashboard":"/secretary-approval/requests"};function h(e){return Object.values(p).includes(e)}function f(e){return Object.values(s).includes(e)}function b(e){if(!e||"object"!==typeof e)return;const t=e.role||e.role_name||e.primary_role;if(!t)return;if(r[t])return;const a=Array.isArray(e.permissions)?e.permissions:[],s=a.some(e=>["approve_device_bookings","view_device_bookings","view_booking_statistics","manage_device_inventory"].includes(e));l(t,s?{routes:["/ict-approval/requests","/ict-approval/request/:id","/booking-service","/request-status","/request-details","/onboarding"],dashboards:["device-dashboard"]}:{routes:["/user-dashboard","/user-combined-form","/booking-service","/request-status","/request-details","/onboarding"],dashboards:["user-dashboard"]})}},9750:function(e,t,a){a.d(t,{useSidebarStore:function(){return d}});var s=a(657),r=a(5796);const o="sidebar_state",n="sidebar_sections",i=(e,t)=>{try{return e?JSON.parse(e):t}catch(a){return console.warn("Failed to parse JSON from localStorage:",a),t}},c=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(a){return console.error("Failed to save to localStorage:",a),!1}},d=(0,s.nY)("sidebar",()=>{const e=(0,r.KR)(!1),t=(0,r.KR)(!1),a=(0,r.KR)(!1),s=(0,r.KR)({dashboard:!0,userManagement:!0,requestsManagement:!0,deviceManagement:!0,settings:!0}),d=(0,r.EW)(()=>!e.value),l=(0,r.EW)(()=>a.value?e.value?"0px":"280px":e.value?"64px":"288px"),u=(0,r.EW)(()=>({"w-16":e.value&&!a.value,"w-72":!e.value&&!a.value,"w-0":e.value&&a.value,"w-70":!e.value&&a.value,"transition-all":!0,"duration-300":!0,"ease-in-out":!0})),g=(0,r.EW)(()=>({"ml-16":e.value&&!a.value,"ml-72":!e.value&&!a.value,"ml-0":a.value,"transition-all":!0,"duration-300":!0,"ease-in-out":!0})),m=()=>{if(t.value)return;const a=localStorage.getItem(o);if(null!==a){const t=i(a,{isCollapsed:!1});e.value=t.isCollapsed||!1,e.value}const r=localStorage.getItem(n);if(null!==r){const e=i(r,s.value);s.value={...s.value,...e},s.value}p(),h(),t.value=!0},p=()=>{const t=()=>{const t=a.value;a.value=window.innerWidth<768,!a.value||e.value||t||f(!0)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},h=()=>{(0,r.wB)(()=>e.value,e=>{c(o,{isCollapsed:e})},{immediate:!1}),(0,r.wB)(()=>s.value,e=>{c(n,e)},{deep:!0,immediate:!1})},f=t=>{e.value=t},b=()=>{const t=!e.value;e.value,e.value=t},v=()=>{e.value=!1},y=()=>{e.value=!0},_=e=>{Object.prototype.hasOwnProperty.call(s.value,e)?(s.value[e]=!s.value[e],s.value[e]):console.warn(`Section ${e} not found in expandedSections`)},w=(e,t)=>{Object.prototype.hasOwnProperty.call(s.value,e)?s.value[e]=t:console.warn(`Section ${e} not found in expandedSections`)},A=()=>{e.value=!1,s.value={dashboard:!0,userManagement:!0,requestsManagement:!0,deviceManagement:!0,settings:!0}},q=()=>{localStorage.removeItem(o),localStorage.removeItem(n),A()},k=()=>({isCollapsed:e.value,isExpanded:d.value,isInitialized:t.value,isMobile:a.value,expandedSections:s.value,sidebarWidth:l.value,storageData:{sidebarState:localStorage.getItem(o),sidebarSections:localStorage.getItem(n)}});return{isCollapsed:e,isInitialized:t,isMobile:a,expandedSections:s,isExpanded:d,sidebarWidth:l,sidebarClasses:u,mainContentClasses:g,initializeSidebar:m,detectMobile:p,setCollapsed:f,toggle:b,expand:v,collapse:y,toggleSection:_,setSectionExpanded:w,resetToDefaults:A,clearStorage:q,getDebugInfo:k}})},9871:function(e,t,a){a.d(t,{i3:function(){return s},vQ:function(){return r}});const s={BASE_URL:"http://127.0.0.1:8000/api".startsWith("/")?"http://localhost/api":"http://127.0.0.1:8000/api",TIMEOUT:parseInt("30000")||1e4};const r={NAME:"Mnh Access Management System",VERSION:"1.0.0",DEBUG:!1,LOG_LEVEL:"debug"},o={IS_DEVELOPMENT:!1,IS_PRODUCTION:!0},n=()=>{const e=["VUE_APP_API_URL"],t=e.filter(e=>!{NODE_ENV:"production",VUE_APP_API_TIMEOUT:"30000",VUE_APP_API_URL:"http://127.0.0.1:8000/api",VUE_APP_DEBUG:"false",VUE_APP_LOG_LEVEL:"debug",VUE_APP_NAME:"Mnh Access Management System",VUE_APP_VERSION:"1.0.0",BASE_URL:"/"}[e]);return!(t.length>0)||(console.error("âŒ Missing required environment variables:",t),console.error("Please check your .env file and ensure all required variables are set."),!1)};"undefined"!==typeof window&&r.DEBUG&&o.IS_DEVELOPMENT&&n()}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var n=1/0;for(l=0;l<e.length;l++){s=e[l][0],r=e[l][1],o=e[l][2];for(var i=!0,c=0;c<s.length;c++)(!1&o||n>=o)&&Object.keys(a.O).every(function(e){return a.O[e](s[c])})?s.splice(c--,1):(i=!1,o<n&&(n=o));if(i){e.splice(l--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[s,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,s){return a.f[s](e,t),t},[]))}}(),function(){a.u=function(e){return"js/"+({385:"divisional",2461:"head-of-it",5531:"dict",6156:"hod",7933:"auth"}[e]||e)+"."+{1:"8f0307ac",10:"70ba7f02",257:"92ac701e",385:"3d15b606",590:"63167ace",637:"0af976dd",698:"bcac0721",981:"138c17ed",1075:"e0df60f3",1256:"493b79c2",1815:"b5295eab",1819:"b98312bc",2175:"0984f02c",2226:"3bc9cccb",2273:"1b81cdd7",2461:"9e4badc3",2869:"6c7f5cf8",2993:"fd3e4758",3163:"ad8516ff",3191:"2f0a2db4",3631:"a3ede33b",3679:"cf966820",3890:"e127e89c",4466:"65a982fd",4710:"473e5975",5389:"3dd2b987",5493:"0fa73347",5498:"1bee5798",5531:"80c57eec",5830:"d74d6721",6094:"f8a54938",6156:"9092d8fa",6530:"5f5e3596",6684:"26bcad1d",6700:"8d4810dc",6933:"14175fa7",7253:"9cdc2d24",7338:"150cafdb",7418:"0a7d3623",7439:"706a9c18",7802:"c15aa293",7933:"bed77c11",7936:"a9c29ffa",8138:"9d4c97f6",8158:"a39629d9",8201:"e49d7e22",8406:"70c709df",8428:"ceb6a13a",8722:"fa322917",8781:"fe67860e",8958:"e9c27e8f",8966:"6ba74cee",9189:"2d59d404",9332:"b376c541",9444:"5696953c",9567:"73fae515",9609:"b959065b"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+({385:"divisional",624:"public",2461:"head-of-it",5531:"dict",6156:"hod",7933:"auth"}[e]||e)+"."+{1:"bb3a3945",10:"1b2c31ca",385:"87d9fcc9",590:"534f42a9",624:"d393d62d",637:"d07a027e",698:"2db36e7d",1256:"cd0d9a23",1815:"c92fc15c",1819:"482cf3d0",2273:"2aa82152",2461:"ebe4f4a8",2869:"3ca0e8f7",2993:"11bddbfe",3163:"662a3dde",3191:"908edacf",3631:"11c75df0",3679:"0a4a8bcc",3890:"02306915",5531:"2034ee26",6156:"e205f32a",6530:"f310d5c0",6684:"0f985e1a",6700:"77eedd5a",7338:"f6ef4e50",7418:"c8ccda6d",7439:"2d4d6cb8",7802:"cc0b149d",7933:"c1d1bbe7",7936:"8a74c950",8158:"1f716fb5",8201:"482cf3d0",8406:"5d7de1cf",8428:"ad537d43",8722:"e81dd4a8",8781:"b4f21bd1",8958:"fee80800",9332:"f45880bb",9444:"2eecd5b6",9609:"154cea06"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";a.l=function(s,r,o,n){if(e[s])e[s].push(r);else{var i,c;if(void 0!==o)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+o){i=u;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=s),e[s]=[r];var g=function(t,a){i.onerror=i.onload=null,clearTimeout(m);var r=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(function(e){return e(a)}),t)return t(a)},m=setTimeout(g.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=g.bind(null,i.onerror),i.onload=g.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,s,r,o){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",a.nc&&(n.nonce=a.nc);var i=function(a){if(n.onerror=n.onload=null,"load"===a.type)r();else{var s=a&&a.type,i=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,n.parentNode&&n.parentNode.removeChild(n),o(c)}};return n.onerror=n.onload=i,n.href=t,s?s.parentNode.insertBefore(n,s.nextSibling):document.head.appendChild(n),n},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var r=a[s],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){r=n[s],o=r.getAttribute("data-href");if(o===e||o===t)return r}},s=function(s){return new Promise(function(r,o){var n=a.miniCssF(s),i=a.p+n;if(t(n,i))return r();e(s,i,null,r,o)})},r={3524:0};a.f.miniCss=function(e,t){var a={1:1,10:1,385:1,590:1,624:1,637:1,698:1,1256:1,1815:1,1819:1,2273:1,2461:1,2869:1,2993:1,3163:1,3191:1,3631:1,3679:1,3890:1,5531:1,6156:1,6530:1,6684:1,6700:1,7338:1,7418:1,7439:1,7802:1,7933:1,7936:1,8158:1,8201:1,8406:1,8428:1,8722:1,8781:1,8958:1,9332:1,9444:1,9609:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=s(e).then(function(){r[e]=0},function(t){throw delete r[e],t}))}}}(),function(){var e={3524:0};a.f.j=function(t,s){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else if(624!=t){var o=new Promise(function(a,s){r=e[t]=[a,s]});s.push(r[2]=o);var n=a.p+a.u(t),i=new Error,c=function(s){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",i.name="ChunkLoadError",i.type=o,i.request=n,r[1](i)}};a.l(n,c,"chunk-"+t,t)}else e[t]=0},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,n=s[0],i=s[1],c=s[2],d=0;if(n.some(function(t){return 0!==e[t]})){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var l=c(a)}for(t&&t(s);d<n.length;d++)o=n[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],function(){return a(4666)});s=a.O(s)})();
//# sourceMappingURL=app.44e2df90.js.map