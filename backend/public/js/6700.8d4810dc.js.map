{"version":3,"file":"js/6700.8d4810dc.js","mappings":"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","sources":["webpack://frontend/./src/services/authService.js","webpack://frontend/./src/components/views/UserSecurityAccess.vue","webpack://frontend/./src/components/views/UserSecurityAccess.vue?a748","webpack://frontend/./src/services/ictOfficerService.js"],"sourcesContent":["import axios from 'axios'\n\nconst API_BASE_URL = process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\n\n// Create axios instance with default config\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: parseInt(process.env.VUE_APP_API_TIMEOUT) || 10000,\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  }\n})\n\n// Add auth token to requests\napiClient.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('auth_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Handle response errors\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const status = error.response?.status\n    const method = (error.config?.method || '').toString().toLowerCase()\n    const url = (error.config?.url || '').toString()\n\n    if (status === 401) {\n      // IMPORTANT: Do NOT auto-redirect on login failures, so the login\n      // page can display \"Invalid email or password\" in the shared error banner.\n      const isLoginRequest = method === 'post' && url.includes('/login')\n\n      if (!isLoginRequest) {\n        // Token expired or invalid on authenticated routes\n        localStorage.removeItem('auth_token')\n        localStorage.removeItem('user_data')\n        localStorage.removeItem('session_data')\n        window.location.href = '/login'\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nexport const authService = {\n  /**\n   * Login user with email and password\n   * @param {Object} credentials - { email, password }\n   * @returns {Promise<Object>} - Login response\n   */\n  async login(credentials) {\n    try {\n      const response = await apiClient.post('/login', credentials)\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Login failed',\n        errors: error.response?.data?.errors || {}\n      }\n    }\n  },\n\n  /**\n   * Logout current user\n   * @returns {Promise<Object>} - Logout response\n   */\n  async logout() {\n    try {\n      const response = await apiClient.post('/logout')\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      // Even if logout API fails, we should clear local state\n      return {\n        success: true,\n        message: 'Logged out locally (API call failed)'\n      }\n    }\n  },\n\n  /**\n   * Logout from all sessions\n   * @returns {Promise<Object>} - Logout all response\n   */\n  async logoutAll() {\n    try {\n      const response = await apiClient.post('/logout-all')\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Logout all failed'\n      }\n    }\n  },\n\n  /**\n   * Get current user data\n   * @returns {Promise<Object>} - User data response\n   */\n  async getCurrentUser() {\n    try {\n      const response = await apiClient.get('/current-user')\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to get user data',\n        status: error.response?.status\n      }\n    }\n  },\n\n  /**\n   * Get role-based redirect URL\n   * @returns {Promise<Object>} - Redirect URL response\n   */\n  async getRoleBasedRedirect() {\n    try {\n      const response = await apiClient.get('/role-redirect')\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to get redirect URL',\n        status: error.response?.status\n      }\n    }\n  },\n\n  /**\n   * Get active sessions\n   * @returns {Promise<Object>} - Active sessions response\n   */\n  async getActiveSessions() {\n    try {\n      const response = await apiClient.get('/active-sessions')\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to get active sessions'\n      }\n    }\n  },\n\n  /**\n   * Revoke a specific session\n   * @param {number} tokenId - Token ID to revoke\n   * @returns {Promise<Object>} - Revoke session response\n   */\n  async revokeSession(tokenId) {\n    try {\n      const response = await apiClient.post('/revoke-session', {\n        token_id: tokenId\n      })\n      return {\n        success: true,\n        data: response.data\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to revoke session'\n      }\n    }\n  },\n\n  /**\n   * Change password for the currently authenticated user\n   * @param {{ current: string, new: string, confirm: string }} payload\n   * @returns {Promise<Object>} - Change password response\n   */\n  async changePassword(payload) {\n    try {\n      const response = await apiClient.post('/change-password', {\n        current_password: payload.current,\n        password: payload.new,\n        password_confirmation: payload.confirm\n      })\n      return {\n        success: true,\n        data: response.data,\n        message: response.data?.message || 'Password changed successfully.'\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to change password.',\n        errors: error.response?.data?.errors || {}\n      }\n    }\n  },\n\n  /**\n   * Request password reset OTP by phone (public, no auth)\n   * @param {string} phone\n   * @returns {Promise<Object>}\n   */\n  async requestPasswordResetByPhone(phone) {\n    try {\n      const response = await apiClient.post('/password-reset/request-by-phone', { phone })\n      return {\n        success: true,\n        data: response.data,\n        message: response.data?.message\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to send OTP.',\n        errors: error.response?.data?.errors || {}\n      }\n    }\n  },\n\n  /**\n   * Verify password reset OTP (phone + otp)\n   * @param {{ phone: string, otp: string }} payload\n   * @returns {Promise<Object>}\n   */\n  async verifyPasswordResetOtp(payload) {\n    try {\n      const response = await apiClient.post('/password-reset/verify-otp', {\n        phone: payload.phone,\n        otp: payload.otp\n      })\n      return {\n        success: true,\n        data: response.data,\n        message: response.data?.message\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to verify OTP.',\n        errors: error.response?.data?.errors || {}\n      }\n    }\n  },\n\n  /**\n   * Reset password using phone + OTP, returns { user, token }\n   * @param {{ phone: string, otp: string, password: string, password_confirmation: string }} payload\n   * @returns {Promise<Object>}\n   */\n  async resetPasswordWithOtp(payload) {\n    try {\n      const response = await apiClient.post('/password-reset/reset-with-otp', {\n        phone: payload.phone,\n        otp: payload.otp,\n        password: payload.password,\n        password_confirmation: payload.password_confirmation\n      })\n      return {\n        success: true,\n        data: response.data?.data,\n        message: response.data?.message\n      }\n    } catch (error) {\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Failed to reset password.',\n        errors: error.response?.data?.errors || {}\n      }\n    }\n  }\n}\n\nexport default authService\n","<template>\n  <div class=\"flex flex-col h-screen\">\n    <!-- Top Right Success Notification -->\n    <transition name=\"slide-down\">\n      <div\n        v-if=\"showSuccessNotification\"\n        class=\"fixed top-4 right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-xl max-w-sm\"\n        style=\"z-index: 9999\"\n      >\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center\">\n            <i class=\"fas fa-check-circle text-lg mr-3\"></i>\n            <div>\n              <h3 class=\"font-semibold text-base\">Access Granted Successfully!</h3>\n              <p class=\"text-green-100 text-sm\">\n                Your access request has been processed and access has been granted.\n              </p>\n            </div>\n          </div>\n          <button\n            @click=\"hideSuccessNotification\"\n            class=\"text-white hover:text-green-200 transition-colors ml-3 flex-shrink-0\"\n          >\n            <i class=\"fas fa-times text-sm\"></i>\n          </button>\n        </div>\n      </div>\n    </transition>\n\n    <Header />\n    <div class=\"flex flex-1 overflow-hidden\">\n      <ModernSidebar />\n      <main\n        class=\"flex-1 p-6 bg-gradient-to-br from-blue-900 via-blue-800 to-teal-900 overflow-y-auto relative\"\n      >\n        <!-- Medical Background Pattern -->\n        <div class=\"absolute inset-0 overflow-hidden\">\n          <!-- Medical Cross Pattern -->\n          <div class=\"absolute inset-0 opacity-5\">\n            <div class=\"grid grid-cols-12 gap-8 h-full transform rotate-45\">\n              <div\n                v-for=\"i in 48\"\n                :key=\"i\"\n                class=\"bg-white rounded-full w-2 h-2 animate-pulse\"\n                :style=\"{ animationDelay: i * 0.1 + 's' }\"\n              ></div>\n            </div>\n          </div>\n          <!-- Floating medical icons -->\n          <div class=\"absolute inset-0\">\n            <div\n              v-for=\"i in 15\"\n              :key=\"i\"\n              class=\"absolute text-white opacity-10 animate-float\"\n              :style=\"{\n                left: Math.random() * 100 + '%',\n                top: Math.random() * 100 + '%',\n                animationDelay: Math.random() * 3 + 's',\n                animationDuration: Math.random() * 3 + 2 + 's',\n                fontSize: Math.random() * 20 + 10 + 'px'\n              }\"\n            >\n              <i\n                :class=\"[\n                  'fas',\n                  ['fa-laptop-code', 'fa-server', 'fa-network-wired', 'fa-shield-alt', 'fa-cogs'][\n                    Math.floor(Math.random() * 5)\n                  ]\n                ]\"\n              ></i>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"max-w-full mx-auto relative z-10\">\n          <!-- Header Section -->\n          <div class=\"medical-glass-card rounded-t-3xl p-4 mb-0 border-b border-blue-300/30\">\n            <div class=\"flex items-center justify-between\">\n              <button\n                @click=\"goBack\"\n                class=\"flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all duration-200 backdrop-blur-sm\"\n              >\n                <i class=\"fas fa-arrow-left mr-2\"></i>\n                Back\n              </button>\n              <div class=\"text-center\">\n                <h1 class=\"text-xl font-bold text-blue-100 mb-1\">User Security Access</h1>\n                <p class=\"text-blue-200 text-sm\">Request ID: {{ requestId }}</p>\n              </div>\n              <div class=\"text-right\">\n                <div class=\"flex items-center\">\n                  <i class=\"fas fa-circle text-green-300 text-xs mr-2\"></i>\n                  <span class=\"text-white text-sm font-medium\">{{ currentStatus }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Main Content -->\n          <div class=\"medical-glass-card rounded-b-3xl overflow-hidden\">\n            <div class=\"p-6\">\n              <!-- Loading State -->\n              <div v-if=\"loading\" class=\"flex items-center justify-center py-16\">\n                <div class=\"text-center\">\n                  <div\n                    class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-300 mx-auto mb-4\"\n                  ></div>\n                  <p class=\"text-blue-200\">Loading access request details...</p>\n                </div>\n              </div>\n\n              <!-- Error State -->\n              <div v-else-if=\"error\" class=\"p-8 text-center\">\n                <div class=\"text-red-400 mb-4\">\n                  <i class=\"fas fa-exclamation-triangle text-3xl\"></i>\n                </div>\n                <h3 class=\"text-xl font-semibold text-white mb-2\">Error Loading Request</h3>\n                <p class=\"text-blue-200 mb-4\">{{ error }}</p>\n                <button\n                  @click=\"loadRequestData\"\n                  class=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  <i class=\"fas fa-redo mr-2\"></i>\n                  Retry\n                </button>\n              </div>\n\n              <!-- Debug Information (remove in production) -->\n              <div\n                v-else-if=\"requestData && $route.query.debug\"\n                class=\"p-4 bg-blue-900/30 border border-blue-500/30 rounded-lg mb-6\"\n              >\n                <details class=\"text-sm\">\n                  <summary class=\"font-semibold cursor-pointer text-blue-200\">\n                    Debug: Raw Request Data\n                  </summary>\n                  <pre class=\"mt-2 p-2 bg-gray-800 text-green-400 rounded text-xs overflow-auto\">{{\n                    JSON.stringify(requestData, null, 2)\n                  }}</pre>\n                </details>\n              </div>\n\n              <!-- Request Content -->\n              <div v-else-if=\"requestData\">\n                <!-- Requirements Section -->\n                <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n                  <!-- Left Column: Basic Info -->\n                  <div class=\"space-y-6\">\n                    <div\n                      class=\"medical-card bg-gradient-to-r from-blue-600/25 to-cyan-600/25 border-2 border-blue-400/40 rounded-xl p-6\"\n                    >\n                      <h3 class=\"text-lg font-semibold text-white mb-4 flex items-center\">\n                        <i class=\"fas fa-user mr-2\"></i>\n                        Requester Information\n                      </h3>\n                      <div class=\"space-y-3\">\n                        <div class=\"flex justify-between\">\n                          <span class=\"text-blue-200\">PF Number:</span>\n                          <span class=\"font-semibold text-white\">{{\n                            requestData.shared?.pfNumber ||\n                            requestData.pf_number ||\n                            requestData.pfNumber ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                        <div class=\"flex justify-between\">\n                          <span class=\"text-blue-200\">Staff Name:</span>\n                          <span class=\"font-semibold text-white\">{{\n                            requestData.shared?.staffName ||\n                            requestData.staff_name ||\n                            requestData.staffName ||\n                            requestData.name ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                        <div class=\"flex justify-between\">\n                          <span class=\"text-blue-200\">Department:</span>\n                          <span class=\"font-semibold text-white\">{{\n                            requestData.shared?.department ||\n                            requestData.department ||\n                            requestData.dept ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                        <div class=\"flex justify-between\">\n                          <span class=\"text-blue-200\">Contact:</span>\n                          <span class=\"font-semibold text-white\">{{\n                            requestData.shared?.phone ||\n                            requestData.phone ||\n                            requestData.contact ||\n                            'N/A'\n                          }}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <!-- Right Column: Status -->\n                  <div class=\"space-y-6\">\n                    <div\n                      class=\"medical-card bg-gradient-to-r from-green-600/25 to-emerald-600/25 border-2 border-green-400/40 rounded-xl p-6\"\n                    >\n                      <h3 class=\"text-lg font-semibold text-white mb-4 flex items-center\">\n                        <i class=\"fas fa-check-circle mr-2\"></i>\n                        Current Status\n                      </h3>\n                      <div class=\"space-y-3\">\n                        <div class=\"flex justify-between\">\n                          <span class=\"text-green-200\">Status:</span>\n                          <span\n                            class=\"px-3 py-1 bg-green-600/30 text-green-200 rounded-full text-sm font-medium border border-green-400/40\"\n                          >\n                            {{ getStatusLabel(requestData.status) }}\n                          </span>\n                        </div>\n                        <div class=\"flex justify-between\">\n                          <span class=\"text-green-200\">Progress:</span>\n                          <span class=\"font-semibold text-white\">{{ getProgress() }}</span>\n                        </div>\n                        <div class=\"flex justify-between\">\n                          <span class=\"text-green-200\">Last Updated:</span>\n                          <span class=\"font-semibold text-white\">{{\n                            formatDate(requestData.updated_at)\n                          }}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Modules Selected Section -->\n                <div class=\"mb-8\">\n                  <h3 class=\"text-xl font-semibold text-white mb-6 flex items-center\">\n                    <i class=\"fas fa-th-large mr-2 text-blue-300\"></i>\n                    Modules Selected\n                  </h3>\n                  <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                    <!-- Wellsoft Modules -->\n                    <div\n                      class=\"medical-card bg-gradient-to-r from-blue-600/25 to-blue-600/25 border-2 border-blue-400/40 rounded-xl p-6\"\n                    >\n                      <h4 class=\"text-lg font-semibold text-white mb-4 flex items-center\">\n                        <i class=\"fas fa-laptop mr-2\"></i>\n                        Wellsoft Modules\n                      </h4>\n                      <div v-if=\"wellsoftModules.length > 0\" class=\"space-y-2\">\n                        <div\n                          v-for=\"module in wellsoftModules\"\n                          :key=\"module\"\n                          class=\"flex items-center text-sm text-blue-200\"\n                        >\n                          <i class=\"fas fa-check text-blue-400 mr-2 text-xs\"></i>\n                          {{ module }}\n                        </div>\n                      </div>\n                      <p v-else class=\"text-blue-300 italic text-sm\">\n                        No Wellsoft modules requested\n                      </p>\n                    </div>\n\n                    <!-- Jeeva Modules -->\n                    <div\n                      class=\"medical-card bg-gradient-to-r from-cyan-600/25 to-cyan-600/25 border-2 border-cyan-400/40 rounded-xl p-6\"\n                    >\n                      <h4 class=\"text-lg font-semibold text-white mb-4 flex items-center\">\n                        <i class=\"fas fa-box mr-2\"></i>\n                        Jeeva Modules\n                      </h4>\n                      <div v-if=\"jeevaModules.length > 0\" class=\"space-y-2\">\n                        <div\n                          v-for=\"module in jeevaModules\"\n                          :key=\"module\"\n                          class=\"flex items-center text-sm text-cyan-200\"\n                        >\n                          <i class=\"fas fa-check text-cyan-400 mr-2 text-xs\"></i>\n                          {{ module }}\n                        </div>\n                      </div>\n                      <p v-else class=\"text-cyan-300 italic text-sm\">No Jeeva modules requested</p>\n                    </div>\n\n                    <!-- Internet Purposes -->\n                    <div\n                      class=\"medical-card bg-gradient-to-r from-green-600/25 to-green-600/25 border-2 border-green-400/40 rounded-xl p-6\"\n                    >\n                      <h4 class=\"text-lg font-semibold text-white mb-4 flex items-center\">\n                        <i class=\"fas fa-globe mr-2\"></i>\n                        Internet Purposes\n                      </h4>\n                      <div v-if=\"internetPurposes.length > 0\" class=\"space-y-2\">\n                        <div\n                          v-for=\"(purpose, index) in internetPurposes\"\n                          :key=\"index\"\n                          class=\"flex items-center text-sm text-green-200\"\n                        >\n                          <span\n                            class=\"w-4 h-4 bg-green-600/30 text-green-200 rounded-full flex items-center justify-center text-xs mr-2 border border-green-400/40\"\n                          >\n                            {{ index + 1 }}\n                          </span>\n                          {{ purpose }}\n                        </div>\n                      </div>\n                      <p v-else class=\"text-green-300 italic text-sm\">\n                        No internet purposes specified\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Comments Section - Side by Side -->\n                <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n                  <!-- Head of Department Comments (Left) -->\n                  <div v-if=\"hodComments\" class=\"flex flex-col\">\n                    <h3 class=\"text-xl font-semibold text-white mb-4 flex items-center\">\n                      <i class=\"fas fa-comment mr-2 text-yellow-400\"></i>\n                      Head of Department Comments\n                    </h3>\n                    <div\n                      class=\"flex-1 px-4 py-3 bg-blue-900/30 border border-blue-400/40 rounded-lg text-white leading-relaxed overflow-y-auto\"\n                      style=\"min-height: 120px; max-height: 120px\"\n                    >\n                      {{ hodComments }}\n                    </div>\n                  </div>\n\n                  <!-- ICT Officer Comments (Right) -->\n                  <div v-if=\"isIctOfficer\" class=\"flex flex-col\">\n                    <h3 class=\"text-xl font-semibold text-white mb-4 flex items-center\">\n                      <i class=\"fas fa-comment-dots mr-2 text-blue-300\"></i>\n                      ICT Officer Comments\n                    </h3>\n                    <textarea\n                      v-model=\"ictOfficerComments\"\n                      rows=\"4\"\n                      class=\"flex-1 px-4 py-3 bg-blue-900/30 border border-blue-400/40 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 resize-none text-white placeholder-blue-300\"\n                      placeholder=\"Add your implementation comments or notes here...\"\n                      :readonly=\"!isIctOfficer || isReadOnly\"\n                      style=\"min-height: 120px; max-height: 120px\"\n                    ></textarea>\n                  </div>\n                </div>\n\n                <!-- Action Button -->\n                <div v-if=\"isIctOfficer && !isReadOnly\" class=\"flex justify-center\">\n                  <button\n                    @click=\"grantAccessNow\"\n                    :disabled=\"granting\"\n                    class=\"px-8 py-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold text-lg rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center disabled:opacity-50 disabled:cursor-not-allowed border border-blue-400/40\"\n                  >\n                    <i v-if=\"granting\" class=\"fas fa-spinner fa-spin mr-3\"></i>\n                    <i v-else class=\"fas fa-key mr-3\"></i>\n                    {{ granting ? 'Granting Access...' : 'Grant Access Now' }}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n\n    <!-- Success Toast -->\n    <transition name=\"fade\">\n      <div\n        v-if=\"toast.show\"\n        class=\"fixed bottom-4 right-4 bg-green-600 text-white rounded-lg shadow-lg px-6 py-4 z-50\"\n      >\n        <div class=\"flex items-center\">\n          <i class=\"fas fa-check-circle mr-3\"></i>\n          {{ toast.message }}\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import AppHeader from '@/components/AppHeader.vue'\n  import ModernSidebar from '@/components/ModernSidebar.vue'\n  import combinedAccessService from '@/services/combinedAccessService.js'\n  import ictOfficerService from '@/services/ictOfficerService.js'\n  import authService from '@/services/authService.js'\n\n  export default {\n    name: 'UserSecurityAccess',\n    components: {\n      Header: AppHeader,\n      ModernSidebar\n    },\n    data() {\n      return {\n        requestData: null,\n        loading: true,\n        error: null,\n        granting: false,\n        ictOfficerComments: '',\n        showSuccessNotification: false,\n        dataRefreshTimestamp: Date.now(), // Force reactivity\n        toast: {\n          show: false,\n          message: ''\n        }\n      }\n    },\n    computed: {\n      requestId() {\n        return this.$route.params.id\n      },\n      isIctOfficer() {\n        // Check if current user is ICT Officer and has access to grant\n        const role = this.$route.query.role\n        const currentUser = authService.getCurrentUser()\n        return role === 'ict_officer' || (currentUser && currentUser.role === 'ict_officer')\n      },\n      isReadOnly() {\n        // Show read-only mode for requesters or when access is already granted\n        const isAccessGranted =\n          this.requestData?.status === 'implemented' || this.requestData?.status === 'approved'\n        return !this.isIctOfficer || isAccessGranted\n      },\n      currentStatus() {\n        // Use refresh timestamp to force reactivity\n        this.dataRefreshTimestamp // Access timestamp to make this reactive\n\n        if (!this.requestData) return 'Loading...'\n\n        console.log(' DEBUG currentStatus - Refresh timestamp:', this.dataRefreshTimestamp)\n        console.log(' DEBUG currentStatus - workflow_stage:', this.requestData.workflow_stage)\n        console.log(' DEBUG currentStatus - requestData.status:', this.requestData.status)\n        console.log(\n          ' DEBUG currentStatus - ict_officer_status:',\n          this.requestData.ict_officer_status\n        )\n\n        // Use workflow_stage if available, otherwise use getStatusLabel with null to force proper detection\n        if (this.requestData.workflow_stage) {\n          console.log(\n            ' DEBUG currentStatus - Using workflow_stage:',\n            this.requestData.workflow_stage\n          )\n          return this.requestData.workflow_stage\n        }\n\n        const calculatedStatus = this.getStatusLabel(null) // Pass null to force proper detection\n        console.log(' DEBUG currentStatus - Calculated status:', calculatedStatus)\n        return calculatedStatus\n      },\n      wellsoftModules() {\n        if (!this.requestData) return []\n\n        // Use the correct field name from API response\n        const modules =\n          this.requestData.wellsoft_modules_selected ||\n          this.requestData.wellsoft_modules ||\n          this.requestData.wellsoft ||\n          this.requestData.wellsoftModules ||\n          []\n\n        // Handle both array and JSON string formats\n        if (typeof modules === 'string') {\n          try {\n            return JSON.parse(modules).filter((m) => m && m.trim())\n          } catch {\n            return modules\n              .split(',')\n              .map((m) => m.trim())\n              .filter((m) => m)\n          }\n        }\n\n        return Array.isArray(modules) ? modules.filter((m) => m && m.trim()) : []\n      },\n      jeevaModules() {\n        if (!this.requestData) return []\n\n        // Use the correct field name from API response\n        const modules =\n          this.requestData.jeeva_modules_selected ||\n          this.requestData.jeeva_modules ||\n          this.requestData.jeeva ||\n          this.requestData.jeevaModules ||\n          []\n\n        // Handle both array and JSON string formats\n        if (typeof modules === 'string') {\n          try {\n            return JSON.parse(modules).filter((m) => m && m.trim())\n          } catch {\n            return modules\n              .split(',')\n              .map((m) => m.trim())\n              .filter((m) => m)\n          }\n        }\n\n        return Array.isArray(modules) ? modules.filter((m) => m && m.trim()) : []\n      },\n      internetPurposes() {\n        if (!this.requestData) return []\n\n        // Try different possible field names\n        const purposes =\n          this.requestData.internet_purposes ||\n          this.requestData.internet ||\n          this.requestData.internetPurposes ||\n          []\n\n        if (!purposes) return []\n\n        // Handle array format\n        if (Array.isArray(purposes)) {\n          return purposes.filter((p) => p && p.trim && p.trim())\n        }\n\n        // Handle JSON string format\n        if (typeof purposes === 'string') {\n          try {\n            const parsed = JSON.parse(purposes)\n            if (Array.isArray(parsed)) {\n              return parsed.filter((p) => p && p.trim && p.trim())\n            }\n            return [purposes] // Single purpose as string\n          } catch {\n            // Split by comma if it looks like a comma-separated list\n            return purposes\n              .split(',')\n              .map((p) => p.trim())\n              .filter((p) => p)\n          }\n        }\n\n        return []\n      },\n      hodComments() {\n        // Try multiple possible locations for HOD comments\n        return (\n          this.requestData?.shared?.hod_comments ||\n          this.requestData?.hod_comments ||\n          this.requestData?.approvals?.hod?.comments ||\n          this.requestData?.approval_workflow?.hod?.comments ||\n          'No comments provided'\n        )\n      }\n    },\n    async mounted() {\n      await this.loadRequestData()\n\n      // Show success notification for read-only users (requesters viewing granted access)\n      this.checkAndShowSuccessNotification()\n    },\n    methods: {\n      async loadRequestData() {\n        this.loading = true\n        this.error = null\n\n        try {\n          console.log('Loading request data for ID:', this.requestId)\n\n          // Try to load from combined access service first\n          let response = await combinedAccessService.getRequestById(this.requestId)\n\n          if (response.success && response.data) {\n            this.requestData = response.data\n            console.log('Request data loaded from combinedAccessService:', this.requestData)\n            console.log(' DEBUG - Status fields:', {\n              status: this.requestData.status,\n              ict_officer_status: this.requestData.ict_officer_status,\n              ict_officer_implemented_at: this.requestData.ict_officer_implemented_at,\n              head_it_status: this.requestData.head_it_status,\n              calculated_status: this.getStatusLabel(this.requestData.status)\n            })\n          } else {\n            console.warn('Failed to load from combinedAccessService, trying ICT Officer service...')\n\n            // Fallback: Try ICT Officer service\n            const ictResponse = await ictOfficerService.getAccessRequestById(this.requestId)\n            if (ictResponse.success && ictResponse.data) {\n              this.requestData = ictResponse.data\n              console.log('Request data loaded from ictOfficerService:', this.requestData)\n              console.log(' DEBUG - ICT Service Status fields:', {\n                status: this.requestData.status,\n                ict_officer_status: this.requestData.ict_officer_status,\n                ict_officer_implemented_at: this.requestData.ict_officer_implemented_at,\n                head_it_status: this.requestData.head_it_status,\n                calculated_status: this.getStatusLabel(this.requestData.status)\n              })\n            } else {\n              console.warn('Both services failed, using mock data for testing...')\n              // Final fallback: Use mock data for testing purposes\n              this.requestData = this.generateMockData()\n              console.log('Using mock data:', this.requestData)\n            }\n          }\n\n          // Request data loaded successfully\n        } catch (error) {\n          console.error('Error loading request data:', error)\n          this.error = error.message || 'Failed to load request data'\n        } finally {\n          this.loading = false\n        }\n      },\n\n      async grantAccessNow() {\n        if (this.granting) return\n\n        this.granting = true\n\n        try {\n          console.log('Granting access for request:', this.requestId)\n          console.log('ICT Officer comments:', this.ictOfficerComments)\n\n          // Call the ICT Officer service to grant access\n          const result = await ictOfficerService.grantAccess(this.requestId, {\n            comments: this.ictOfficerComments,\n            status: 'implemented',\n            grantedAt: new Date().toISOString()\n          })\n\n          if (result.success) {\n            // Reload the request data to get updated status\n            await this.loadRequestData()\n\n            // IMMEDIATELY update badge count locally for instant feedback\n            this.updateBadgeCountLocally()\n\n            // Immediately trigger notification badge refresh\n            this.refreshNotificationBadges()\n\n            // Progressive refresh strategy to ensure backend has time to update\n            setTimeout(() => {\n              console.log(' Secondary notification refresh (2 seconds)')\n              this.refreshNotificationBadges()\n            }, 2000)\n\n            setTimeout(() => {\n              console.log(' Tertiary notification refresh (4 seconds)')\n              this.refreshNotificationBadges()\n            }, 4000)\n\n            setTimeout(() => {\n              console.log(' Final notification refresh (6 seconds)')\n              this.refreshNotificationBadges()\n            }, 6000)\n\n            // Show success message\n            this.toast = {\n              show: true,\n              message: 'Access granted successfully!'\n            }\n\n            setTimeout(() => {\n              this.toast.show = false\n              // Final notification refresh before redirect\n              this.refreshNotificationBadges()\n\n              // Redirect to ICT dashboard access requests with final refresh\n              setTimeout(() => {\n                console.log(' REDIRECT: Final notification refresh before redirect')\n                this.refreshNotificationBadges()\n\n                setTimeout(() => {\n                  console.log(' REDIRECT: Navigating to access requests page')\n                  this.$router.push('/ict-dashboard/access-requests')\n                }, 1000)\n              }, 500)\n            }, 2000)\n          } else {\n            throw new Error(result.error || 'Failed to grant access')\n          }\n        } catch (error) {\n          console.error('Error granting access:', error)\n          this.toast = {\n            show: true,\n            message: 'Error: ' + error.message\n          }\n          setTimeout(() => {\n            this.toast.show = false\n          }, 5000)\n        } finally {\n          this.granting = false\n        }\n      },\n\n      getStatusLabel(status) {\n        const data = this.requestData\n\n        console.log(' DEBUG getStatusLabel - INPUT status:', status)\n        console.log(' DEBUG getStatusLabel - Full data:', data)\n        console.log(' DEBUG getStatusLabel - Direct status fields:', {\n          status: data?.status,\n          ict_officer_status: data?.ict_officer_status,\n          head_it_status: data?.head_it_status,\n          ict_officer_implemented_at: data?.ict_officer_implemented_at\n        })\n        console.log(' DEBUG getStatusLabel - implementation structure:', data?.implementation)\n        console.log(' DEBUG getStatusLabel - ictOfficer:', data?.implementation?.ictOfficer)\n        console.log(\n          ' DEBUG getStatusLabel - is_implemented:',\n          data?.implementation?.ictOfficer?.is_implemented\n        )\n\n        // Use workflow_stage if provided by backend (it's more accurate)\n        if (data?.workflow_stage) {\n          console.log(' DEBUG - Using workflow_stage:', data.workflow_stage)\n          return data.workflow_stage\n        }\n\n        // PRIORITY 1: Check if ICT Officer has implemented - multiple detection methods\n\n        // Method 1a: Direct database status field (most reliable)\n        if (data?.ict_officer_status === 'implemented') {\n          console.log(' DEBUG -  Access granted via ict_officer_status === implemented')\n          return 'Access Granted'\n        }\n\n        // Method 1b: Overall status field shows implemented\n        if (data?.status === 'implemented') {\n          console.log(' DEBUG -  Access granted via status === implemented')\n          return 'Access Granted'\n        }\n\n        // Method 1c: Nested implementation structure (from BothServiceFormController)\n        if (data?.implementation?.ictOfficer?.is_implemented === true) {\n          console.log(' DEBUG -  Access granted via nested implementation structure')\n          return 'Access Granted'\n        }\n\n        // Method 1d: Check if calculated status from backend indicates completion\n        const backendStatus = data?.status?.toLowerCase()\n        if (\n          backendStatus &&\n          (backendStatus.includes('access granted') ||\n            backendStatus.includes('implemented') ||\n            backendStatus.includes('completed'))\n        ) {\n          console.log(' DEBUG -  Access granted via calculated backend status:', data?.status)\n          return 'Access Granted'\n        }\n\n        // Check for valid implementation date (not the default invalid date)\n        const implDate = data?.ict_officer_implemented_at\n        if (implDate && !implDate.includes('-000001') && !implDate.includes('1970-01-01')) {\n          return 'Access Granted'\n        }\n\n        // Check the status hierarchy based on actual database columns\n        if (\n          data?.head_it_status === 'approved' &&\n          (data?.ict_officer_status === 'pending' || !data?.ict_officer_status)\n        ) {\n          console.log(' DEBUG - WRONG PATH: Showing Pending ICT Officer Implementation')\n          console.log(' DEBUG - head_it_status:', data?.head_it_status)\n          console.log(' DEBUG - ict_officer_status:', data?.ict_officer_status)\n          console.log(' DEBUG - This should not happen if access is granted!')\n          return 'Pending ICT Officer Implementation'\n        }\n\n        if (\n          data?.ict_director_status === 'approved' &&\n          (data?.head_it_status === 'pending' || !data?.head_it_status)\n        ) {\n          return 'Pending Head IT Approval'\n        }\n\n        if (\n          data?.divisional_status === 'approved' &&\n          (data?.ict_director_status === 'pending' || !data?.ict_director_status)\n        ) {\n          return 'Pending ICT Director Approval'\n        }\n\n        if (\n          data?.hod_status === 'approved' &&\n          (data?.divisional_status === 'pending' || !data?.divisional_status)\n        ) {\n          return 'Pending Divisional Director Approval'\n        }\n\n        if (data?.hod_status === 'pending' || !data?.hod_status) {\n          return 'Pending HOD Approval'\n        }\n\n        // Status mapping for backward compatibility\n        const statusMap = {\n          pending: 'Pending Approval',\n          hod_approved: 'HOD Approved',\n          divisional_approved: 'Divisional Approved',\n          ict_director_approved: 'ICT Director Approved',\n          head_it_approved: 'Head IT Approved',\n          pending_ict_officer: 'Pending ICT Officer',\n          assigned_to_ict: 'Assigned to ICT Officer',\n          implementation_in_progress: 'Implementation In Progress',\n          implemented: 'Access Granted',\n          approved: 'Access Granted',\n          completed: 'Access Granted',\n          rejected: 'Rejected'\n        }\n\n        return (\n          statusMap[status] ||\n          status?.replace(/_/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase()) ||\n          'Pending Approval'\n        )\n      },\n\n      getProgress() {\n        if (!this.requestData) return '0%'\n\n        const data = this.requestData\n\n        // Use the backend-calculated progress if available\n        if (data.approval_progress !== undefined) {\n          return data.approval_progress + '%'\n        }\n\n        // Calculate progress based on actual database columns\n        let progress = 0\n\n        // HOD approval (20%)\n        if (data.hod_status === 'approved' && data.hod_approved_at) {\n          progress = 20\n        }\n\n        // Divisional approval (40%)\n        if (data.divisional_status === 'approved' && data.divisional_approved_at) {\n          progress = 40\n        }\n\n        // ICT Director approval (60%)\n        if (data.ict_director_status === 'approved' && data.ict_director_approved_at) {\n          progress = 60\n        }\n\n        // Head of IT approval (80%)\n        if (data.head_it_status === 'approved' && data.head_it_approved_at) {\n          progress = 80\n        }\n\n        // ICT Officer implementation (100%)\n        if (data.ict_officer_status === 'implemented' || data.status === 'implemented') {\n          // Check if implementation date is valid (not the default invalid date)\n          const implDate = data.ict_officer_implemented_at\n          if (implDate && !implDate.includes('-000001') && !implDate.includes('1970-01-01')) {\n            progress = 100\n          } else if (data.ict_officer_status === 'implemented' || data.status === 'implemented') {\n            progress = 100 // Trust the status field if it says implemented\n          } else {\n            progress = 90 // Assigned but not yet implemented\n          }\n        }\n\n        return progress + '%'\n      },\n\n      formatDate(dateStr) {\n        if (!dateStr) return 'N/A'\n        try {\n          return new Date(dateStr).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric',\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        } catch {\n          return dateStr\n        }\n      },\n\n      checkAndShowSuccessNotification() {\n        // Show notification if user is in read-only mode (requester viewing granted access)\n        // and the request has been successfully implemented\n        if (this.isReadOnly && this.requestData) {\n          const data = this.requestData\n\n          // Check multiple conditions for implemented/granted status\n          const isImplemented =\n            data?.ict_officer_status === 'implemented' ||\n            data?.status === 'implemented' ||\n            (data?.ict_officer_implemented_at &&\n              !data?.ict_officer_implemented_at.includes('-000001') &&\n              !data?.ict_officer_implemented_at.includes('1970-01-01'))\n\n          const statusLabel = this.getStatusLabel(data?.status || '')\n\n          // Show notification for any completed/granted access request\n          if (\n            isImplemented ||\n            statusLabel === 'Access Granted' ||\n            statusLabel.includes('Granted')\n          ) {\n            this.showSuccessNotification = true\n\n            // Auto-hide after 8 seconds\n            setTimeout(() => {\n              this.hideSuccessNotification()\n            }, 8000)\n          }\n        }\n      },\n\n      hideSuccessNotification() {\n        this.showSuccessNotification = false\n      },\n\n      goBack() {\n        this.$router.go(-1)\n      },\n\n      async refreshNotificationBadges() {\n        // Try multiple approaches to ensure notification badges are updated\n        try {\n          console.log(' Starting comprehensive notification badge refresh...')\n\n          // Method 1: Dispatch force refresh event for immediate update\n          if (window.dispatchEvent) {\n            const forceEvent = new CustomEvent('force-refresh-notifications', {\n              detail: {\n                source: 'UserSecurityAccess',\n                reason: 'access_granted',\n                timestamp: Date.now()\n              }\n            })\n            window.dispatchEvent(forceEvent)\n            console.log(' Dispatched force-refresh-notifications event')\n\n            // Also dispatch regular refresh as backup\n            const event = new CustomEvent('refresh-notifications', {\n              detail: {\n                source: 'UserSecurityAccess',\n                reason: 'access_granted',\n                timestamp: Date.now()\n              }\n            })\n            window.dispatchEvent(event)\n            console.log(' Dispatched refresh-notifications event')\n          }\n\n          // Method 2: Direct call to sidebar instance\n          if (window.sidebarInstance && window.sidebarInstance.fetchNotificationCounts) {\n            console.log(' Calling sidebar fetchNotificationCounts directly')\n            window.sidebarInstance.fetchNotificationCounts(true) // force refresh with cache bypass\n          }\n\n          // Method 3: Aggressive cache clearing and fresh API calls\n          try {\n            const notificationService = (await import('@/services/notificationService')).default\n            console.log(' Aggressive notification cache clearing and refresh')\n\n            // Clear any cached data multiple times to ensure it's gone\n            if (notificationService.clearCache) {\n              notificationService.clearCache()\n              console.log(' Notification cache cleared')\n            }\n\n            // Wait a moment then force multiple fresh fetches\n            setTimeout(async () => {\n              try {\n                if (notificationService.getPendingRequestsCount) {\n                  console.log(' Force fetch #1 - Immediate notification count refresh')\n                  await notificationService.getPendingRequestsCount(true) // force fresh fetch\n\n                  // Clear cache again and fetch again\n                  if (notificationService.clearCache) {\n                    notificationService.clearCache()\n                  }\n\n                  console.log(' Force fetch #2 - Second notification count refresh')\n                  await notificationService.getPendingRequestsCount(true) // force fresh fetch again\n                }\n              } catch (fetchError) {\n                console.warn('Failed during aggressive notification refresh:', fetchError)\n              }\n            }, 500)\n          } catch (serviceError) {\n            console.warn('Failed to refresh via notification service:', serviceError)\n          }\n\n          // Method 4: If we're still in the app, trigger a page-level refresh of components\n          if (this.$root && this.$root.$emit) {\n            this.$root.$emit('force-refresh-notifications', { reason: 'access_granted' })\n          }\n\n          console.log('\\u2705 Notification badge refresh complete')\n        } catch (error) {\n          console.error('\\u274c Failed to refresh notification badges:', error)\n        }\n      },\n\n      // Immediately update badge count locally for instant user feedback\n      updateBadgeCountLocally() {\n        try {\n          console.log(\n            '\\ud83d\\udce6 UserSecurityAccess: Updating badge count locally for instant feedback'\n          )\n\n          // Access the sidebar's notification counts directly and decrement by 1\n          if (window.sidebarInstance && window.sidebarInstance.notificationCounts) {\n            const currentCounts = window.sidebarInstance.notificationCounts\n            const ictRoute = '/ict-dashboard/access-requests'\n\n            if (currentCounts[ictRoute] && currentCounts[ictRoute] > 0) {\n              currentCounts[ictRoute] = Math.max(0, currentCounts[ictRoute] - 1)\n              console.log(\n                '\\ud83d\\udd04 Decremented badge count for',\n                ictRoute,\n                'to',\n                currentCounts[ictRoute]\n              )\n\n              // Force Vue reactivity update if possible\n              if (window.sidebarInstance.forceUpdate) {\n                window.sidebarInstance.forceUpdate()\n              }\n            }\n          }\n\n          // Also try to access the global notification counts in ModernSidebar\n          if (window.Vue && window.Vue.observable) {\n            // Trigger Vue's reactivity system to update the UI immediately\n            console.log('\\ud83d\\udd04 Triggering Vue reactivity update')\n          }\n        } catch (error) {\n          console.warn('Failed to update badge count locally:', error)\n        }\n      },\n\n      generateMockData() {\n        // Generate mock data for testing when backend is not available\n        return {\n          id: this.requestId,\n          pf_number: 'PF12345',\n          staff_name: 'John Doe',\n          department: 'ICT Department',\n          phone: '+256-700-123456',\n          status: 'pending_ict_officer',\n          wellsoft_modules: ['OPD', 'IPD', 'Pharmacy', 'Laboratory'],\n          jeeva_modules: ['Accounting', 'HR', 'Procurement'],\n          internet_purposes: ['Email communication', 'Research purposes', 'Official documentation'],\n          hod_comments: 'Staff requires access for daily operations. Approved by HOD.',\n          comments: 'All requested modules are necessary for the staff role.',\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString(),\n          request_type: 'combined_access',\n          services: ['jeeva', 'wellsoft', 'internet']\n        }\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .fade-enter-active,\n  .fade-leave-active {\n    transition: opacity 0.3s ease;\n  }\n  .fade-enter-from,\n  .fade-leave-to {\n    opacity: 0;\n  }\n\n  /* Slide animation for top-right notification */\n  .slide-down-enter-active {\n    transition: all 0.4s ease-out;\n  }\n  .slide-down-leave-active {\n    transition: all 0.3s ease-in;\n  }\n  .slide-down-enter-from {\n    opacity: 0;\n    transform: translateX(100%) translateY(-10px);\n  }\n  .slide-down-leave-to {\n    opacity: 0;\n    transform: translateX(100%) translateY(-10px);\n  }\n  .slide-down-enter-to {\n    opacity: 1;\n    transform: translateX(0) translateY(0);\n  }\n\n  /* Medical Glass morphism effects */\n  .medical-glass-card {\n    background: rgba(59, 130, 246, 0.15);\n    backdrop-filter: blur(25px);\n    -webkit-backdrop-filter: blur(25px);\n    border: 2px solid rgba(96, 165, 250, 0.3);\n    box-shadow:\n      0 8px 32px rgba(29, 78, 216, 0.4),\n      inset 0 1px 0 rgba(255, 255, 255, 0.1);\n  }\n\n  .medical-card {\n    position: relative;\n    overflow: hidden;\n    background: rgba(59, 130, 246, 0.1);\n    backdrop-filter: blur(15px);\n    -webkit-backdrop-filter: blur(15px);\n  }\n\n  .medical-card::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(96, 165, 250, 0.2), transparent);\n    transition: left 0.5s;\n  }\n\n  .medical-card:hover::before {\n    left: 100%;\n  }\n\n  /* Animations */\n  @keyframes float {\n    0%,\n    100% {\n      transform: translateY(0px);\n    }\n    50% {\n      transform: translateY(-20px);\n    }\n  }\n\n  .animate-float {\n    animation: float 6s ease-in-out infinite;\n  }\n</style>\n","import { render } from \"./UserSecurityAccess.vue?vue&type=template&id=70ed0af4&scoped=true\"\nimport script from \"./UserSecurityAccess.vue?vue&type=script&lang=js\"\nexport * from \"./UserSecurityAccess.vue?vue&type=script&lang=js\"\n\nimport \"./UserSecurityAccess.vue?vue&type=style&index=0&id=70ed0af4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70ed0af4\"]])\n\nexport default __exports__","import axios from 'axios'\nimport { devLog } from '../utils/devLogger'\n\nconst API_BASE_URL = process.env.VUE_APP_API_URL || 'http://127.0.0.1:8000/api'\n\n// Create axios instance with default config\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 0, // No timeout - let backend take as long as needed\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  }\n})\n\n// Add auth token to requests and append cache-busting param for GETs\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('auth_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    if (config.method && config.method.toLowerCase() === 'get') {\n      try {\n        const url = new URL(config.url, config.baseURL)\n        url.searchParams.set('_cb', String(Date.now()))\n        config.url = url.pathname + url.search\n      } catch (e) {\n        const sep = (config.url || '').includes('?') ? '&' : '?'\n        config.url = `${config.url}${sep}_cb=${Date.now()}`\n      }\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Centralized response handling so locked / unauthenticated users are\n// sent back to login instead of leaving the ICT dashboard in a broken state.\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const status = error.response?.status\n\n    // Only force-logout on 401 (invalid/expired token).\n    // 403 is a normal \"role doesn't have access\" case in this app and should not clear auth.\n    if (status === 401) {\n      // Clear any stale auth data\n      localStorage.removeItem('auth_token')\n      localStorage.removeItem('user_data')\n      localStorage.removeItem('session_data')\n\n      // Redirect to login/root if not already there\n      if (typeof window !== 'undefined') {\n        const path = window.location.pathname || ''\n        if (path !== '/' && path !== '/login') {\n          window.location.href = '/'\n        }\n      }\n    }\n\n    return Promise.reject(error)\n  }\n)\n\nconst ictOfficerService = {\n  /**\n   * Get all access requests approved by Head of IT and available for ICT Officer implementation\n   */\n  async getAccessRequests() {\n    try {\n      devLog.debug(' IctOfficerService: Fetching access requests...')\n      const response = await axiosInstance.get('/ict-officer/access-requests')\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Access requests loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(' IctOfficerService: Failed to load access requests:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load access requests'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error fetching access requests:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading access requests'\n      }\n    }\n  },\n\n  /**\n   * Get a specific access request by ID\n   */\n  async getAccessRequestById(requestId) {\n    try {\n      devLog.debug(' IctOfficerService: Fetching access request by ID:', requestId)\n      const response = await axiosInstance.get(`/ict-officer/access-requests/${requestId}`)\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Access request loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(' IctOfficerService: Failed to load access request:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load access request'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error fetching access request:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading access request'\n      }\n    }\n  },\n\n  /**\n   * Assign a task to self (ICT Officer takes ownership of implementation)\n   */\n  async assignTaskToSelf(requestId, notes = '') {\n    try {\n      devLog.debug(' IctOfficerService: Assigning task to self:', requestId)\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/assign`,\n        {\n          notes: notes\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Task assigned successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(' IctOfficerService: Failed to assign task:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to assign task'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error assigning task:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while assigning task'\n      }\n    }\n  },\n\n  /**\n   * Update progress on an assigned task\n   */\n  async updateProgress(requestId, status, notes = '') {\n    try {\n      devLog.debug(' IctOfficerService: Updating progress:', requestId, status)\n\n      const response = await axiosInstance.put(\n        `/ict-officer/access-requests/${requestId}/progress`,\n        {\n          status: status,\n          notes: notes\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Progress updated successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(' IctOfficerService: Failed to update progress:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to update progress'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error updating progress:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while updating progress'\n      }\n    }\n  },\n\n  /**\n   * Update implementation progress with detailed comments and status\n   */\n  async updateImplementationProgress(requestId, status, comments = '') {\n    try {\n      devLog.debug(' IctOfficerService: Updating implementation progress:', requestId, status)\n\n      const payload = {\n        implementation_status: status,\n        implementation_comments: comments\n      }\n\n      // Add timestamp based on status\n      if (status === 'implementation_in_progress') {\n        payload.ict_officer_started_at = new Date().toISOString()\n      } else if (status === 'implemented') {\n        payload.ict_officer_implemented_at = new Date().toISOString()\n      }\n\n      const response = await axiosInstance.put(\n        `/ict-officer/access-requests/${requestId}/implementation`,\n        payload\n      )\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Implementation progress updated successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message || 'Implementation progress updated successfully'\n        }\n      } else {\n        devLog.error(\n          ' IctOfficerService: Failed to update implementation progress:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to update implementation progress'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error updating implementation progress:', error)\n      return {\n        success: false,\n        message:\n          error.response?.data?.message || 'Network error while updating implementation progress'\n      }\n    }\n  },\n\n  /**\n   * Cancel an assigned task (unassign from self)\n   */\n  async cancelTask(requestId, reason) {\n    try {\n      devLog.debug(' IctOfficerService: Canceling task:', requestId)\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/cancel`,\n        {\n          reason: reason\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Task canceled successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(' IctOfficerService: Failed to cancel task:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to cancel task'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error canceling task:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while canceling task'\n      }\n    }\n  },\n\n  /**\n   * Complete implementation of access request\n   */\n  async completeImplementation(requestId, notes = '', signatureFile = null) {\n    try {\n      devLog.debug(' IctOfficerService: Completing implementation:', requestId)\n\n      const formData = new FormData()\n      formData.append('notes', notes)\n      if (signatureFile) {\n        formData.append('signature', signatureFile)\n      }\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/complete`,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Implementation completed successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(\n          ' IctOfficerService: Failed to complete implementation:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to complete implementation'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error completing implementation:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while completing implementation'\n      }\n    }\n  },\n\n  /**\n   * Get detailed timeline for a specific access request\n   */\n  async getRequestTimeline(requestId) {\n    try {\n      devLog.debug(' IctOfficerService: Fetching request timeline:', requestId)\n      const response = await axiosInstance.get(`/ict-officer/access-requests/${requestId}/timeline`)\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Request timeline loaded successfully')\n        return response.data.data\n      } else {\n        devLog.error(\n          ' IctOfficerService: Failed to load request timeline:',\n          response.data.message\n        )\n        throw new Error(response.data.message || 'Failed to load request timeline')\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error fetching request timeline:', error)\n      if (error.response) {\n        throw new Error(error.response.data?.message || 'Failed to load timeline data')\n      } else {\n        throw new Error('Network error while loading timeline')\n      }\n    }\n  },\n\n  /**\n   * Get access request timeline (alias for getRequestTimeline)\n   */\n  async getAccessRequestTimeline(requestId) {\n    try {\n      devLog.debug(' IctOfficerService: Fetching access request timeline:', requestId)\n      const response = await axiosInstance.get(`/ict-officer/access-requests/${requestId}/timeline`)\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Access request timeline loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(\n          ' IctOfficerService: Failed to load access request timeline:',\n          response.data.message\n        )\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load access request timeline'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error fetching access request timeline:', error)\n      return {\n        success: false,\n        message:\n          error.response?.data?.message || 'Network error while loading access request timeline'\n      }\n    }\n  },\n\n  /**\n   * Grant access to a request (final step with timeline logging)\n   */\n  async grantAccess(requestId, data) {\n    try {\n      devLog.debug(' IctOfficerService: Granting access for request:', requestId)\n      devLog.debug('Grant access data:', data)\n\n      const response = await axiosInstance.post(\n        `/ict-officer/access-requests/${requestId}/grant-access`,\n        {\n          comments: data.comments || '',\n          implementation_status: 'implemented',\n          implementation_completed_at: new Date().toISOString()\n        }\n      )\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Access granted successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message || 'Access granted successfully'\n        }\n      } else {\n        devLog.error(' IctOfficerService: Failed to grant access:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to grant access'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error granting access:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while granting access'\n      }\n    }\n  },\n\n  /**\n   * Get statistics for ICT Officer dashboard\n   */\n  async getStatistics() {\n    try {\n      devLog.debug(' IctOfficerService: Fetching statistics...')\n      const response = await axiosInstance.get('/ict-officer/statistics')\n\n      if (response.data.success) {\n        devLog.debug(' IctOfficerService: Statistics loaded successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: response.data.message\n        }\n      } else {\n        devLog.error(' IctOfficerService: Failed to load statistics:', response.data.message)\n        return {\n          success: false,\n          message: response.data.message || 'Failed to load statistics'\n        }\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error fetching statistics:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while loading statistics'\n      }\n    }\n  },\n\n  /**\n   * Get count of pending access requests for notification badge\n   */\n  async getPendingRequestsCount() {\n    try {\n      devLog.debug(' IctOfficerService: Fetching pending requests count...')\n      const response = await axiosInstance.get('/ict-officer/pending-count')\n\n      if (response.data.success) {\n        // Success logged only in development mode\n        if (process.env.NODE_ENV === 'development') {\n          devLog.debug(' IctOfficerService: Pending count loaded successfully')\n        }\n        return response.data.data\n      } else {\n        devLog.error(' IctOfficerService: Failed to load pending count:', response.data.message)\n        throw new Error(response.data.message || 'Failed to load pending requests count')\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error fetching pending count:', error)\n      if (error.response) {\n        throw new Error(error.response.data?.message || 'Failed to load pending count')\n      } else {\n        throw new Error('Network error while loading pending count')\n      }\n    }\n  },\n\n  /**\n   * Retry or (re)send SMS notification to the requester for a given access request\n   * Backend-agnostic: sends multiple compatible phone keys and hint flags.\n   */\n  async resendRequesterSms(requestId, requesterPhone = null) {\n    try {\n      devLog.debug(' IctOfficerService: Retrying requester SMS for:', {\n        requestId,\n        requesterPhone\n      })\n\n      const normalizePhone = (p) => {\n        if (!p) return null\n        const s = String(p).trim()\n        const keepPlus = s.startsWith('+')\n        const digits = s.replace(/[^\\d]/g, '')\n        return keepPlus ? `+${digits}` : digits\n      }\n\n      const rawPhone = requesterPhone || null\n      const normalized = normalizePhone(rawPhone)\n\n      const payload = {\n        request_id: requestId,\n        role: 'ict_officer',\n        notification_type: 'requester_access_granted',\n        resend_only: true,\n        force: true,\n        force_resend: true,\n        resend_sms: true,\n        send_sms: true,\n        send_sms_to_requester: true,\n        notification_channel: 'sms',\n        // Phone compatibility keys (ignored if not recognized)\n        requester_phone: rawPhone || undefined,\n        requester_phone_number: rawPhone || undefined,\n        requester_msisdn: normalized || undefined,\n        staff_phone: rawPhone || undefined,\n        staff_phone_number: rawPhone || undefined,\n        recipient_phone: normalized || undefined,\n        destination_phone: normalized || undefined,\n        phone_number: normalized || undefined,\n        msisdn: normalized || undefined,\n        contact_phone: normalized || undefined\n      }\n\n      // Try multiple endpoints in order of preference\n      let response\n      const endpoints = [\n        `/ict-officer/access-requests/${requestId}/notify`,\n        `/ict-officer/access-requests/${requestId}/resend-sms`,\n        `/ict-officer/access-requests/${requestId}/send-notification`,\n        `/ict-officer/access-requests/${requestId}/grant-access`,\n        `/ict-officer/notify`,\n        `/ict-officer/resend-sms`\n      ]\n\n      let lastError\n      for (let i = 0; i < endpoints.length; i++) {\n        try {\n          devLog.debug(` Trying endpoint ${i + 1}/${endpoints.length}: ${endpoints[i]}`)\n          response = await axiosInstance.post(endpoints[i], payload)\n          devLog.debug(` Success with endpoint: ${endpoints[i]}`)\n          break\n        } catch (e) {\n          console.warn(\n            ` Endpoint ${endpoints[i]} failed:`,\n            e.response?.status,\n            e.response?.data?.message || e.message\n          )\n          lastError = e\n          if (i === endpoints.length - 1) {\n            devLog.error(' All endpoints failed for SMS retry')\n            throw lastError\n          }\n        }\n      }\n\n      if (response.data?.success) {\n        devLog.debug(' IctOfficerService: Requester SMS retry triggered successfully')\n        return { success: true, data: response.data.data, message: response.data.message }\n      }\n\n      return {\n        success: false,\n        message: response.data?.message || 'Failed to trigger SMS retry'\n      }\n    } catch (error) {\n      devLog.error(' IctOfficerService: Error retrying requester SMS:', error)\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Network error while retrying SMS'\n      }\n    }\n  }\n}\n\nexport default ictOfficerService\n"],"names":["API_BASE_URL","process","apiClient","axios","create","baseURL","timeout","parseInt","headers","Accept","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","status","method","toString","toLowerCase","url","isLoginRequest","includes","removeItem","window","location","href","authService","login","credentials","post","success","data","message","errors","logout","logoutAll","getCurrentUser","get","getRoleBasedRedirect","getActiveSessions","revokeSession","tokenId","token_id","changePassword","payload","current_password","current","password","new","password_confirmation","confirm","requestPasswordResetByPhone","phone","verifyPasswordResetOtp","otp","resetPasswordWithOtp","class","style","_createElementBlock","_hoisted_1","_createVNode","_Transition","name","$data","showSuccessNotification","_hoisted_2","_createElementVNode","_hoisted_3","onClick","_cache","args","$options","hideSuccessNotification","_component_Header","_hoisted_4","_component_ModernSidebar","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","i","key","_normalizeStyle","animationDelay","_hoisted_9","Math","random","_normalizeClass","floor","_hoisted_10","_hoisted_11","_hoisted_12","goBack","_hoisted_13","_hoisted_14","_toDisplayString","requestId","_hoisted_15","_hoisted_16","_hoisted_17","currentStatus","_hoisted_18","_hoisted_19","loading","_hoisted_20","_hoisted_21","_hoisted_22","loadRequestData","requestData","_ctx","$route","query","debug","_hoisted_23","_hoisted_24","_hoisted_25","JSON","stringify","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","shared","pfNumber","pf_number","_hoisted_33","_hoisted_34","staffName","staff_name","_hoisted_35","_hoisted_36","department","dept","_hoisted_37","_hoisted_38","contact","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","getStatusLabel","_hoisted_44","_hoisted_45","getProgress","_hoisted_46","_hoisted_47","formatDate","updated_at","_hoisted_48","_hoisted_49","_hoisted_50","wellsoftModules","length","_hoisted_51","module","_hoisted_52","_hoisted_53","jeevaModules","_hoisted_54","_hoisted_55","_hoisted_56","internetPurposes","_hoisted_57","purpose","index","_hoisted_58","_hoisted_59","_hoisted_60","hodComments","_hoisted_61","_hoisted_62","isIctOfficer","_hoisted_63","ictOfficerComments","$event","rows","placeholder","readonly","isReadOnly","_hoisted_65","grantAccessNow","disabled","granting","_hoisted_67","_hoisted_68","toast","show","_hoisted_69","_hoisted_70","components","Header","AppHeader","ModernSidebar","dataRefreshTimestamp","Date","now","computed","this","params","id","role","currentUser","isAccessGranted","workflow_stage","ict_officer_status","calculatedStatus","modules","wellsoft_modules_selected","wellsoft_modules","wellsoft","parse","filter","m","trim","split","map","Array","isArray","jeeva_modules_selected","jeeva_modules","jeeva","purposes","internet_purposes","internet","p","parsed","hod_comments","approvals","hod","comments","approval_workflow","mounted","checkAndShowSuccessNotification","methods","combinedAccessService","getRequestById","ict_officer_implemented_at","head_it_status","console","warn","ictResponse","ictOfficerService","getAccessRequestById","generateMockData","result","grantAccess","grantedAt","toISOString","Error","updateBadgeCountLocally","refreshNotificationBadges","setTimeout","$router","push","implementation","ictOfficer","is_implemented","backendStatus","implDate","ict_director_status","divisional_status","hod_status","statusMap","pending","hod_approved","divisional_approved","ict_director_approved","head_it_approved","pending_ict_officer","assigned_to_ict","implementation_in_progress","implemented","approved","completed","rejected","replace","l","toUpperCase","undefined","approval_progress","progress","hod_approved_at","divisional_approved_at","ict_director_approved_at","head_it_approved_at","dateStr","toLocaleDateString","year","month","day","hour","minute","isImplemented","statusLabel","go","dispatchEvent","forceEvent","CustomEvent","detail","source","reason","timestamp","event","sidebarInstance","fetchNotificationCounts","notificationService","default","clearCache","async","getPendingRequestsCount","fetchError","serviceError","$root","$emit","notificationCounts","currentCounts","ictRoute","max","forceUpdate","Vue","observable","created_at","request_type","services","__exports__","render","axiosInstance","URL","searchParams","set","String","pathname","search","e","sep","path","getAccessRequests","devLog","assignTaskToSelf","notes","updateProgress","put","updateImplementationProgress","implementation_status","implementation_comments","ict_officer_started_at","cancelTask","completeImplementation","signatureFile","formData","FormData","append","getRequestTimeline","getAccessRequestTimeline","implementation_completed_at","getStatistics","resendRequesterSms","requesterPhone","normalizePhone","s","keepPlus","startsWith","digits","rawPhone","normalized","request_id","notification_type","resend_only","force","force_resend","resend_sms","send_sms","send_sms_to_requester","notification_channel","requester_phone","requester_phone_number","requester_msisdn","staff_phone","staff_phone_number","recipient_phone","destination_phone","phone_number","msisdn","contact_phone","endpoints","lastError"],"sourceRoot":""}