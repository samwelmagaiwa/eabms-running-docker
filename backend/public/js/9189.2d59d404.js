"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[9189],{9189:function(e,t,s){s.r(t);s(8111),s(2489);var a=s(274);const r={async getDictRequests(e={}){try{const t=await a.A.get("/ict-director/combined-access-requests",{params:e});return{success:!0,data:t.data}}catch(t){return console.error("Error fetching ICT Director requests:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to fetch requests"}}},async getDictRequest(e){try{const t=await a.A.get(`/ict-director/combined-access-requests/${e}`);return{success:!0,data:t.data}}catch(t){return console.error("Error fetching ICT Director request:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to fetch request"}}},async updateDictApproval(e,t){try{const s=await a.A.post(`/ict-director/combined-access-requests/${e}/approve`,t);return{success:!0,data:s.data}}catch(s){return console.error("Error updating ICT Director approval:",s),{success:!1,error:s.response?.data?.message||s.message||"Failed to update approval"}}},async cancelRequest(e,t){try{const s=await a.A.post(`/ict-director/combined-access-requests/${e}/cancel`,{reason:t});return{success:!0,data:s.data}}catch(s){return console.error("Error cancelling request:",s),{success:!1,error:s.response?.data?.message||s.message||"Failed to cancel request"}}},async getDictStatistics(){try{const e=await a.A.get("/ict-director/combined-access-requests/statistics");return{success:!0,data:e.data.data||e.data}}catch(e){return console.error("Error fetching ICT Director statistics:",e),{success:!1,error:e.response?.data?.message||e.message||"Failed to fetch statistics"}}},async approveRequest(e,t={}){return await this.updateDictApproval(e,{dict_status:"approved",dict_comments:t.comments||"",dict_name:t.name||""})},async rejectRequest(e,t={}){return await this.updateDictApproval(e,{dict_status:"rejected",dict_comments:t.comments||"",dict_name:t.name||""})},async getDictRecommendations(e={}){try{const t=await a.A.get("/divisional/dict-recommendations",{params:e});return{success:!0,data:t.data}}catch(t){console.error("Error fetching dict recommendations:",t);try{const t=await a.A.get("/divisional/combined-access-requests",{params:{...e,has_ict_director_comments:!0}});t.data,t.data,t.data,t.data,Array.isArray(t.data?.data);const s=t.data?.data||[],r=Array.isArray(s)?s:[],c={...t.data,data:r.filter(e=>e.ict_director_comments&&""!==e.ict_director_comments.trim())};return{success:!0,data:c}}catch(s){return console.error("Fallback also failed:",s),{success:!1,error:t.response?.data?.message||t.message||"Failed to fetch dict recommendations"}}}},async submitDivisionalResponse(e,t){try{const s=await a.A.post(`/divisional/respond-to-dict/${e}`,t);return{success:!0,data:s.data}}catch(s){return console.error("Error submitting divisional response:",s),{success:!1,error:s.response?.data?.message||s.message||"Failed to submit response"}}},async getRequestTimeline(e){try{const t=await a.A.get(`/ict-director/combined-access-requests/${e}/timeline`);if(t.data&&t.data.success)return{success:!0,data:t.data.data,message:t.data.message};throw new Error(t.data?.message||"Failed to load request timeline")}catch(t){return console.error("‚ùå DictAccessService: Error fetching request timeline:",t),{success:!1,error:t.response?.data?.message||t.message||"Failed to load request timeline"}}}};t["default"]=r}}]);
//# sourceMappingURL=9189.2d59d404.js.map