{"version":3,"file":"js/7902.cf95924d.js","mappings":"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","sources":["webpack://frontend/./src/services/signatureService.js","webpack://frontend/./src/composables/useAuth.js","webpack://frontend/./src/services/userProfileService.js","webpack://frontend/./src/components/common/OrbitingDots.vue","webpack://frontend/./src/components/common/OrbitingDots.vue?b232","webpack://frontend/./src/components/OnboardingPage.vue","webpack://frontend/./src/components/onboarding/OnboardingFlow.vue","webpack://frontend/./src/components/onboarding/OnboardingPopup.vue","webpack://frontend/./src/components/onboarding/OnboardingPopup.vue?a324","webpack://frontend/./src/components/onboarding/TermsOfService.vue","webpack://frontend/./src/components/onboarding/TermsOfService.vue?73fe","webpack://frontend/./src/components/onboarding/IctPolicy.vue","webpack://frontend/./src/components/onboarding/IctPolicy.vue?60bd","webpack://frontend/./src/components/views/forms/declarationForm.vue","webpack://frontend/./src/components/common/SimpleLoadingBanner.vue","webpack://frontend/./src/components/common/SimpleLoadingBanner.vue?9faf","webpack://frontend/./src/components/views/forms/declarationForm.vue?5d4f","webpack://frontend/./src/components/onboarding/SuccessPopup.vue","webpack://frontend/./src/components/onboarding/SuccessPopup.vue?355a","webpack://frontend/./src/components/onboarding/OnboardingFlow.vue?d930","webpack://frontend/./src/components/OnboardingPage.vue?a071"],"sourcesContent":["import axios from 'axios'\n\nconst API_BASE_URL = process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\n\nclass SignatureService {\n  constructor() {\n    this.api = axios.create({\n      baseURL: API_BASE_URL,\n      timeout: 10000,\n      headers: { 'Content-Type': 'application/json', Accept: 'application/json' }\n    })\n\n    this.api.interceptors.request.use(\n      (config) => {\n        const token = localStorage.getItem('auth_token')\n        if (token) config.headers.Authorization = `Bearer ${token}`\n        return config\n      },\n      (error) => Promise.reject(error)\n    )\n  }\n\n  async sign(documentId) {\n    const res = await this.api.post('/documents/sign', { document_id: documentId })\n    return { success: true, data: res.data }\n  }\n\n  async list(documentId) {\n    const res = await this.api.get(`/documents/${documentId}/signatures`)\n    return { success: true, data: res.data.data }\n  }\n\n  async verify(signatureId) {\n    const res = await this.api.get(`/signatures/${signatureId}/verify`)\n    return { success: res.data.success, data: res.data }\n  }\n}\n\nexport default new SignatureService()\n","import { computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuthStore } from '@/stores/auth'\nimport { ROLES, getDefaultDashboard } from '../utils/permissions'\n\n/**\n * Auth composable that provides authentication functionality\n * using Pinia auth store and Vue Router\n */\nexport function useAuth() {\n  const router = useRouter()\n  const authStore = useAuthStore()\n\n  // Computed properties from Pinia store\n  const user = computed(() => authStore.user)\n  const token = computed(() => authStore.token)\n  const isAuthenticated = computed(() => authStore.isAuthenticated)\n  const userPermissions = computed(() => authStore.userPermissions)\n  const userRole = computed(() => authStore.userRole)\n  const userRoles = computed(() => authStore.userRoles)\n  const isLoading = computed(() => authStore.isLoading)\n  const error = computed(() => authStore.error)\n  const isAdmin = computed(() => authStore.isAdmin)\n  const isStaff = computed(() => authStore.isStaff)\n  const isApprover = computed(() => authStore.isApprover)\n  const userName = computed(() => user.value?.name || 'User')\n\n  /**\n   * Login user with credentials\n   * @param {Object} credentials - { email, password }\n   * @returns {Promise<Object>} - Login result\n   */\n  const login = async (credentials) => {\n    try {\n      const { authService } = await import('@/services/authService')\n      const result = await authService.login(credentials)\n\n      if (result.success) {\n        const { user, token } = result.data\n\n        // Set Pinia auth data\n        authStore.setAuthData({ user, token })\n\n        // Determine redirect path\n        let redirectPath = getDefaultDashboard(authStore.userRole) || '/user-dashboard'\n        if (user?.needs_onboarding && authStore.userRole !== 'admin') {\n          redirectPath = '/onboarding'\n        }\n        const redirectTo = router.currentRoute.value.query.redirect\n        if (redirectTo && typeof redirectTo === 'string') {\n          redirectPath = redirectTo\n        }\n\n        await router.push(redirectPath)\n        return { success: true, user }\n      } else {\n        // Handle failed login - prefer specific field errors (e.g. password min length)\n        // then fall back to backend message like \"Invalid email or password.\"\n        let errorMessage = result.message || 'Login failed'\n\n        if (result.errors && typeof result.errors === 'object') {\n          const fieldOrder = ['email', 'password']\n          for (const field of fieldOrder) {\n            const fieldErrors = result.errors[field]\n            if (Array.isArray(fieldErrors) && fieldErrors.length > 0) {\n              errorMessage = fieldErrors[0]\n              break\n            }\n          }\n        }\n\n        console.error(' Login failed:', errorMessage)\n        authStore.setError(errorMessage)\n        return {\n          success: false,\n          message: errorMessage\n        }\n      }\n    } catch (error) {\n      console.error(' Login error in composable:', error)\n      authStore.setError(error.message || 'Login failed')\n      return {\n        success: false,\n        message: error.message || 'Login failed'\n      }\n    }\n  }\n\n  /**\n   * Logout current user\n   * @returns {Promise<Object>} - Logout result\n   */\n  const logout = async () => {\n    try {\n      const { authService } = await import('@/services/authService')\n      await authService.logout()\n      authStore.clearAuth()\n      await router.push('/login')\n      return { success: true }\n    } catch (error) {\n      authStore.clearAuth()\n      await router.push('/login')\n      return { success: true }\n    }\n  }\n\n  /**\n   * Logout from all sessions\n   * @returns {Promise<Object>} - Logout all result\n   */\n  const logoutAll = async () => {\n    try {\n      const { authService } = await import('@/services/authService')\n      const result = await authService.logoutAll()\n      authStore.clearAuth()\n      await router.push('/login')\n      return result.success ? result : { success: true }\n    } catch (error) {\n      authStore.clearAuth()\n      await router.push('/login')\n      return { success: true }\n    }\n  }\n\n  /**\n   * Update user data\n   * @param {Object} userData - Updated user data\n   */\n  const updateUser = (userData) => {\n    authStore.updateUser(userData)\n  }\n\n  /**\n   * Clear authentication error\n   */\n  const clearError = () => {\n    authStore.clearError()\n  }\n\n  /**\n   * Check if user has specific permission\n   * @param {string} permission - Permission to check\n   * @returns {boolean} - Whether user has permission\n   */\n  const hasPermission = (permission) => {\n    return authStore.hasPermission(permission)\n  }\n\n  /**\n   * Check if user has any of the specified roles\n   * @param {string|Array} roles - Role(s) to check\n   * @returns {boolean} - Whether user has any of the roles\n   */\n  const hasRole = (roles) => {\n    return authStore.hasRole(roles)\n  }\n\n  /**\n   * Check if user can access a specific route\n   * @param {Object} route - Route object with meta.roles\n   * @returns {boolean} - Whether user can access route\n   */\n  const canAccessRoute = (route) => {\n    if (!route.meta?.roles) return true\n    return hasRole(route.meta.roles)\n  }\n\n  /**\n   * Require specific role(s) - throws error if user doesn't have required role\n   * @param {string|Array} requiredRoles - Required role(s)\n   * @throws {Error} - If user doesn't have required role\n   */\n  const requireRole = (requiredRoles) => {\n    if (!hasRole(requiredRoles)) {\n      const roleList = Array.isArray(requiredRoles) ? requiredRoles.join(', ') : requiredRoles\n      throw new Error(`Access denied. Required role(s): ${roleList}`)\n    }\n  }\n\n  /**\n   * Get display name for a role\n   * @param {string} role - Role to get display name for\n   * @returns {string} - Display name for the role\n   */\n  const getRoleDisplayName = (role) => {\n    if (!role) return 'User'\n\n    const roleNames = {\n      [ROLES.ADMIN]: 'Administrator',\n      [ROLES.DIVISIONAL_DIRECTOR]: 'Divisional Director',\n      [ROLES.HEAD_OF_DEPARTMENT]: 'Head of Department',\n      [ROLES.ICT_DIRECTOR]: 'ICT Director',\n      [ROLES.HEAD_OF_IT]: 'Head of IT',\n      [ROLES.STAFF]: 'D. IN MEDICINE',\n      [ROLES.ICT_OFFICER]: 'ICT Officer',\n      [ROLES.SECRETARY_ICT]: 'Secretary ICT'\n    }\n    return roleNames[role] || role\n  }\n\n  return {\n    // State\n    user,\n    userName,\n    token,\n    isAuthenticated,\n    userPermissions,\n    userRole,\n    userRoles,\n    isLoading,\n    error,\n    isAdmin,\n    isStaff,\n    isApprover,\n\n    // Actions\n    login,\n    logout,\n    logoutAll,\n    updateUser,\n    clearError,\n\n    // Utilities\n    hasPermission,\n    hasRole,\n    canAccessRoute,\n    requireRole,\n    getRoleDisplayName,\n\n    // Constants\n    ROLES\n  }\n}\n\nexport default useAuth\n","import apiClient from '../utils/apiClient'\n\n/**\n * User Profile Service for form auto-population\n * Provides methods to retrieve and update user profile data\n */\nclass UserProfileService {\n  /**\n   * Get current user's profile information for form auto-population\n   * @returns {Promise<Object>} User profile data\n   */\n  async getCurrentUserProfile() {\n    try {\n      console.log(' Fetching current user profile for auto-population...')\n\n      const response = await apiClient.get('/profile/current')\n\n      if (response.data && response.data.success) {\n        console.log(' User profile retrieved successfully:', response.data.data)\n        return {\n          success: true,\n          data: response.data.data\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to retrieve user profile')\n      }\n    } catch (error) {\n      console.error(' Error fetching user profile:', error)\n      return {\n        success: false,\n        error: error.message || 'Failed to retrieve user profile',\n        data: null\n      }\n    }\n  }\n\n  /**\n   * Look up user by PF Number (for HOD/Admin use)\n   * @param {string} pfNumber - PF Number to look up\n   * @returns {Promise<Object>} User data or error\n   */\n  async getUserByPfNumber(pfNumber) {\n    try {\n      console.log(' Looking up user by PF Number:', pfNumber)\n\n      const response = await apiClient.post('/profile/lookup-pf', {\n        pf_number: pfNumber\n      })\n\n      if (response.data && response.data.success) {\n        console.log(' User found:', response.data.data)\n        return {\n          success: true,\n          data: response.data.data\n        }\n      } else {\n        return {\n          success: false,\n          message: response.data?.message || 'User not found',\n          data: null\n        }\n      }\n    } catch (error) {\n      console.error(' Error looking up user:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to look up user',\n        data: null\n      }\n    }\n  }\n\n  /**\n   * Check if PF Number exists\n   * @param {string} pfNumber - PF Number to check\n   * @returns {Promise<Object>} Existence check result\n   */\n  async checkPfNumberExists(pfNumber) {\n    try {\n      console.log(' Checking if PF Number exists:', pfNumber)\n\n      const response = await apiClient.post('/profile/check-pf', {\n        pf_number: pfNumber\n      })\n\n      if (response.data && response.data.success) {\n        return {\n          success: true,\n          exists: response.data.exists,\n          pfNumber: pfNumber\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to check PF Number')\n      }\n    } catch (error) {\n      console.error(' Error checking PF Number:', error)\n      return {\n        success: false,\n        error: error.message || 'Failed to check PF Number',\n        exists: false\n      }\n    }\n  }\n\n  /**\n   * Get departments list for dropdowns\n   * @returns {Promise<Object>} Departments list\n   */\n  async getDepartments() {\n    try {\n      console.log(' Fetching departments list...')\n\n      const response = await apiClient.get('/profile/departments')\n\n      if (response.data && response.data.success) {\n        console.log(' Departments retrieved:', response.data.count, 'departments')\n        return {\n          success: true,\n          data: response.data.data,\n          count: response.data.count\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to retrieve departments')\n      }\n    } catch (error) {\n      console.error(' Error fetching departments:', error)\n      return {\n        success: false,\n        error: error.message || 'Failed to retrieve departments',\n        data: []\n      }\n    }\n  }\n\n  /**\n   * Update current user's profile information\n   * @param {Object} profileData - Profile data to update\n   * @returns {Promise<Object>} Update result\n   */\n  async updateCurrentUserProfile(profileData) {\n    try {\n      console.log(' Updating user profile...')\n\n      const response = await apiClient.put('/profile/current', profileData)\n\n      if (response.data && response.data.success) {\n        console.log(' Profile updated successfully')\n        return {\n          success: true,\n          data: response.data.data,\n          message: 'Profile updated successfully'\n        }\n      } else {\n        throw new Error(response.data?.message || 'Failed to update profile')\n      }\n    } catch (error) {\n      console.error(' Error updating profile:', error)\n      return {\n        success: false,\n        error: error.response?.data?.message || error.message || 'Failed to update profile',\n        errors: error.response?.data?.errors || null\n      }\n    }\n  }\n\n  /**\n   * Auto-populate form data from user profile\n   * @returns {Promise<Object>} Form data ready for population\n   */\n  async getFormAutoPopulationData() {\n    try {\n      const profileResult = await this.getCurrentUserProfile()\n\n      if (profileResult.success) {\n        const userData = profileResult.data\n\n        // Format data specifically for form auto-population\n        const formData = {\n          // Core user information\n          pfNumber: userData.pf_number || '',\n          staffName: userData.staff_name || userData.full_name || '',\n          fullName: userData.full_name || userData.name || '',\n          phoneNumber: userData.phone || userData.phone_number || '',\n          email: userData.email || '',\n\n          // Department information\n          departmentId: userData.department_id || null,\n          departmentName: userData.department?.name || '',\n          departmentCode: userData.department?.code || '',\n          departmentFullName:\n            userData.department?.display_name || userData.department?.full_name || '',\n\n          // Additional metadata\n          userId: userData.id,\n          primaryRole: userData.primary_role || '',\n          roles: userData.roles || [],\n          isActive: userData.is_active !== false\n        }\n\n        return {\n          success: true,\n          data: formData,\n          message: 'Form data populated successfully'\n        }\n      } else {\n        return profileResult\n      }\n    } catch (error) {\n      console.error(' Error preparing form auto-population data:', error)\n      return {\n        success: false,\n        error: error.message || 'Failed to prepare form data',\n        data: null\n      }\n    }\n  }\n\n  /**\n   * Validate user data before form submission\n   * @param {Object} userData - User data to validate\n   * @returns {Object} Validation result\n   */\n  validateUserData(userData) {\n    const errors = []\n\n    if (!userData.pfNumber || userData.pfNumber.trim() === '') {\n      errors.push('PF Number is required')\n    }\n\n    if (!userData.staffName || userData.staffName.trim() === '') {\n      errors.push('Staff Name is required')\n    }\n\n    if (!userData.phoneNumber || userData.phoneNumber.trim() === '') {\n      errors.push('Phone Number is required')\n    }\n\n    if (!userData.departmentId) {\n      errors.push('Department is required')\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors: errors\n    }\n  }\n}\n\nexport default new UserProfileService()\n","<template>\n  <div class=\"orbiting-dots\" :class=\"sizeClass\" :style=\"customSize\">\n    <!-- Static logo in center -->\n    <div class=\"center-logo\">\n      <img\n        src=\"/assets/images/logo2.png\"\n        alt=\"Loading\"\n        class=\"logo-img\"\n        @error=\"handleImageError\"\n      />\n    </div>\n\n    <!-- Orbiting dots (CSS-animated container for smoothness) -->\n    <div class=\"orbit\" :style=\"orbitStyle\">\n      <div\n        v-for=\"(dot, index) in dots\"\n        :key=\"`dot-${index}`\"\n        :class=\"`dot ${dot.color}`\"\n        :style=\"getDotStyle(index)\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'OrbitingDots',\n\n    props: {\n      // Size options: 'xs', 'sm', 'md', 'lg', 'xl', '2xl'\n      size: { type: String, default: 'sm' },\n      // Custom size in pixels (overrides size prop)\n      customWidth: { type: Number, default: null },\n      customHeight: { type: Number, default: null },\n      // Animation speed in degrees per frame (kept for backwards compatibility)\n      speed: { type: Number, default: 3 }\n    },\n\n    data() {\n      return {\n        updateFrequency: 50, // ms; used to derive duration from speed\n        // 24 dots with logo colors in repeating pattern\n        dots: [\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' },\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' },\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' },\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' },\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' },\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' },\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' },\n          { color: 'logo-red' },\n          { color: 'logo-gold' },\n          { color: 'logo-white' }\n        ]\n      }\n    },\n\n    computed: {\n      sizeClass() {\n        if (this.customWidth || this.customHeight) return ''\n        return `size-${this.size}`\n      },\n      customSize() {\n        if (this.customWidth || this.customHeight) {\n          return {\n            width: this.customWidth ? `${this.customWidth}px` : 'auto',\n            height: this.customHeight ? `${this.customHeight}px` : 'auto'\n          }\n        }\n        return {}\n      },\n      dotSpacing() {\n        return 360 / this.dots.length\n      },\n      orbitRadius() {\n        if (this.customWidth) return Math.max(8, this.customWidth / 4)\n        switch (this.size) {\n          case 'xs':\n            return 6\n          case 'sm':\n            return 8\n          case 'md':\n            return 12\n          case 'lg':\n            return 16\n          case 'xl':\n            return 24\n          case '2xl':\n            return 45\n          default:\n            return 8\n        }\n      },\n      currentContainerSize() {\n        if (this.customWidth) return this.customWidth\n        switch (this.size) {\n          case 'xs':\n            return 16\n          case 'sm':\n            return 20\n          case 'md':\n            return 28\n          case 'lg':\n            return 36\n          case 'xl':\n            return 64\n          case '2xl':\n            return 120\n          default:\n            return 20\n        }\n      },\n      // Convert speed + updateFrequency to a smooth CSS animation duration (seconds)\n      durationSeconds() {\n        const degPerSec = this.speed * (1000 / this.updateFrequency)\n        const sec = degPerSec > 0 ? 360 / degPerSec : 1.5\n        return Math.max(0.8, Math.min(sec, 4)) // clamp for stability\n      },\n      orbitStyle() {\n        return { '--orbit-duration': `${this.durationSeconds}s` }\n      }\n    },\n\n    methods: {\n      getDotStyle(index) {\n        const angle = index * this.dotSpacing\n        const radius = this.orbitRadius\n        return {\n          top: '50%',\n          left: '50%',\n          transform: `translate(-50%, -50%) rotate(${angle}deg) translateX(${radius}px)`\n        }\n      },\n      handleImageError() {\n        const logoEl = this.$el?.querySelector('.center-logo')\n        if (logoEl) logoEl.style.display = 'none'\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .orbiting-dots {\n    position: relative;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  /* Size variants */\n  .size-xs {\n    width: 16px;\n    height: 16px;\n  }\n  .size-sm {\n    width: 20px;\n    height: 20px;\n  }\n  .size-md {\n    width: 28px;\n    height: 28px;\n  }\n  .size-lg {\n    width: 36px;\n    height: 36px;\n  }\n  .size-xl {\n    width: 64px;\n    height: 64px;\n  }\n  .size-2xl {\n    width: 120px;\n    height: 120px;\n  }\n\n  .center-logo {\n    position: relative;\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .logo-img {\n    width: 50%;\n    height: 50%;\n    object-fit: contain;\n    opacity: 0.9;\n  }\n\n  /* Larger logo for 2xl size */\n  .size-2xl .logo-img {\n    width: 60%;\n    height: 60%;\n  }\n\n  .orbit {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    transform-origin: 50% 50%;\n    animation: spin var(--orbit-duration, 1.5s) linear infinite;\n    will-change: transform;\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  .dot {\n    position: absolute;\n    border-radius: 50%;\n    will-change: transform;\n  }\n\n  /* Size-based dot sizing */\n  .size-xs .dot {\n    width: 2px;\n    height: 2px;\n  }\n  .size-sm .dot {\n    width: 2.5px;\n    height: 2.5px;\n  }\n  .size-md .dot {\n    width: 3px;\n    height: 3px;\n  }\n  .size-lg .dot {\n    width: 4px;\n    height: 4px;\n  }\n  .size-xl .dot {\n    width: 6px;\n    height: 6px;\n  }\n  .size-2xl .dot {\n    width: 8px;\n    height: 8px;\n  }\n\n  /* Custom size dot sizing */\n  .orbiting-dots:not([class*='size-']) .dot {\n    width: 3px;\n    height: 3px;\n  }\n\n  /* Logo colors */\n  .dot.logo-red {\n    background: #dc143c;\n  }\n  .dot.logo-gold {\n    background: #ffd700;\n  }\n  .dot.logo-white {\n    background: #ffffff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n  }\n\n  /* For dark backgrounds, make white dots more visible */\n  .dark .dot.logo-white,\n  .bg-dark .dot.logo-white,\n  .text-white .dot.logo-white {\n    background: #ffffff;\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    box-shadow: 0 0 2px rgba(255, 255, 255, 0.5);\n  }\n\n  /* Reduced motion support */\n  @media (prefers-reduced-motion: reduce) {\n    .orbit {\n      /* Stop the spin animation but keep the dots in their arranged circle */\n      animation: none !important;\n    }\n  }\n</style>\n","import { render } from \"./OrbitingDots.vue?vue&type=template&id=088d0f9c&scoped=true\"\nimport script from \"./OrbitingDots.vue?vue&type=script&lang=js\"\nexport * from \"./OrbitingDots.vue?vue&type=script&lang=js\"\n\nimport \"./OrbitingDots.vue?vue&type=style&index=0&id=088d0f9c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-088d0f9c\"]])\n\nexport default __exports__","<template>\n  <div class=\"min-h-screen bg-gray-100\">\n    <OnboardingFlow\n      v-if=\"currentUser\"\n      :user-name=\"currentUser.name\"\n      :user-id=\"currentUser.id\"\n      @onboarding-complete=\"handleOnboardingComplete\"\n      @return-to-login=\"handleReturnToLogin\"\n    />\n  </div>\n</template>\n\n<script>\n  import { useAuth } from '@/composables/useAuth'\n  import { useRouter } from 'vue-router'\n  import OnboardingFlow from './onboarding/OnboardingFlow.vue'\n\n  export default {\n    name: 'OnboardingPage',\n    components: {\n      OnboardingFlow\n    },\n    setup() {\n      const { user: currentUser, logout } = useAuth()\n      const router = useRouter()\n\n      const handleOnboardingComplete = async () => {\n        try {\n          console.log(' Onboarding completed successfully')\n          console.log(' Current user before refresh:', currentUser.value)\n          console.log(' User role:', currentUser.value?.role)\n          console.log(\n            ' User needs_onboarding before refresh:',\n            currentUser.value?.needs_onboarding\n          )\n\n          // CRITICAL: Refresh user data from backend to get updated onboarding status\n          console.log(' Refreshing user data from backend...')\n          const { authAPI } = await import('../utils/apiClient')\n          const userResult = await authAPI.getCurrentUser()\n\n          if (userResult.success) {\n            console.log(' User data refreshed successfully')\n            console.log(' Updated user data:', userResult.data)\n            console.log(' Updated needs_onboarding:', userResult.data.needs_onboarding)\n\n            // Update the auth stores with fresh user data\n            const store = (await import('../store')).default\n            store.commit('auth/SET_USER', userResult.data)\n\n            // Also update Pinia store if available\n            try {\n              const { useAuthStore } = await import('../stores/auth')\n              const piniaAuthStore = useAuthStore()\n              piniaAuthStore.updateUser(userResult.data)\n              console.log(' Auth stores updated with fresh user data')\n            } catch (piniaError) {\n              console.warn(' Could not update Pinia store:', piniaError)\n            }\n\n            // Wait a moment for state to update\n            await new Promise((resolve) => setTimeout(resolve, 200))\n\n            // Use the fresh user data for navigation\n            const freshUser = userResult.data\n            console.log(' Using fresh user data for navigation:', {\n              role: freshUser.role,\n              needs_onboarding: freshUser.needs_onboarding\n            })\n\n            // Redirect to appropriate dashboard based on user role\n            let dashboard = '/user-dashboard' // default\n\n            if (freshUser?.role) {\n              console.log(' Determining dashboard for role:', freshUser.role)\n              switch (freshUser.role) {\n                case 'admin':\n                  dashboard = '/admin-dashboard'\n                  break\n                case 'ict_officer':\n                  dashboard = '/ict-dashboard'\n                  break\n                case 'head_of_department':\n                  dashboard = '/hod-dashboard'\n                  break\n                case 'divisional_director':\n                  dashboard = '/divisional-dashboard'\n                  break\n                case 'ict_director':\n                  dashboard = '/dict-dashboard'\n                  break\n                case 'staff':\n                default:\n                  dashboard = '/user-dashboard'\n                  break\n              }\n            } else {\n              console.warn(' No user role found, using default dashboard')\n            }\n\n            console.log(' Redirecting to dashboard:', dashboard)\n\n            // Add a small delay to ensure the console logs are visible\n            await new Promise((resolve) => setTimeout(resolve, 300))\n\n            const navigationResult = await router.push(dashboard)\n            console.log(' Navigation result:', navigationResult)\n          } else {\n            console.error(' Failed to refresh user data:', userResult.error)\n            throw new Error('Failed to refresh user data: ' + userResult.error)\n          }\n        } catch (error) {\n          console.error(' Error completing onboarding:', error)\n          console.error(' Error details:', {\n            message: error.message,\n            stack: error.stack,\n            currentUser: currentUser.value\n          })\n\n          // Fallback redirect with more logging\n          try {\n            console.log(' Attempting fallback redirect to /user-dashboard')\n            await router.push('/user-dashboard')\n            console.log(' Fallback redirect successful')\n          } catch (fallbackError) {\n            console.error(' Fallback redirect also failed:', fallbackError)\n            // Force page reload as last resort\n            console.log(' Forcing page reload to /user-dashboard')\n            window.location.href = '/user-dashboard'\n          }\n        }\n      }\n\n      const handleReturnToLogin = async () => {\n        // Log out the user and navigate back to login page\n        console.log('OnboardingPage: Logging out and navigating to login page')\n        try {\n          await logout()\n          router.push('/')\n        } catch (error) {\n          console.error('Logout error:', error)\n          // Even if logout fails, still redirect to login\n          router.push('/')\n        }\n      }\n\n      return {\n        currentUser,\n        handleOnboardingComplete,\n        handleReturnToLogin\n      }\n    }\n  }\n</script>\n\"\n","<template>\n  <div>\n    <!-- Loading State -->\n    <SimpleLoadingBanner\n      v-if=\"loading\"\n      :show=\"loading\"\n      :auto-start=\"true\"\n      @loading-complete=\"onLoadingComplete\"\n    />\n\n    <!-- Onboarding Flow (only show when not loading) -->\n    <div v-else>\n      <!-- Terms of Service Popup -->\n      <OnboardingPopup\n        v-if=\"currentStep === 'terms-popup'\"\n        title=\"Welcome to Muhimbili National Hospital\"\n        message=\"Click to read the Organization Terms of Service\"\n        button-text=\"Read Terms of Service\"\n        icon=\"fas fa-file-pen\"\n        :show-return-to-login=\"true\"\n        @click=\"showTermsOfService\"\n        @return-to-login=\"returnToLogin\"\n      />\n\n      <!-- Terms of Service Page -->\n      <TermsOfService\n        v-if=\"currentStep === 'terms-page'\"\n        @terms-accepted=\"onTermsAccepted\"\n        @go-back=\"goToPreviousStep\"\n      />\n\n      <!-- ICT Policy Popup -->\n      <OnboardingPopup\n        v-if=\"currentStep === 'policy-popup'\"\n        title=\"ICT Policy Review\"\n        message=\"Press to read Organization ICT Policy\"\n        button-text=\"Read ICT Policy\"\n        icon=\"fas fa-shield-alt\"\n        :show-return-to-login=\"true\"\n        @click=\"showIctPolicy\"\n        @return-to-login=\"returnToLogin\"\n      />\n\n      <!-- ICT Policy Page -->\n      <IctPolicy\n        v-if=\"currentStep === 'policy-page'\"\n        @policy-accepted=\"onPolicyAccepted\"\n        @go-back=\"goToPreviousStep\"\n      />\n\n      <!-- Declaration Form -->\n      <DeclarationForm\n        v-if=\"currentStep === 'declaration'\"\n        @form-submitted=\"onDeclarationSubmitted\"\n        @go-back=\"goToPreviousStep\"\n      />\n\n      <!-- Success Popup -->\n      <SuccessPopup\n        v-if=\"currentStep === 'success'\"\n        :user-name=\"userName\"\n        :user-role-display=\"userRoleDisplay\"\n        message=\"You have successfully completed the onboarding process. Now you can proceed with your requests.\"\n        @continue=\"completeOnboarding\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\n  import OnboardingPopup from './OnboardingPopup.vue'\n  import TermsOfService from './TermsOfService.vue'\n  import IctPolicy from './IctPolicy.vue'\n  import DeclarationForm from '../views/forms/declarationForm.vue'\n  import SuccessPopup from './SuccessPopup.vue'\n  import SimpleLoadingBanner from '../common/SimpleLoadingBanner.vue'\n\n  export default {\n    name: 'OnboardingFlow',\n    components: {\n      OnboardingPopup,\n      TermsOfService,\n      IctPolicy,\n      DeclarationForm,\n      SuccessPopup,\n      SimpleLoadingBanner\n    },\n    props: {\n      userName: {\n        type: String,\n        required: true\n      },\n      userId: {\n        type: [String, Number],\n        required: true\n      }\n    },\n    emits: ['onboarding-complete', 'return-to-login'],\n    data() {\n      return {\n        currentStep: 'terms-popup', // Always start from beginning\n        loading: true,\n        backendStatus: null,\n        userRoleDisplay: 'Staff Member' // Default role display\n      }\n    },\n\n    async mounted() {\n      await this.initializeOnboardingState()\n    },\n\n    watch: {\n      currentStep(_newStep) {\n        // Save the step whenever it changes\n        this.saveCurrentStep()\n      }\n    },\n    methods: {\n      async initializeOnboardingState() {\n        try {\n          console.log(' Initializing onboarding state for user:', this.userId)\n\n          // Get onboarding status from backend\n          const { authAPI } = await import('../../utils/apiClient')\n          const result = await authAPI.getOnboardingStatus()\n\n          if (result.success) {\n            console.log(' Backend onboarding status:', result.data)\n            this.backendStatus = result.data\n\n            // Set user role display from backend data\n            if (result.data.user_info && result.data.user_info.role_display) {\n              this.userRoleDisplay = result.data.user_info.role_display\n            }\n\n            // If user has completed onboarding, show success\n            if (result.data.progress && result.data.progress.completed) {\n              console.log(' Onboarding already completed, showing success')\n              this.currentStep = 'success'\n            } else {\n              // Determine current step based on backend progress\n              this.currentStep = this.determineCurrentStep(result.data.progress || {})\n              console.log(' Determined current step:', this.currentStep)\n            }\n          } else {\n            console.warn(' Failed to get onboarding status:', result.error)\n            // Fallback to localStorage method\n            this.currentStep = this.getInitialStepFromLocalStorage()\n          }\n        } catch (error) {\n          console.warn(' Error initializing onboarding state:', error)\n          // Fallback to localStorage method\n          this.currentStep = this.getInitialStepFromLocalStorage()\n        } finally {\n          this.loading = false\n          console.log(' Onboarding initialization complete, current step:', this.currentStep)\n        }\n      },\n\n      determineCurrentStep(progress) {\n        // Determine the current step based on backend progress\n        if (!progress.terms_accepted) {\n          return 'terms-popup'\n        } else if (!progress.ict_policy_accepted) {\n          return 'policy-popup'\n        } else if (!progress.declaration_submitted) {\n          return 'declaration'\n        } else if (progress.completed) {\n          return 'success'\n        } else {\n          // Default to terms if something is wrong\n          return 'terms-popup'\n        }\n      },\n\n      getInitialStepFromLocalStorage() {\n        // Fallback method using localStorage (for backward compatibility)\n        const savedStep = localStorage.getItem(`onboarding_step_${this.userId}`)\n\n        // Check if user has already completed onboarding in localStorage\n        const completedUsers = JSON.parse(localStorage.getItem('onboarding_completed') || '[]')\n        if (completedUsers.includes(this.userId)) {\n          return 'success'\n        }\n\n        // Return saved step or default to first step\n        return savedStep || 'terms-popup'\n      },\n\n      saveCurrentStep() {\n        // Save current step to localStorage for this user\n        localStorage.setItem(`onboarding_step_${this.userId}`, this.currentStep)\n      },\n\n      /**\n       * Handle loading banner completion\n       */\n      onLoadingComplete() {\n        console.log(' Onboarding loading banner animation completed')\n      },\n\n      showTermsOfService() {\n        this.currentStep = 'terms-page'\n        this.saveCurrentStep()\n      },\n\n      async onTermsAccepted() {\n        try {\n          // Call backend API to accept terms\n          const { authAPI } = await import('../../utils/apiClient')\n          const result = await authAPI.acceptTerms()\n\n          if (result.success) {\n            this.currentStep = 'policy-popup'\n            this.saveCurrentStep()\n          } else {\n            console.error('Failed to accept terms:', result.error)\n          }\n        } catch (error) {\n          console.error('Error accepting terms:', error)\n          // Continue with local flow for now\n          this.currentStep = 'policy-popup'\n          this.saveCurrentStep()\n        }\n      },\n\n      showIctPolicy() {\n        this.currentStep = 'policy-page'\n        this.saveCurrentStep()\n      },\n\n      async onPolicyAccepted() {\n        try {\n          // Call backend API to accept ICT policy\n          const { authAPI } = await import('../../utils/apiClient')\n          const result = await authAPI.acceptIctPolicy()\n\n          if (result.success) {\n            this.currentStep = 'declaration'\n            this.saveCurrentStep()\n          } else {\n            console.error('Failed to accept ICT policy:', result.error)\n          }\n        } catch (error) {\n          console.error('Error accepting ICT policy:', error)\n          // Continue with local flow for now\n          this.currentStep = 'declaration'\n          this.saveCurrentStep()\n        }\n      },\n\n      async onDeclarationSubmitted(declarationData) {\n        try {\n          // Call backend API to submit declaration\n          const { authAPI } = await import('../../utils/apiClient')\n          const result = await authAPI.submitDeclaration(declarationData)\n\n          if (result.success) {\n            this.currentStep = 'success'\n            this.saveCurrentStep()\n          } else {\n            console.error('Failed to submit declaration:', result.error)\n            // You might want to show an error message to the user\n          }\n        } catch (error) {\n          console.error('Error submitting declaration:', error)\n          // Continue with local flow for now\n          this.currentStep = 'success'\n          this.saveCurrentStep()\n        }\n      },\n\n      async completeOnboarding() {\n        console.log(' OnboardingFlow: completeOnboarding() called')\n\n        // Mark user as having completed onboarding\n        const result = await this.markOnboardingComplete()\n        console.log(' markOnboardingComplete result:', result)\n\n        if (result.success) {\n          console.log(' Onboarding marked as complete, cleaning up and emitting event')\n\n          // Update user role display from completion response if available\n          if (result.data && result.data.user_info && result.data.user_info.role_display) {\n            this.userRoleDisplay = result.data.user_info.role_display\n          }\n\n          // Clean up the step tracking since onboarding is complete\n          this.clearOnboardingStep()\n          console.log(' Emitting onboarding-complete event')\n          this.$emit('onboarding-complete')\n        } else {\n          // Handle error - maybe show a notification\n          console.error(' Failed to complete onboarding process')\n        }\n      },\n\n      returnToLogin() {\n        // Emit event to parent component to handle navigation\n        console.log('OnboardingFlow: Return to login event received')\n        this.$emit('return-to-login')\n      },\n\n      async markOnboardingComplete() {\n        try {\n          // Call backend API to complete onboarding\n          const { authAPI } = await import('../../utils/apiClient')\n          const result = await authAPI.completeOnboarding()\n\n          if (result.success) {\n            // Also store in localStorage for compatibility\n            const completedUsers = JSON.parse(localStorage.getItem('onboarding_completed') || '[]')\n            if (!completedUsers.includes(this.userId)) {\n              completedUsers.push(this.userId)\n              localStorage.setItem('onboarding_completed', JSON.stringify(completedUsers))\n            }\n            return { success: true, data: result.data }\n          } else {\n            console.error('Failed to complete onboarding:', result.error)\n            return { success: false, error: result.error }\n          }\n        } catch (error) {\n          console.error('Error completing onboarding:', error)\n          return { success: false, error: error.message }\n        }\n      },\n\n      clearOnboardingStep() {\n        // Remove the step tracking for this user since onboarding is complete\n        localStorage.removeItem(`onboarding_step_${this.userId}`)\n      },\n\n      resetOnboardingState() {\n        // Method to reset onboarding state if needed (for debugging or user request)\n        localStorage.removeItem(`onboarding_step_${this.userId}`)\n        const completedUsers = JSON.parse(localStorage.getItem('onboarding_completed') || '[]')\n        const updatedUsers = completedUsers.filter((id) => id !== this.userId)\n        localStorage.setItem('onboarding_completed', JSON.stringify(updatedUsers))\n        this.currentStep = 'terms-popup'\n        this.saveCurrentStep()\n      },\n\n      goToPreviousStep() {\n        // Define the step sequence\n        const stepSequence = [\n          'terms-popup',\n          'terms-page',\n          'policy-popup',\n          'policy-page',\n          'declaration',\n          'success'\n        ]\n\n        const currentIndex = stepSequence.indexOf(this.currentStep)\n\n        if (currentIndex > 0) {\n          this.currentStep = stepSequence[currentIndex - 1]\n          this.saveCurrentStep()\n        } else {\n          // If at the first step, emit return to login\n          this.returnToLogin()\n        }\n      }\n    }\n  }\n</script>\n\"\n","<template>\n  <div\n    class=\"fixed inset-0 bg-black bg-opacity-20 flex items-center justify-end z-50 p-4 backdrop-blur-sm\"\n  >\n    <!-- Background Image -->\n    <div\n      class=\"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-800\"\n      style=\"background-image: url('/assets/images/image1.jpg')\"\n    ></div>\n    <div\n      class=\"ultra-glass rounded-3xl max-w-md w-full transform transition-all duration-500 scale-100 animate-slideInRight relative z-10 border border-white border-opacity-30 shadow-2xl mr-8\"\n    >\n      <!-- Body -->\n      <div class=\"transparent-body p-8 text-center relative\">\n        <!-- Body Background Pattern -->\n        <div\n          class=\"absolute inset-0 bg-gradient-to-t from-white from-opacity-2 to-transparent rounded-b-3xl\"\n        ></div>\n\n        <div class=\"relative z-10\">\n          <p\n            class=\"text-white text-2xl leading-relaxed mb-8 drop-shadow-glow font-semibold tracking-wide text-shadow-strong\"\n          >\n            {{ message }}\n          </p>\n\n          <div class=\"space-y-4\">\n            <button\n              @click=\"handleClick\"\n              class=\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 bg-opacity-90 text-white py-5 px-8 rounded-2xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl backdrop-blur-md border border-white border-opacity-20 glow-effect\"\n            >\n              <i class=\"fas fa-arrow-right mr-3\"></i>\n              {{ buttonText }}\n            </button>\n\n            <button\n              v-if=\"showReturnToLogin\"\n              @click=\"handleReturnToLogin\"\n              class=\"w-full bg-gradient-to-r from-gray-600 to-gray-700 bg-opacity-80 text-white py-4 px-8 rounded-2xl font-semibold text-base hover:from-gray-700 hover:to-gray-800 focus:outline-none focus:ring-4 focus:ring-gray-300 focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl backdrop-blur-md border border-white border-opacity-10\"\n            >\n              <i class=\"fas fa-arrow-left mr-3\"></i>\n              Return to Login\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'OnboardingPopup',\n    props: {\n      title: {\n        type: String,\n        required: true\n      },\n      message: {\n        type: String,\n        required: true\n      },\n      buttonText: {\n        type: String,\n        default: 'Continue'\n      },\n      icon: {\n        type: String,\n        default: 'fas fa-info-circle'\n      },\n      showReturnToLogin: {\n        type: Boolean,\n        default: false\n      }\n    },\n    emits: ['click', 'return-to-login'],\n    methods: {\n      handleClick() {\n        this.$emit('click')\n      },\n      handleReturnToLogin() {\n        console.log('OnboardingPopup: Return to login clicked')\n        this.$emit('return-to-login')\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /* Ultra Glass Morphism Effect */\n  .ultra-glass {\n    background: rgba(255, 255, 255, 0.05);\n    backdrop-filter: blur(25px);\n    -webkit-backdrop-filter: blur(25px);\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    box-shadow:\n      0 8px 32px rgba(0, 0, 0, 0.1),\n      inset 0 1px 0 rgba(255, 255, 255, 0.2);\n  }\n\n  /* Transparent Sections */\n  .transparent-header {\n    background: rgba(255, 255, 255, 0.02);\n    backdrop-filter: blur(15px);\n  }\n\n  .transparent-body {\n    background: rgba(255, 255, 255, 0.01);\n    backdrop-filter: blur(10px);\n  }\n\n  /* Animations */\n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(30px) scale(0.95);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0) scale(1);\n    }\n  }\n\n  @keyframes slideInRight {\n    from {\n      opacity: 0;\n      transform: translateX(100px) scale(0.95);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0) scale(1);\n    }\n  }\n\n  @keyframes float {\n    0%,\n    100% {\n      transform: translateY(0px);\n    }\n    50% {\n      transform: translateY(-10px);\n    }\n  }\n\n  @keyframes pulse {\n    0%,\n    100% {\n      opacity: 0.4;\n      transform: scale(1);\n    }\n    50% {\n      opacity: 0.8;\n      transform: scale(1.1);\n    }\n  }\n\n  @keyframes glow {\n    0%,\n    100% {\n      box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);\n    }\n    50% {\n      box-shadow:\n        0 0 30px rgba(59, 130, 246, 0.6),\n        0 0 40px rgba(99, 102, 241, 0.4);\n    }\n  }\n\n  /* Animation Classes */\n  .animate-slideUp {\n    animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);\n  }\n\n  .animate-slideInRight {\n    animation: slideInRight 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);\n  }\n\n  .animate-float {\n    animation: float 3s ease-in-out infinite;\n  }\n\n  .animate-pulse {\n    animation: pulse 2s ease-in-out infinite;\n  }\n\n  .glow-effect {\n    animation: glow 2s ease-in-out infinite;\n  }\n\n  /* Backdrop Effects */\n  .backdrop-blur-sm {\n    backdrop-filter: blur(4px);\n  }\n\n  .backdrop-blur-md {\n    backdrop-filter: blur(12px);\n  }\n\n  /* Opacity Classes */\n  .from-opacity-10 {\n    --tw-gradient-from-opacity: 0.1;\n  }\n\n  .to-opacity-5 {\n    --tw-gradient-to-opacity: 0.05;\n  }\n\n  .from-opacity-5 {\n    --tw-gradient-from-opacity: 0.05;\n  }\n\n  .from-opacity-3 {\n    --tw-gradient-from-opacity: 0.03;\n  }\n\n  .to-opacity-2 {\n    --tw-gradient-to-opacity: 0.02;\n  }\n\n  .from-opacity-2 {\n    --tw-gradient-from-opacity: 0.02;\n  }\n\n  /* Enhanced Hover Effects */\n  button:hover {\n    transform: translateY(-2px) scale(1.05);\n  }\n\n  button:active {\n    transform: translateY(0) scale(1.02);\n  }\n\n  /* Responsive Design */\n  @media (max-width: 640px) {\n    .glass-morphism {\n      margin: 1rem;\n      max-width: calc(100% - 2rem);\n    }\n  }\n\n  /* Enhanced Text Shadows */\n  .drop-shadow-2xl {\n    filter: drop-shadow(0 25px 25px rgba(0, 0, 0, 0.5))\n      drop-shadow(0 0 10px rgba(255, 255, 255, 0.1));\n  }\n\n  .drop-shadow-glow {\n    filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.8)) drop-shadow(0 0 40px rgba(0, 0, 0, 0.6))\n      drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));\n  }\n\n  .text-shadow-strong {\n    text-shadow:\n      0 0 10px rgba(0, 0, 0, 0.9),\n      0 0 20px rgba(0, 0, 0, 0.7),\n      0 0 30px rgba(0, 0, 0, 0.5),\n      2px 2px 4px rgba(0, 0, 0, 0.8),\n      0 0 5px rgba(255, 255, 255, 0.2);\n  }\n\n  /* Border Opacity Classes */\n  .border-opacity-20 {\n    border-color: rgba(255, 255, 255, 0.2);\n  }\n\n  .border-opacity-30 {\n    border-color: rgba(255, 255, 255, 0.3);\n  }\n\n  .border-opacity-10 {\n    border-color: rgba(255, 255, 255, 0.1);\n  }\n</style>\n\"\n","import { render } from \"./OnboardingPopup.vue?vue&type=template&id=6f92fbce&scoped=true\"\nimport script from \"./OnboardingPopup.vue?vue&type=script&lang=js\"\nexport * from \"./OnboardingPopup.vue?vue&type=script&lang=js\"\n\nimport \"./OnboardingPopup.vue?vue&type=style&index=0&id=6f92fbce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6f92fbce\"]])\n\nexport default __exports__","<template>\n  <div class=\"relative\">\n    <!-- Timer and Scroll Indicator -->\n    <div class=\"fixed top-0 left-0 right-0 z-50\">\n      <div class=\"w-full px-6 py-2 flex items-center justify-center min-h-[80px]\">\n        <!-- Timer Active State -->\n        <div v-if=\"!timerFinished\" class=\"flex items-center justify-center w-full max-w-lg\">\n          <div\n            class=\"bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-2xl px-6 py-4 shadow-xl border border-white/20 text-center\"\n          >\n            <div class=\"flex items-center justify-center space-x-4\">\n              <div\n                class=\"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center animate-spin\"\n              >\n                <i class=\"fas fa-clock text-lg\"></i>\n              </div>\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-white mb-1\">\n                  {{ formatTime(timeRemaining) }}\n                </div>\n                <p class=\"text-amber-100 text-xs\">Please wait {{ timeRemaining }}s</p>\n              </div>\n              <div class=\"w-12 h-12\">\n                <svg class=\"w-12 h-12 transform -rotate-90\" viewBox=\"0 0 48 48\">\n                  <circle\n                    cx=\"24\"\n                    cy=\"24\"\n                    r=\"20\"\n                    stroke=\"rgba(255,255,255,0.2)\"\n                    stroke-width=\"3\"\n                    fill=\"none\"\n                  />\n                  <circle\n                    cx=\"24\"\n                    cy=\"24\"\n                    r=\"20\"\n                    stroke=\"white\"\n                    stroke-width=\"3\"\n                    fill=\"none\"\n                    :stroke-dasharray=\"125.66\"\n                    :stroke-dashoffset=\"125.66 - (125.66 * progressPercentage) / 100\"\n                    class=\"transition-all duration-1000 ease-out\"\n                  />\n                </svg>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Scroll Down Indicator (after timer) -->\n        <div v-else class=\"flex items-center justify-center w-full max-w-md\">\n          <div\n            class=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl px-6 py-4 shadow-xl border border-white/20 text-center\"\n          >\n            <div class=\"flex flex-col items-center space-y-2\">\n              <div\n                class=\"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center animate-bounce\"\n              >\n                <i class=\"fas fa-arrow-down text-lg animate-pulse\"></i>\n              </div>\n              <p class=\"text-white font-medium text-sm\">Scroll Down</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Terms of Service Content (with top padding to account for fixed timer) -->\n    <div class=\"pt-24\">\n      <TermsOfServiceMain />\n    </div>\n\n    <!-- Floating Accept Button -->\n    <div class=\"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-40\">\n      <div\n        class=\"bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-2xl px-8 py-4 shadow-2xl border border-white/20\"\n      >\n        <div class=\"flex items-center space-x-4\">\n          <label class=\"flex items-center cursor-pointer\">\n            <input\n              v-model=\"termsAccepted\"\n              type=\"checkbox\"\n              class=\"w-5 h-5 text-emerald-600 border-2 border-white rounded-lg focus:ring-emerald-400 focus:ring-2 mr-3 bg-white/20\"\n            />\n            <span class=\"text-white font-medium\">I accept the Terms of Service</span>\n          </label>\n\n          <button\n            v-if=\"termsAccepted\"\n            @click=\"acceptTerms\"\n            class=\"bg-white text-emerald-600 px-6 py-2 rounded-xl font-bold hover:bg-emerald-50 focus:outline-none focus:ring-4 focus:ring-white/50 transition-all duration-300 shadow-lg transform hover:scale-105\"\n          >\n            <i class=\"fas fa-arrow-right mr-2\"></i>\n            Accept & Proceed\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Back Button -->\n    <button\n      @click=\"goBack\"\n      class=\"fixed bottom-6 left-6 w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2 z-40 group\"\n      title=\"Go Back\"\n    >\n      <i class=\"fas fa-arrow-left text-lg group-hover:animate-pulse\"></i>\n    </button>\n  </div>\n</template>\n\n<script>\n  import TermsOfServiceMain from '../TermsOfService.vue'\n\n  export default {\n    name: 'OnboardingTermsOfService',\n    components: {\n      TermsOfServiceMain\n    },\n    emits: ['terms-accepted', 'go-back'],\n    data() {\n      return {\n        timeRemaining: 5, // 5 seconds timer\n        timerFinished: false,\n        termsAccepted: false,\n        timer: null\n      }\n    },\n    computed: {\n      progressPercentage() {\n        return ((5 - this.timeRemaining) / 5) * 100\n      }\n    },\n    mounted() {\n      this.startTimer()\n    },\n    beforeUnmount() {\n      if (this.timer) {\n        clearInterval(this.timer)\n      }\n    },\n    methods: {\n      startTimer() {\n        this.timer = setInterval(() => {\n          if (this.timeRemaining > 0) {\n            this.timeRemaining--\n          } else {\n            this.timerFinished = true\n            clearInterval(this.timer)\n          }\n        }, 1000)\n      },\n      formatTime(seconds) {\n        const minutes = Math.floor(seconds / 60)\n        const remainingSeconds = seconds % 60\n        return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n      },\n      acceptTerms() {\n        // Show success message\n        this.showSuccessMessage(\n          'Terms of Service accepted successfully! You may now proceed with your access request.'\n        )\n\n        // Emit event after a short delay to show the message\n        setTimeout(() => {\n          this.$emit('terms-accepted')\n        }, 2000)\n      },\n\n      showSuccessMessage(message) {\n        // Create success toast notification\n        const toast = document.createElement('div')\n        toast.className =\n          'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-8 py-6 rounded-2xl shadow-2xl z-50 max-w-md text-center border border-white/20'\n        toast.innerHTML = `\n        <div class=\"flex items-center justify-center mb-3\">\n          <div class=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-3\">\n            <i class=\"fas fa-check-circle text-2xl\"></i>\n          </div>\n          <h3 class=\"text-xl font-bold\">Success!</h3>\n        </div>\n        <p class=\"text-emerald-100 leading-relaxed\">${message}</p>\n      `\n\n        // Add backdrop\n        const backdrop = document.createElement('div')\n        backdrop.className = 'fixed inset-0 bg-black/50 z-40 backdrop-blur-sm'\n\n        document.body.appendChild(backdrop)\n        document.body.appendChild(toast)\n\n        // Remove after 2 seconds\n        setTimeout(() => {\n          if (document.body.contains(toast)) {\n            document.body.removeChild(toast)\n          }\n          if (document.body.contains(backdrop)) {\n            document.body.removeChild(backdrop)\n          }\n        }, 2000)\n      },\n      goBack() {\n        this.$emit('go-back')\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /* Ensure the timer overlay stays on top */\n  .fixed {\n    position: fixed;\n    z-index: 50;\n  }\n</style>\n\"\n","import { render } from \"./TermsOfService.vue?vue&type=template&id=4fec90a4&scoped=true\"\nimport script from \"./TermsOfService.vue?vue&type=script&lang=js\"\nexport * from \"./TermsOfService.vue?vue&type=script&lang=js\"\n\nimport \"./TermsOfService.vue?vue&type=style&index=0&id=4fec90a4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fec90a4\"]])\n\nexport default __exports__","<template>\n  <div class=\"relative\">\n    <!-- Timer and Scroll Indicator -->\n    <div class=\"fixed top-0 left-0 right-0 z-50\">\n      <div class=\"w-full px-6 py-2 flex items-center justify-center min-h-[80px]\">\n        <!-- Timer Active State -->\n        <div v-if=\"!timerFinished\" class=\"flex items-center justify-center w-full max-w-lg\">\n          <div\n            class=\"bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-2xl px-6 py-4 shadow-xl border border-white/20 text-center\"\n          >\n            <div class=\"flex items-center justify-center space-x-4\">\n              <div\n                class=\"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center animate-spin\"\n              >\n                <i class=\"fas fa-clock text-lg\"></i>\n              </div>\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-white mb-1\">\n                  {{ formatTime(timeRemaining) }}\n                </div>\n                <p class=\"text-amber-100 text-xs\">Please wait {{ timeRemaining }}s</p>\n              </div>\n              <div class=\"w-12 h-12\">\n                <svg class=\"w-12 h-12 transform -rotate-90\" viewBox=\"0 0 48 48\">\n                  <circle\n                    cx=\"24\"\n                    cy=\"24\"\n                    r=\"20\"\n                    stroke=\"rgba(255,255,255,0.2)\"\n                    stroke-width=\"3\"\n                    fill=\"none\"\n                  />\n                  <circle\n                    cx=\"24\"\n                    cy=\"24\"\n                    r=\"20\"\n                    stroke=\"white\"\n                    stroke-width=\"3\"\n                    fill=\"none\"\n                    :stroke-dasharray=\"125.66\"\n                    :stroke-dashoffset=\"125.66 - (125.66 * progressPercentage) / 100\"\n                    class=\"transition-all duration-1000 ease-out\"\n                  />\n                </svg>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Scroll Down Indicator (after timer) -->\n        <div v-else class=\"flex items-center justify-center w-full max-w-md\">\n          <div\n            class=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl px-6 py-4 shadow-xl border border-white/20 text-center\"\n          >\n            <div class=\"flex flex-col items-center space-y-2\">\n              <div\n                class=\"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center animate-bounce\"\n              >\n                <i class=\"fas fa-arrow-down text-lg animate-pulse\"></i>\n              </div>\n              <p class=\"text-white font-medium text-sm\">Scroll Down</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main ICT Policy Content (with top padding to account for fixed timer) -->\n    <div class=\"pt-24\">\n      <IctPolicyMain />\n    </div>\n\n    <!-- Floating Accept Button -->\n    <div class=\"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-40\">\n      <div\n        class=\"bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-2xl px-8 py-4 shadow-2xl border border-white/20\"\n      >\n        <div class=\"flex items-center space-x-4\">\n          <label class=\"flex items-center cursor-pointer\">\n            <input\n              v-model=\"policyAccepted\"\n              type=\"checkbox\"\n              class=\"w-5 h-5 text-emerald-600 border-2 border-white rounded-lg focus:ring-emerald-400 focus:ring-2 mr-3 bg-white/20\"\n            />\n            <span class=\"text-white font-medium\">I accept the ICT Policy</span>\n          </label>\n\n          <button\n            v-if=\"policyAccepted\"\n            @click=\"acceptPolicy\"\n            class=\"bg-white text-emerald-600 px-6 py-2 rounded-xl font-bold hover:bg-emerald-50 focus:outline-none focus:ring-4 focus:ring-white/50 transition-all duration-300 shadow-lg transform hover:scale-105\"\n          >\n            <i class=\"fas fa-arrow-right mr-2\"></i>\n            Accept & Proceed\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Back Button -->\n    <button\n      @click=\"goBack\"\n      class=\"fixed bottom-6 left-6 w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2 z-40 group\"\n      title=\"Go Back\"\n    >\n      <i class=\"fas fa-arrow-left text-lg group-hover:animate-pulse\"></i>\n    </button>\n  </div>\n</template>\n\n<script>\n  import IctPolicyMain from '../IctPolicy.vue'\n\n  export default {\n    name: 'OnboardingIctPolicy',\n    components: {\n      IctPolicyMain\n    },\n    emits: ['policy-accepted', 'go-back'],\n    data() {\n      return {\n        timeRemaining: 5, // 5 seconds timer\n        timerFinished: false,\n        policyAccepted: false,\n        timer: null\n      }\n    },\n    computed: {\n      progressPercentage() {\n        return ((5 - this.timeRemaining) / 5) * 100\n      }\n    },\n    mounted() {\n      this.startTimer()\n    },\n    beforeUnmount() {\n      if (this.timer) {\n        clearInterval(this.timer)\n      }\n    },\n    methods: {\n      startTimer() {\n        this.timer = setInterval(() => {\n          if (this.timeRemaining > 0) {\n            this.timeRemaining--\n          } else {\n            this.timerFinished = true\n            clearInterval(this.timer)\n          }\n        }, 1000)\n      },\n      formatTime(seconds) {\n        const minutes = Math.floor(seconds / 60)\n        const remainingSeconds = seconds % 60\n        return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n      },\n      acceptPolicy() {\n        // Show success message\n        this.showSuccessMessage(\n          'ICT Policy accepted successfully! You may now proceed with your access request.'\n        )\n\n        // Emit event after a short delay to show the message\n        setTimeout(() => {\n          this.$emit('policy-accepted')\n        }, 2000)\n      },\n\n      showSuccessMessage(message) {\n        // Create success toast notification\n        const toast = document.createElement('div')\n        toast.className =\n          'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-8 py-6 rounded-2xl shadow-2xl z-50 max-w-md text-center border border-white/20'\n        toast.innerHTML = `\n        <div class=\"flex items-center justify-center mb-3\">\n          <div class=\"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mr-3\">\n            <i class=\"fas fa-check-circle text-2xl\"></i>\n          </div>\n          <h3 class=\"text-xl font-bold\">Success!</h3>\n        </div>\n        <p class=\"text-emerald-100 leading-relaxed\">${message}</p>\n      `\n\n        // Add backdrop\n        const backdrop = document.createElement('div')\n        backdrop.className = 'fixed inset-0 bg-black/50 z-40 backdrop-blur-sm'\n\n        document.body.appendChild(backdrop)\n        document.body.appendChild(toast)\n\n        // Remove after 2 seconds\n        setTimeout(() => {\n          if (document.body.contains(toast)) {\n            document.body.removeChild(toast)\n          }\n          if (document.body.contains(backdrop)) {\n            document.body.removeChild(backdrop)\n          }\n        }, 2000)\n      },\n      goBack() {\n        this.$emit('go-back')\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /* Ensure the timer overlay stays on top */\n  .fixed {\n    position: fixed;\n    z-index: 50;\n  }\n</style>\n\"\n","import { render } from \"./IctPolicy.vue?vue&type=template&id=22f64f30&scoped=true\"\nimport script from \"./IctPolicy.vue?vue&type=script&lang=js\"\nexport * from \"./IctPolicy.vue?vue&type=script&lang=js\"\n\nimport \"./IctPolicy.vue?vue&type=style&index=0&id=22f64f30&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22f64f30\"]])\n\nexport default __exports__","<template>\n  <div>\n    <!-- Simple Loading Banner Component -->\n    <SimpleLoadingBanner\n      ref=\"loadingBanner\"\n      v-if=\"isLoadingProfile\"\n      :show=\"isLoadingProfile\"\n      :auto-start=\"true\"\n      @loading-complete=\"onLoadingComplete\"\n    />\n\n    <div\n      v-show=\"!isLoadingProfile\"\n      class=\"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-teal-900 py-2 px-4 relative overflow-hidden\"\n      role=\"main\"\n      aria-label=\"Staff Declaration Form for Muhimbili National Hospital\"\n      :aria-busy=\"isLoadingProfile\"\n    >\n      <!-- Medical Background Pattern -->\n      <div class=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <!-- Medical Cross Pattern -->\n        <div class=\"absolute inset-0 opacity-5\">\n          <div class=\"grid grid-cols-12 gap-8 h-full transform rotate-45\">\n            <div\n              v-for=\"i in backgroundDots\"\n              :key=\"i.id\"\n              class=\"bg-white rounded-full w-2 h-2 animate-pulse\"\n              :style=\"{ animationDelay: i.delay }\"\n            ></div>\n          </div>\n        </div>\n        <!-- Floating medical icons -->\n        <div class=\"absolute inset-0\">\n          <div\n            v-for=\"icon in floatingIcons\"\n            :key=\"icon.id\"\n            class=\"absolute text-white opacity-10 animate-float\"\n            :style=\"{\n              left: icon.left,\n              top: icon.top,\n              animationDelay: icon.animationDelay,\n              animationDuration: icon.animationDuration,\n              fontSize: icon.fontSize\n            }\"\n          >\n            <i :class=\"icon.iconClass\"></i>\n          </div>\n        </div>\n      </div>\n\n      <div\n        class=\"max-w-none mx-auto relative z-10 px-4 sm:px-6 lg:px-8 xl:px-12 2xl:px-16 3xl:px-20\"\n      >\n        <!-- Header Section -->\n        <div class=\"medical-glass-card rounded-t-3xl p-3 mb-0 border-b border-blue-300/30\">\n          <div class=\"flex justify-between items-center\">\n            <!-- Left Logo -->\n            <div class=\"w-16 h-16 mr-3 transform hover:scale-110 transition-transform duration-300\">\n              <div\n                class=\"w-full h-full bg-gradient-to-br from-blue-500/20 to-teal-500/20 rounded-2xl backdrop-blur-sm border-2 border-blue-300/40 flex items-center justify-center shadow-2xl hover:shadow-blue-500/25\"\n              >\n                <img\n                  src=\"/assets/images/ngao2.png\"\n                  alt=\"National Shield\"\n                  class=\"max-w-12 max-h-12 object-contain\"\n                />\n              </div>\n            </div>\n\n            <!-- Center Content -->\n            <div class=\"text-center flex-1\">\n              <h1\n                class=\"text-2xl font-bold text-white mb-1 tracking-wide drop-shadow-lg animate-fade-in\"\n              >\n                MUHIMBILI NATIONAL HOSPITAL\n              </h1>\n              <div class=\"relative inline-block mb-1\">\n                <div\n                  class=\"bg-gradient-to-r from-red-600 to-red-700 text-white px-4 py-1 rounded-full text-base font-bold shadow-2xl transform hover:scale-105 transition-all duration-300 border-2 border-red-400/60\"\n                >\n                  <span class=\"relative z-10 flex items-center gap-1\">\n                    <i class=\"fas fa-shield-alt text-red-200 text-xs\"></i>\n                    RESTRICTED\n                  </span>\n                  <div\n                    class=\"absolute inset-0 bg-gradient-to-r from-red-700 to-red-800 rounded-full opacity-0 hover:opacity-100 transition-opacity duration-300\"\n                  ></div>\n                </div>\n              </div>\n              <h2\n                class=\"text-2xl font-bold text-blue-100 tracking-wide drop-shadow-md animate-fade-in-delay\"\n              >\n                DECLARATIONS BY STAFF\n              </h2>\n            </div>\n\n            <!-- Right Logo -->\n            <div class=\"w-16 h-16 ml-3 transform hover:scale-110 transition-transform duration-300\">\n              <div\n                class=\"w-full h-full bg-gradient-to-br from-teal-500/20 to-blue-500/20 rounded-2xl backdrop-blur-sm border-2 border-teal-300/40 flex items-center justify-center shadow-2xl hover:shadow-teal-500/25\"\n              >\n                <img\n                  src=\"/assets/images/logo2.png\"\n                  alt=\"Muhimbili Logo\"\n                  class=\"max-w-12 max-h-12 object-contain\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Main Form -->\n        <div class=\"medical-glass-card rounded-b-3xl overflow-hidden\">\n          <form\n            @submit.prevent=\"submitDeclaration\"\n            class=\"p-3 space-y-3\"\n            role=\"form\"\n            aria-labelledby=\"form-title\"\n            novalidate\n          >\n            <!-- Declaration Text -->\n            <div\n              class=\"medical-card bg-gradient-to-r from-blue-600/25 to-blue-700/25 border-2 border-blue-400/40 p-2 rounded-xl backdrop-blur-sm hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group\"\n            >\n              <div class=\"flex items-start space-x-4\">\n                <div class=\"flex-shrink-0\">\n                  <div\n                    class=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 border border-blue-300/50\"\n                  >\n                    <i class=\"fas fa-info-circle text-white text-lg\"></i>\n                  </div>\n                </div>\n                <div class=\"flex-1\">\n                  <h3 id=\"form-title\" class=\"text-base font-bold text-white mb-1 flex items-center\">\n                    <i class=\"fas fa-clipboard-list mr-2 text-blue-300\" aria-hidden=\"true\"></i>\n                    Declaration Information\n                  </h3>\n                  <div class=\"text-blue-100 leading-relaxed space-y-1\">\n                    <p class=\"text-base font-medium\">\n                      These declarations have been designed to certify that users acknowledge that\n                      they are aware of Muhimbili National Hospital Acceptable Information and\n                      Communication Technology use policy and agree to abide by their terms.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Personal Information Section -->\n            <div\n              class=\"medical-card bg-gradient-to-r from-blue-600/25 to-blue-700/25 border-2 border-blue-400/40 p-2 rounded-xl backdrop-blur-sm hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group\"\n            >\n              <div class=\"flex items-center justify-between mb-2\">\n                <div class=\"flex items-center space-x-3\">\n                  <div\n                    class=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 border border-blue-300/50\"\n                  >\n                    <i class=\"fas fa-user-md text-white text-lg\"></i>\n                  </div>\n                  <h3 class=\"text-xl font-bold text-white flex items-center\">\n                    <i class=\"fas fa-id-card mr-2 text-blue-300\"></i>\n                    Personal Information\n                  </h3>\n                </div>\n                <!-- Auto-population status -->\n                <div class=\"flex items-center space-x-2\">\n                  <span\n                    v-if=\"isLoadingProfile\"\n                    class=\"text-sm text-blue-300 font-medium bg-blue-500/20 px-2 py-1 rounded-full border border-blue-400/30 animate-pulse\"\n                  >\n                    <OrbitingDots size=\"xs\" class=\"mr-1\" />\n                    Loading...\n                  </span>\n                  <span\n                    v-else-if=\"autoPopulated\"\n                    class=\"text-base text-green-300 font-medium bg-green-500/20 px-2 py-1 rounded-full border border-green-400/30\"\n                  >\n                    <i class=\"fas fa-check mr-1 text-sm\"></i>\n                    Auto-populated\n                  </span>\n                  <span\n                    v-else-if=\"profileLoadError\"\n                    class=\"text-xs text-yellow-300 font-medium bg-yellow-500/20 px-2 py-1 rounded-full border border-yellow-400/30\"\n                  >\n                    <i class=\"fas fa-exclamation-triangle mr-1 text-xs\"></i>\n                    Manual entry\n                  </span>\n                </div>\n              </div>\n\n              <div class=\"grid grid-cols-1 lg:grid-cols-4 gap-4 md:gap-6\">\n                <!-- Full Name -->\n                <div class=\"\">\n                  <label\n                    class=\"block text-base font-bold text-blue-100 mb-2 flex items-center justify-between\"\n                  >\n                    <span>Full Name <span class=\"text-red-400\">*</span></span>\n                    <span\n                      v-if=\"autoPopulated && formData.fullName && !isLoadingProfile\"\n                      class=\"text-xs text-green-300 font-medium bg-green-500/20 px-1.5 py-0.5 rounded-full border border-green-400/30 flex items-center gap-1\"\n                    >\n                      <i class=\"fas fa-lock text-xs\"></i>\n                      Protected\n                    </span>\n                  </label>\n                  <div class=\"relative\">\n                    <input\n                      id=\"full-name\"\n                      v-model=\"formData.fullName\"\n                      type=\"text\"\n                      class=\"medical-input w-full px-2 py-1.5 border-2 rounded-lg focus:outline-none text-white placeholder-blue-200/60 backdrop-blur-sm transition-all duration-300 text-sm\"\n                      :class=\"{\n                        'bg-blue-500/30 border-blue-400/60 focus:border-blue-500 hover:bg-blue-500/40 focus:bg-blue-500/50 focus:shadow-lg focus:shadow-blue-500/30':\n                          !autoPopulated || isLoadingProfile,\n                        'bg-green-500/20 border-green-400/60 cursor-not-allowed':\n                          autoPopulated && formData.fullName && !isLoadingProfile\n                      }\"\n                      :placeholder=\"\n                        isLoadingProfile\n                          ? 'Loading your name...'\n                          : autoPopulated && formData.fullName\n                            ? 'Auto-populated from your profile'\n                            : 'Enter your full name'\n                      \"\n                      :disabled=\"isLoadingProfile || (autoPopulated && formData.fullName)\"\n                      :readonly=\"autoPopulated && formData.fullName && !isLoadingProfile\"\n                      :aria-describedby=\"\n                        autoPopulated && formData.fullName ? 'full-name-help' : undefined\n                      \"\n                      aria-required=\"true\"\n                      autocomplete=\"name\"\n                      required\n                    />\n                    <div\n                      class=\"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/10 to-blue-600/10 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\n                    ></div>\n                    <!-- Loading/Success indicator -->\n                    <div\n                      class=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-300/70\"\n                    >\n                      <OrbitingDots v-if=\"isLoadingProfile\" size=\"xs\" />\n                      <i\n                        v-else-if=\"autoPopulated && formData.fullName\"\n                        class=\"fas fa-check text-green-400 text-xs\"\n                      ></i>\n                    </div>\n                  </div>\n                  <!-- Help text for protected field -->\n                  <p\n                    id=\"full-name-help\"\n                    v-if=\"autoPopulated && formData.fullName && !isLoadingProfile\"\n                    class=\"text-xs text-green-200/70 mt-1 italic flex items-center\"\n                    role=\"status\"\n                  >\n                    <i class=\"fas fa-info-circle mr-1 text-xs\" aria-hidden=\"true\"></i>\n                    Auto-populated, cannot be edited\n                  </p>\n                </div>\n\n                <!-- PF Number -->\n                <div class=\"\">\n                  <label\n                    class=\"block text-base font-bold text-blue-100 mb-2 flex items-center justify-between\"\n                  >\n                    <span>PF Number <span class=\"text-red-400\">*</span></span>\n                    <span\n                      v-if=\"autoPopulated && formData.pfNumber && !isLoadingProfile\"\n                      class=\"text-xs text-green-300 font-medium bg-green-500/20 px-1.5 py-0.5 rounded-full border border-green-400/30 flex items-center gap-1\"\n                    >\n                      <i class=\"fas fa-lock text-xs\"></i>\n                      Protected\n                    </span>\n                  </label>\n                  <div class=\"relative\">\n                    <input\n                      id=\"pf-number\"\n                      v-model=\"formData.pfNumber\"\n                      type=\"text\"\n                      class=\"medical-input w-full px-2 py-1.5 border-2 rounded-lg focus:outline-none text-white placeholder-blue-200/60 backdrop-blur-sm transition-all duration-300 text-sm\"\n                      :class=\"{\n                        'bg-blue-500/30 border-blue-400/60 focus:border-blue-500 hover:bg-blue-500/40 focus:bg-blue-500/50 focus:shadow-lg focus:shadow-blue-500/30':\n                          !autoPopulated || isLoadingProfile,\n                        'bg-green-500/20 border-green-400/60 cursor-not-allowed':\n                          autoPopulated && formData.pfNumber && !isLoadingProfile\n                      }\"\n                      :placeholder=\"\n                        isLoadingProfile\n                          ? 'Loading your PF Number...'\n                          : autoPopulated && formData.pfNumber\n                            ? 'Auto-populated from your profile'\n                            : 'Enter PF Number'\n                      \"\n                      :disabled=\"isLoadingProfile || (autoPopulated && formData.pfNumber)\"\n                      :readonly=\"autoPopulated && formData.pfNumber && !isLoadingProfile\"\n                      :aria-describedby=\"\n                        autoPopulated && formData.pfNumber ? 'pf-number-help' : undefined\n                      \"\n                      aria-required=\"true\"\n                      autocomplete=\"off\"\n                      pattern=\"[-A-Za-z0-9/]+\"\n                      required\n                    />\n                    <div\n                      class=\"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/10 to-blue-600/10 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\n                    ></div>\n                    <!-- Loading/Success indicator -->\n                    <div\n                      class=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-300/70\"\n                    >\n                      <OrbitingDots v-if=\"isLoadingProfile\" size=\"xs\" />\n                      <i\n                        v-else-if=\"autoPopulated && formData.pfNumber\"\n                        class=\"fas fa-check text-green-400 text-xs\"\n                      ></i>\n                    </div>\n                  </div>\n                  <!-- Help text for protected field -->\n                  <p\n                    id=\"pf-number-help\"\n                    v-if=\"autoPopulated && formData.pfNumber && !isLoadingProfile\"\n                    class=\"text-xs text-green-200/70 mt-1 italic flex items-center\"\n                    role=\"status\"\n                  >\n                    <i class=\"fas fa-info-circle mr-1 text-xs\" aria-hidden=\"true\"></i>\n                    Auto-populated, cannot be edited\n                  </p>\n                </div>\n\n                <!-- Department/Unit -->\n                <div class=\"\">\n                  <label\n                    class=\"block text-base font-bold text-blue-100 mb-2 flex items-center justify-between\"\n                  >\n                    <span>Department/Unit <span class=\"text-red-400\">*</span></span>\n                    <span\n                      v-if=\"autoPopulated && formData.department && !isLoadingProfile\"\n                      class=\"text-xs text-green-300 font-medium bg-green-500/20 px-1.5 py-0.5 rounded-full border border-green-400/30 flex items-center gap-1\"\n                    >\n                      <i class=\"fas fa-lock text-xs\"></i>\n                      Protected\n                    </span>\n                  </label>\n                  <div class=\"relative\">\n                    <select\n                      id=\"department\"\n                      v-model=\"formData.department\"\n                      class=\"medical-input w-full px-2 py-1.5 bg-blue-500/30 border-2 border-blue-400/60 rounded-lg focus:border-blue-500 focus:outline-none text-white backdrop-blur-sm transition-all duration-300 hover:bg-blue-500/40 focus:bg-blue-500/50 focus:shadow-lg focus:shadow-blue-500/30 appearance-none text-sm\"\n                      :disabled=\"isLoadingProfile || (autoPopulated && formData.department)\"\n                      :readonly=\"autoPopulated && formData.department && !isLoadingProfile\"\n                      :aria-describedby=\"\n                        autoPopulated && formData.department ? 'department-help' : undefined\n                      \"\n                      aria-required=\"true\"\n                      required\n                    >\n                      <option value=\"\" disabled class=\"bg-gray-800 text-gray-300\">\n                        Select your department\n                      </option>\n                      <option\n                        v-for=\"dept in departments\"\n                        :key=\"dept\"\n                        :value=\"dept\"\n                        class=\"bg-gray-800 text-white\"\n                      >\n                        {{ dept }}\n                      </option>\n                    </select>\n                    <div\n                      class=\"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none\"\n                    >\n                      <i class=\"fas fa-chevron-down text-blue-300\"></i>\n                    </div>\n                    <div\n                      class=\"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/10 to-blue-600/10 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\n                    ></div>\n                  </div>\n                  <p\n                    id=\"department-help\"\n                    v-if=\"autoPopulated && formData.department && !isLoadingProfile\"\n                    class=\"text-xs text-green-200/70 mt-1 italic flex items-center\"\n                    role=\"status\"\n                  >\n                    <i class=\"fas fa-info-circle mr-1 text-xs\" aria-hidden=\"true\"></i>\n                    Auto-populated, cannot be edited\n                  </p>\n                </div>\n\n                <!-- Job Title -->\n                <div class=\"\">\n                  <label class=\"block text-base font-bold text-blue-100 mb-2\">\n                    Job Title <span class=\"text-red-400\">*</span>\n                  </label>\n                  <div class=\"relative\">\n                    <input\n                      id=\"job-title\"\n                      v-model=\"formData.jobTitle\"\n                      type=\"text\"\n                      class=\"medical-input w-full px-2 py-1.5 bg-blue-500/30 border-2 border-blue-400/60 rounded-lg focus:border-blue-500 focus:outline-none text-white placeholder-blue-200/60 backdrop-blur-sm transition-all duration-300 hover:bg-blue-500/40 focus:bg-blue-500/50 focus:shadow-lg focus:shadow-blue-500/30 text-sm\"\n                      placeholder=\"Enter your job title\"\n                      aria-required=\"true\"\n                      autocomplete=\"organization-title\"\n                      required\n                    />\n                    <div\n                      class=\"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-500/10 to-blue-600/10 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\n                    ></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Declaration Statement -->\n            <div\n              class=\"medical-card bg-gradient-to-r from-blue-600/25 to-blue-700/25 border-2 border-blue-400/40 p-3 rounded-xl backdrop-blur-sm hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group\"\n            >\n              <div class=\"flex items-center space-x-2 mb-2\">\n                <div\n                  class=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 border border-blue-300/50\"\n                >\n                  <i class=\"fas fa-file-contract text-white text-xs\"></i>\n                </div>\n                <h3 class=\"text-base font-bold text-white flex items-center\">\n                  <i class=\"fas fa-scroll mr-2 text-blue-300 text-xs\"></i>\n                  Declaration Statement\n                </h3>\n              </div>\n\n              <div class=\"bg-white/15 p-3 rounded-xl backdrop-blur-sm border-2 border-blue-300/30\">\n                <div class=\"text-blue-100 leading-relaxed text-lg space-y-3 text-justify\">\n                  <p>\n                    I\n                    <strong class=\"text-red-500\">{{\n                      formData.fullName || '______________________'\n                    }}</strong>\n                    PF No.\n                    <strong class=\"text-red-500\">{{ formData.pfNumber || '______' }}</strong>\n                    acknowledge that Muhimbili National Hospital acceptable ICT use policy has been\n                    made available to me for adequate review and understanding.\n                  </p>\n\n                  <p>\n                    I certify that I have been given ample opportunity to read and understand it,\n                    and ask questions about my responsibilities on it. I am, therefore, aware that I\n                    am accountable to all its terms and requirements; and that I shall abide by\n                    them.\n                  </p>\n\n                  <p>\n                    I also understand that failure to abide by them; Muhimbili National Hospital\n                    shall take against me appropriate disciplinary action or legal action, or both,\n                    as the case may be.\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <!-- Signature Section -->\n            <div\n              class=\"medical-card bg-gradient-to-r from-blue-600/25 to-blue-700/25 border-2 border-blue-400/40 p-2 rounded-xl backdrop-blur-sm hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group\"\n            >\n              <div class=\"flex items-center space-x-2 mb-1\">\n                <div\n                  class=\"w-6 h-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 border border-blue-300/50\"\n                >\n                  <i class=\"fas fa-signature text-white text-xs\"></i>\n                </div>\n                <h3 class=\"text-sm font-bold text-white flex items-center\">\n                  <i class=\"fas fa-pen-fancy mr-1 text-blue-300 text-xs\"></i>\n                  Digital Signature\n                </h3>\n              </div>\n\n              <div\n                class=\"grid grid-cols-1 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-2 md:gap-3\"\n              >\n                <!-- Digital Signature Action -->\n                <div class=\"md:col-span-2 xl:col-span-3 2xl:col-span-5\">\n                  <label class=\"block text-sm font-bold text-blue-100 mb-1\">\n                    Signature <span class=\"text-red-400\">*</span>\n                  </label>\n\n                  <div\n                    class=\"w-full px-2 py-1 border-2 border-blue-400/60 rounded-lg bg-blue-500/20 backdrop-blur-sm transition-all duration-300 shadow-lg hover:shadow-xl hover:bg-blue-500/30 min-h-[32px] flex flex-col sm:flex-row sm:items-center gap-2\"\n                  >\n                    <button\n                      type=\"button\"\n                      @click=\"signDeclaration\"\n                      :disabled=\"isSigning || hasUserSigned\"\n                      class=\"px-2.5 py-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-xs sm:text-sm font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 flex items-center gap-2 shadow hover:shadow-lg transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none border border-blue-400/60 focus:ring-1 focus:ring-blue-300\"\n                      :aria-label=\"\n                        hasUserSigned\n                          ? 'Declaration already signed'\n                          : 'Digitally sign this declaration'\n                      \"\n                    >\n                      <OrbitingDots v-if=\"isSigning\" size=\"xs\" />\n                      <i\n                        v-else\n                        :class=\"hasUserSigned ? 'fas fa-check' : 'fas fa-pen-fancy'\"\n                        class=\"text-xs\"\n                      ></i>\n                      <span>\n                        {{ hasUserSigned ? 'Signed' : 'Click to Sign Digitally' }}\n                      </span>\n                    </button>\n\n                    <div class=\"flex-1 text-xs leading-snug\">\n                      <p v-if=\"hasUserSigned\" class=\"text-green-300 font-medium\">\n                        Signed on {{ formattedSignedAt }}\n                      </p>\n                      <p v-else class=\"text-blue-100/80\">\n                        You must digitally sign this declaration before submitting.\n                      </p>\n                      <p\n                        v-if=\"signatureToken\"\n                        class=\"text-[10px] text-blue-200/80 mt-0.5 break-all\"\n                      >\n                        Token: {{ signatureTokenPreview }}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                <!-- Date -->\n                <div class=\"2xl:col-span-1\">\n                  <label class=\"block text-sm font-bold text-blue-100 mb-1\">\n                    Date <span class=\"text-red-400\">*</span>\n                  </label>\n                  <div class=\"relative\">\n                    <input\n                      id=\"signature-date\"\n                      v-model=\"formData.date\"\n                      type=\"date\"\n                      class=\"medical-input w-full px-2 py-1.5 bg-blue-500/30 border-2 border-blue-400/60 rounded-lg focus:border-blue-500 focus:outline-none text-white backdrop-blur-sm transition-all duration-300 hover:bg-blue-500/40 focus:bg-blue-500/50 focus:shadow-lg focus:shadow-blue-500/30 text-sm\"\n                      aria-required=\"true\"\n                      :max=\"maxFutureDate\"\n                      required\n                    />\n                    <div\n                      class=\"absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-500/10 to-teal-500/10 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\n                    ></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Agreement Checkbox -->\n            <div\n              class=\"medical-card bg-gradient-to-r from-red-600/25 to-rose-600/25 border-2 border-red-400/40 p-3 rounded-xl backdrop-blur-sm hover:shadow-xl hover:shadow-red-500/20 transition-all duration-300 group\"\n            >\n              <div class=\"flex items-start space-x-4\">\n                <div class=\"flex-shrink-0 mt-1\">\n                  <div class=\"relative\">\n                    <input\n                      v-model=\"formData.agreement\"\n                      type=\"checkbox\"\n                      id=\"agreement\"\n                      class=\"w-7 h-7 text-red-500 bg-white/15 border-2 border-red-300/40 rounded-lg focus:ring-red-400 focus:ring-2 backdrop-blur-sm transition-all duration-300\"\n                      aria-required=\"true\"\n                      aria-describedby=\"agreement-text\"\n                      required\n                    />\n                    <div\n                      class=\"absolute inset-0 rounded-lg bg-gradient-to-r from-red-500/10 to-rose-500/10 opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\n                    ></div>\n                  </div>\n                </div>\n                <label for=\"agreement\" class=\"text-base text-blue-100 leading-relaxed flex-1\">\n                  <span class=\"font-bold text-red-300 flex items-center gap-2\">\n                    <i class=\"fas fa-exclamation-triangle\" aria-hidden=\"true\"></i>\n                    I hereby confirm that:\n                  </span>\n                  <span id=\"agreement-text\">\n                    I have read, understood, and agree to abide by all terms and conditions of the\n                    Muhimbili National Hospital Acceptable ICT Use Policy. I acknowledge that\n                    violation of this policy may result in disciplinary action or legal\n                    consequences.\n                  </span>\n                </label>\n              </div>\n            </div>\n\n            <!-- Form Actions -->\n            <div class=\"border-t-2 border-blue-300/30 pt-3\">\n              <div class=\"flex flex-col sm:flex-row justify-center gap-3\">\n                <button\n                  type=\"submit\"\n                  :disabled=\"!isFormValid || isSubmitting\"\n                  class=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-300 font-semibold flex items-center justify-center shadow-lg hover:shadow-xl hover:shadow-blue-500/25 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none border-2 border-blue-500/50 focus:ring-2 focus:ring-blue-300 focus:ring-offset-2\"\n                  :aria-label=\"\n                    isSubmitting ? 'Submitting declaration form' : 'Submit declaration form'\n                  \"\n                >\n                  <OrbitingDots v-if=\"isSubmitting\" size=\"sm\" class=\"mr-3\" />\n                  <i v-else class=\"fas fa-file-signature mr-3\" aria-hidden=\"true\"></i>\n                  {{ isSubmitting ? 'Submitting...' : 'Submit Declaration' }}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <!-- Back Button -->\n    <button\n      @click=\"goBack\"\n      @keydown.enter=\"goBack\"\n      @keydown.space.prevent=\"goBack\"\n      class=\"fixed bottom-6 left-6 w-14 h-14 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-offset-2 z-40 group\"\n      aria-label=\"Go back to previous page\"\n    >\n      <i class=\"fas fa-arrow-left text-lg group-hover:animate-pulse\" aria-hidden=\"true\"></i>\n    </button>\n  </div>\n</template>\n\n<script>\n  import userProfileService from '../../../services/userProfileService'\n  import SimpleLoadingBanner from '../../common/SimpleLoadingBanner.vue'\n  import OrbitingDots from '../../common/OrbitingDots.vue'\n  import signatureService from '@/services/signatureService'\n  import { APP_CONFIG } from '@/utils/config'\n\n  // Constants for better maintainability\n  const FORM_CONSTANTS = {\n    MAX_FILE_SIZE: 5 * 1024 * 1024, // 5MB\n    ALLOWED_FILE_TYPES: ['image/png', 'image/jpeg', 'image/jpg', 'application/pdf'],\n    MAX_RETRIES: 3,\n    RETRY_BASE_DELAY: 1000,\n    MAX_RETRY_DELAY: 3000,\n    NOTIFICATION_DURATION: 4000,\n    SUCCESS_DELAY: 1500,\n    MAX_FIELD_LENGTH: 255,\n    MAX_TEXT_LENGTH: 1000\n  }\n\n  const DEPARTMENTS = Object.freeze([\n    'Administration',\n    'Anesthesiology',\n    'Cardiology',\n    'Dermatology',\n    'Emergency Medicine',\n    'Endocrinology',\n    'Gastroenterology',\n    'General Surgery',\n    'Gynecology',\n    'Hematology',\n    'ICT Department',\n    'Internal Medicine',\n    'Laboratory',\n    'Nephrology',\n    'Neurology',\n    'Nursing',\n    'Obstetrics',\n    'Oncology',\n    'Ophthalmology',\n    'Orthopedics',\n    'Pediatrics',\n    'Pharmacy',\n    'Psychiatry',\n    'Pulmonology',\n    'Radiology',\n    'Rehabilitation',\n    'Urology',\n    'Other'\n  ])\n\n  const NOTIFICATION_COLORS = Object.freeze({\n    success: 'green',\n    error: 'red',\n    info: 'blue',\n    warning: 'yellow'\n  })\n\n  // eslint-disable-next-line no-unused-vars\n  const FLOATING_ICON_CLASSES = Object.freeze([\n    'fa-heartbeat',\n    'fa-user-md',\n    'fa-hospital',\n    'fa-stethoscope',\n    'fa-plus'\n  ])\n\n  export default {\n    name: 'DeclarationForm',\n    components: {\n      SimpleLoadingBanner,\n      OrbitingDots\n    },\n    emits: ['form-submitted', 'go-back'],\n    data() {\n      return {\n        isSubmitting: false,\n        // Digital signature state\n        isSigning: false,\n        hasUserSigned: false,\n        signatureToken: '',\n        signedAt: null,\n        // Legacy preview fields (kept for backward compatibility, not used in UI)\n        signaturePreview: '',\n        signatureFileName: '',\n        // Auto-population states\n        isLoadingProfile: true,\n        profileLoadError: null,\n        autoPopulated: false,\n        departments: [...DEPARTMENTS], // Use spread to create mutable copy\n        formData: {\n          fullName: '',\n          pfNumber: '',\n          department: '',\n          jobTitle: '',\n          signature: null,\n          date: '',\n          agreement: false\n        },\n        // Performance optimization caches\n        backgroundDotsCache: null,\n        floatingIconsCache: null,\n\n        // Memory management references\n        retryButton: null,\n        retryClickHandler: null,\n        retryTimeout: null,\n        fileReaders: new Set()\n      }\n    },\n\n    computed: {\n      isFormValid() {\n        return this.formValidationState.isValid\n      },\n\n      // Calculate maximum future date (3 months from today)\n      maxFutureDate() {\n        const date = new Date()\n        date.setMonth(date.getMonth() + 3)\n        return date.toISOString().split('T')[0]\n      },\n\n      backgroundDots() {\n        // Return pre-computed dots (initialized in created hook)\n        return this.backgroundDotsCache || []\n      },\n      floatingIcons() {\n        // Return pre-computed icons (initialized in created hook)\n        return this.floatingIconsCache || []\n      },\n      formValidationState() {\n        // Cache validation state to avoid repeated calculations\n        const hasName = !!this.formData.fullName\n        const hasPfNumber = !!this.formData.pfNumber\n        const hasDepartment = !!this.formData.department\n        const hasJobTitle = !!this.formData.jobTitle\n        const hasDate = !!this.formData.date\n        const hasAgreement = !!this.formData.agreement\n        const hasSignature = !!this.hasUserSigned\n\n        return {\n          isValid:\n            hasName &&\n            hasPfNumber &&\n            hasDepartment &&\n            hasJobTitle &&\n            hasDate &&\n            hasAgreement &&\n            hasSignature,\n          missingFields: [\n            !hasName && 'Full Name',\n            !hasPfNumber && 'PF Number',\n            !hasDepartment && 'Department',\n            !hasJobTitle && 'Job Title',\n            !hasDate && 'Date',\n            !hasAgreement && 'Agreement',\n            !hasSignature && 'Digital Signature'\n          ].filter(Boolean)\n        }\n      },\n\n      formattedSignedAt() {\n        if (!this.signedAt) return ''\n        try {\n          return new Date(this.signedAt).toLocaleString()\n        } catch (e) {\n          return this.signedAt\n        }\n      },\n\n      signatureTokenPreview() {\n        if (!this.signatureToken) return ''\n        if (this.signatureToken.length <= 16) return this.signatureToken\n        return `${this.signatureToken.slice(0, 10)}${this.signatureToken.slice(-4)}`\n      }\n    },\n\n    methods: {\n      /**\n       * Handle loading banner completion\n       */\n      onLoadingComplete() {\n        if (APP_CONFIG.DEBUG) console.log(' Loading banner animation completed')\n        // Loading banner has finished its fade-out animation\n      },\n\n      /**\n       * Trigger loading completion on the banner\n       */\n      completeLoadingBanner() {\n        // Find the SimpleLoadingBanner component and call its completeLoading method\n        this.$nextTick(() => {\n          const loadingBanner = this.$refs.loadingBanner\n          if (loadingBanner && loadingBanner.completeLoading) {\n            loadingBanner.completeLoading()\n          }\n        })\n      },\n\n      /**\n       * Auto-populate user data from the authenticated user's profile\n       */\n      async autoPopulateUserData() {\n        if (APP_CONFIG.DEBUG) console.log(' Starting declaration form auto-population...')\n        this.isLoadingProfile = true\n        this.profileLoadError = null\n\n        // Check authentication first\n        const token = localStorage.getItem('auth_token')\n        if (!token) {\n          console.error(' No authentication token found')\n          this.profileLoadError = 'No authentication token found'\n          this.isLoadingProfile = false\n          return\n        }\n\n        if (APP_CONFIG.DEBUG)\n          console.log(' Authentication token found, proceeding with profile fetch')\n\n        try {\n          const result = await userProfileService.getFormAutoPopulationData()\n          console.log(' Auto-population API response:', result)\n\n          if (result.success && result.data) {\n            console.log(' User profile retrieved for declaration:', result.data)\n\n            // Validate and populate form fields safely\n            const populationResult = this.processUserProfileData(result.data)\n\n            if (populationResult.success) {\n              this.autoPopulated = true\n              console.log(' Declaration form auto-populated:', populationResult.data)\n\n              // Show success notification with specific fields populated\n              if (populationResult.populatedFields.length > 0) {\n                this.showNotification(\n                  `Auto-populated: ${populationResult.populatedFields.join(', ')}`,\n                  'info'\n                )\n              }\n            } else {\n              console.warn(' No fields could be auto-populated:', populationResult.error)\n              this.showNotification('Profile data available but could not be used', 'warning')\n            }\n          } else {\n            console.warn(' Failed to auto-populate declaration form:', result.error)\n            this.profileLoadError = result.error || 'Failed to load profile data'\n            this.showNotification(\n              'Could not auto-populate your details. Please fill them manually.',\n              'warning'\n            )\n          }\n        } catch (error) {\n          console.error(' Error during declaration auto-population:', error)\n          this.profileLoadError = error.message || 'Network error while loading profile'\n          this.showNotification(\n            'Error loading your profile. Please fill in your details manually.',\n            'error'\n          )\n        } finally {\n          // Trigger the loading banner completion animation before hiding\n          this.completeLoadingBanner()\n          // isLoadingProfile will be set to false after the animation completes\n          // The loading banner will emit 'loading-complete' event when done\n          setTimeout(() => {\n            this.isLoadingProfile = false\n          }, 400) // Slightly longer than the 300ms fade-out animation\n        }\n      },\n\n      async signDeclaration() {\n        try {\n          if (this.isSigning) return\n          this.isSigning = true\n\n          // Use a synthetic document id for declaration onboarding; backend maps this\n          const res = await signatureService.sign('declaration')\n\n          if (res && (res.success || res.data)) {\n            this.hasUserSigned = true\n            this.signedAt = res?.data?.signed_at || res?.signed_at || new Date().toISOString()\n            this.signatureToken = res?.data?.signature_hash || res?.signature_hash || ''\n\n            this.showNotification(\n              `Declaration signed on ${new Date(this.signedAt).toLocaleString()}`,\n              'success'\n            )\n          } else {\n            this.showNotification(res?.message || 'Failed to sign declaration', 'error')\n          }\n        } catch (error) {\n          console.error('Error signing declaration:', error)\n          this.showNotification(error.message || 'Failed to sign declaration', 'error')\n        } finally {\n          this.isSigning = false\n        }\n      },\n\n      /**\n       * Process and validate user profile data for auto-population\n       */\n      processUserProfileData(profileData) {\n        if (!profileData || typeof profileData !== 'object') {\n          return { success: false, error: 'Invalid profile data format' }\n        }\n\n        const populatedFields = []\n        const errors = []\n\n        try {\n          // Validate and set full name\n          const fullName = this.validateAndSanitizeText(\n            profileData.staffName || profileData.fullName || '',\n            'Full Name'\n          )\n          if (fullName.isValid) {\n            this.formData.fullName = fullName.value\n            populatedFields.push('name')\n          } else if (fullName.error) {\n            errors.push(fullName.error)\n          }\n\n          // Validate and set PF number\n          const pfNumber = this.validateAndSanitizeText(profileData.pfNumber || '', 'PF Number')\n          if (pfNumber.isValid) {\n            this.formData.pfNumber = pfNumber.value\n            populatedFields.push('PF number')\n          } else if (pfNumber.error) {\n            errors.push(pfNumber.error)\n          }\n\n          // Validate and set department\n          const departmentName =\n            profileData.departmentFullName ||\n            profileData.departmentName ||\n            profileData.departmentCode ||\n            ''\n          const department = this.validateAndSanitizeText(departmentName, 'Department')\n\n          if (department.isValid && department.value) {\n            // Add to departments list if not present\n            if (!this.departments.includes(department.value)) {\n              console.log(' Adding user department to available options:', department.value)\n              this.departments.push(department.value)\n              this.departments.sort()\n            }\n\n            this.formData.department = department.value\n            populatedFields.push('department')\n          } else if (department.error) {\n            errors.push(department.error)\n          }\n\n          return {\n            success: populatedFields.length > 0,\n            populatedFields,\n            errors,\n            data: {\n              fullName: this.formData.fullName,\n              pfNumber: this.formData.pfNumber,\n              department: this.formData.department\n            }\n          }\n        } catch (error) {\n          console.error('Error processing profile data:', error)\n          return {\n            success: false,\n            error: 'Error processing profile data',\n            populatedFields: [],\n            errors: [error.message]\n          }\n        }\n      },\n\n      /**\n       * Validate and sanitize text input\n       */\n      validateAndSanitizeText(value, fieldName) {\n        if (!value || typeof value !== 'string') {\n          return { isValid: false, value: '', error: null }\n        }\n\n        // Trim and sanitize\n        const cleaned = value.trim().replace(/[<>\"'&]/g, '')\n\n        // Length validation\n        if (cleaned.length === 0) {\n          return { isValid: false, value: '', error: null }\n        }\n\n        if (cleaned.length > FORM_CONSTANTS.MAX_FIELD_LENGTH) {\n          return {\n            isValid: false,\n            value: '',\n            error: `${fieldName} is too long (max ${FORM_CONSTANTS.MAX_FIELD_LENGTH} characters)`\n          }\n        }\n\n        // Pattern validation for specific fields\n        if (fieldName === 'PF Number' && cleaned && !/^[A-Z0-9\\-\\/]+$/i.test(cleaned)) {\n          return {\n            isValid: false,\n            value: '',\n            error: 'PF Number contains invalid characters'\n          }\n        }\n\n        return { isValid: true, value: cleaned, error: null }\n      },\n\n      /**\n       * Enhanced file security validation\n       */\n      validateFileSecurity(file) {\n        // Basic file type validation\n        if (!FORM_CONSTANTS.ALLOWED_FILE_TYPES.includes(file.type)) {\n          return {\n            isValid: false,\n            error: `Please select a valid file type: ${FORM_CONSTANTS.ALLOWED_FILE_TYPES.join(', ')\n              .replace(/image\\//g, '')\n              .replace(/application\\//g, '')\n              .toUpperCase()}`\n          }\n        }\n\n        // File size validation\n        if (file.size > FORM_CONSTANTS.MAX_FILE_SIZE) {\n          return {\n            isValid: false,\n            error: `File size must be less than ${FORM_CONSTANTS.MAX_FILE_SIZE / (1024 * 1024)}MB`\n          }\n        }\n\n        // Filename security validation\n        const dangerousPatterns = [\n          /\\.exe$/i,\n          /\\.bat$/i,\n          /\\.cmd$/i,\n          /\\.com$/i,\n          /\\.scr$/i,\n          /\\.js$/i,\n          /\\.vbs$/i\n        ]\n        if (dangerousPatterns.some((pattern) => pattern.test(file.name))) {\n          return {\n            isValid: false,\n            error: 'File type not allowed for security reasons'\n          }\n        }\n\n        // File name length validation\n        if (file.name.length > 255) {\n          return {\n            isValid: false,\n            error: 'Filename is too long'\n          }\n        }\n\n        // Check for double extensions\n        const parts = file.name.split('.')\n        if (parts.length > 2) {\n          return {\n            isValid: false,\n            error: 'Files with multiple extensions are not allowed'\n          }\n        }\n\n        return { isValid: true }\n      },\n\n      async submitDeclaration() {\n        if (!this.isFormValid) {\n          const missingFields = this.formValidationState.missingFields\n          this.showNotification(`Missing required fields: ${missingFields.join(', ')}`, 'error')\n          return\n        }\n\n        // Additional runtime validation\n        const validationResult = this.validateFormData()\n        if (!validationResult.isValid) {\n          this.showNotification(validationResult.error, 'error')\n          return\n        }\n\n        try {\n          // Show loading state\n          this.isSubmitting = true\n          this.showNotification('Submitting declaration...', 'info')\n\n          // Prepare form data for submission\n          const declarationData = {\n            fullName: this.formData.fullName,\n            pfNumber: this.formData.pfNumber,\n            department: this.formData.department,\n            jobTitle: this.formData.jobTitle,\n            date: this.formData.date,\n            agreement: this.formData.agreement,\n            // Optional metadata about the digital signature token\n            signatureMethod: 'digital_token',\n            signatureHash: this.signatureToken || null,\n            signedAt: this.signedAt || null\n          }\n\n          // Create FormData for compatibility with existing backend (even without files)\n          const formData = new FormData()\n\n          // Add declaration data with proper type conversion\n          Object.keys(declarationData).forEach((key) => {\n            let value = declarationData[key]\n            // Convert boolean to string for FormData, but ensure it's a proper boolean string\n            if (typeof value === 'boolean') {\n              value = value ? '1' : '0' // Use 1/0 instead of true/false for better backend handling\n            }\n            if (value !== null && value !== undefined) {\n              formData.append(key, value)\n            }\n          })\n\n          if (APP_CONFIG.DEBUG) {\n            console.log('Form data being sent:', {\n              ...declarationData,\n              hasDigitalSignature: this.hasUserSigned\n            })\n          }\n\n          // Import API client and submit\n          const { authAPI } = await import('../../../utils/apiClient')\n          const result = await authAPI.submitDeclaration(formData)\n\n          if (result.success) {\n            if (APP_CONFIG.DEBUG) console.log('Declaration submitted successfully:', result.data)\n            this.showNotification('Declaration submitted successfully!', 'success')\n\n            // Emit event to parent component with the declaration data\n            setTimeout(() => {\n              this.$emit('form-submitted', declarationData)\n            }, FORM_CONSTANTS.SUCCESS_DELAY)\n          } else {\n            console.error('Declaration submission failed:', result.error)\n            this.showNotification(result.error || 'Failed to submit declaration', 'error')\n\n            // Show validation errors if present\n            if (result.errors) {\n              Object.values(result.errors).forEach((errorArray) => {\n                errorArray.forEach((error) => {\n                  this.showNotification(error, 'error')\n                })\n              })\n            }\n          }\n        } catch (error) {\n          console.error('Error submitting declaration:', error)\n          this.showNotification('An error occurred while submitting the declaration', 'error')\n        } finally {\n          this.isSubmitting = false\n        }\n      },\n\n      resetForm() {\n        this.formData = {\n          fullName: '',\n          pfNumber: '',\n          department: '',\n          jobTitle: '',\n          signature: null,\n          date: '',\n          agreement: false\n        }\n        this.signaturePreview = ''\n        this.signatureFileName = ''\n        this.hasUserSigned = false\n        this.signatureToken = ''\n        this.signedAt = null\n        this.showNotification('Form has been reset', 'info')\n      },\n\n      printForm() {\n        window.print()\n      },\n\n      showNotification(message, type = 'info') {\n        if (!message) return\n\n        // Sanitize message to prevent XSS\n        const sanitizedMessage = String(message).replace(/<[^>]*>/g, '')\n        const colors = NOTIFICATION_COLORS\n\n        // Use a more efficient notification system\n        this.createOptimizedNotification(sanitizedMessage, colors[type] || 'blue')\n      },\n\n      /**\n       * Optimized notification creation with better performance\n       */\n      createOptimizedNotification(message, bgColor) {\n        // Reuse notification container if it exists\n        let container = document.getElementById('notification-container')\n        if (!container) {\n          container = document.createElement('div')\n          container.id = 'notification-container'\n          container.className = 'fixed top-4 right-4 z-[9999] space-y-2 pointer-events-none'\n          document.body.appendChild(container)\n        }\n\n        const toast = document.createElement('div')\n        toast.className = `px-6 py-3 rounded-lg text-white font-semibold bg-${bgColor}-600 shadow-lg transform transition-all duration-300 max-w-md pointer-events-auto`\n        toast.textContent = message\n        toast.style.transform = 'translateX(100%)'\n\n        container.appendChild(toast)\n\n        // Use RAF for smooth animation\n        requestAnimationFrame(() => {\n          toast.style.transform = 'translateX(0)'\n        })\n\n        // Auto-remove with optimized cleanup\n        setTimeout(\n          () => this.removeNotification(toast, container),\n          FORM_CONSTANTS.NOTIFICATION_DURATION\n        )\n      },\n\n      /**\n       * Optimized notification removal\n       */\n      removeNotification(toast, container) {\n        if (!toast.parentNode) return\n\n        toast.style.transform = 'translateX(100%)'\n        const removeTimeout = setTimeout(() => {\n          if (toast.parentNode) {\n            container.removeChild(toast)\n\n            // Remove container if empty and still in DOM\n            if (container.children.length === 0 && document.body.contains(container)) {\n              document.body.removeChild(container)\n            }\n          }\n          clearTimeout(removeTimeout)\n        }, 300)\n      },\n\n      /**\n       * Comprehensive form data validation\n       */\n      validateFormData() {\n        const errors = []\n\n        // Validate each field\n        const nameValidation = this.validateAndSanitizeText(this.formData.fullName, 'Full Name')\n        if (!nameValidation.isValid) {\n          errors.push(nameValidation.error || 'Full name is required')\n        }\n\n        const pfValidation = this.validateAndSanitizeText(this.formData.pfNumber, 'PF Number')\n        if (!pfValidation.isValid) {\n          errors.push(pfValidation.error || 'PF Number is required')\n        }\n\n        const deptValidation = this.validateAndSanitizeText(this.formData.department, 'Department')\n        if (!deptValidation.isValid) {\n          errors.push(deptValidation.error || 'Department is required')\n        }\n\n        const jobValidation = this.validateAndSanitizeText(this.formData.jobTitle, 'Job Title')\n        if (!jobValidation.isValid) {\n          errors.push(jobValidation.error || 'Job title is required')\n        }\n\n        // Date validation\n        if (!this.formData.date) {\n          errors.push('Date is required')\n        } else {\n          const selectedDate = new Date(this.formData.date)\n          const maxFutureDate = new Date()\n          maxFutureDate.setMonth(maxFutureDate.getMonth() + 3)\n\n          if (selectedDate > maxFutureDate) {\n            errors.push('Date cannot be more than 3 months in the future')\n          }\n        }\n\n        // Agreement validation\n        if (!this.formData.agreement) {\n          errors.push('You must agree to the terms and conditions')\n        }\n\n        // Signature validation - require digital token based signature\n        if (!this.hasUserSigned) {\n          errors.push('Digital signature is required')\n        }\n\n        return {\n          isValid: errors.length === 0,\n          error: errors.length > 0 ? errors[0] : null,\n          errors\n        }\n      },\n\n      goBack() {\n        this.$emit('go-back')\n      },\n\n      /**\n       * Check if user is properly authenticated\n       */\n      checkAuthentication() {\n        const token = localStorage.getItem('auth_token')\n        const userData = localStorage.getItem('user_data')\n\n        if (!token) {\n          console.error(' No authentication token found')\n          return false\n        }\n\n        if (!userData) {\n          console.warn(' No user data found in localStorage')\n        }\n\n        // For Laravel Sanctum, we can't decode the token like JWT\n        // The token expiry is handled server-side\n        // We can only check if the token exists and is not empty\n        if (token.trim().length === 0) {\n          console.error(' Authentication token is empty')\n          return false\n        }\n\n        // Optional: Check if token looks valid (basic format check)\n        // Sanctum tokens are typically long random strings\n        if (token.length < 10) {\n          console.warn(' Authentication token appears to be too short')\n          return false\n        }\n\n        return true\n      },\n\n      /**\n       * Handle authentication failure\n       */\n      handleAuthenticationFailure() {\n        // Clear potentially invalid tokens\n        localStorage.removeItem('auth_token')\n        localStorage.removeItem('user_data')\n        localStorage.removeItem('session_data')\n\n        // Show user-friendly message\n        this.showNotification('Session expired. Please log in again.', 'error')\n\n        // Redirect to login after a short delay\n        setTimeout(() => {\n          if (typeof window !== 'undefined') {\n            window.location.href = '/'\n          }\n        }, 2000)\n      },\n\n      /**\n       * Initialize form with retry logic\n       */\n      async initializeFormWithRetry() {\n        let attempt = 1\n\n        while (attempt <= FORM_CONSTANTS.MAX_RETRIES) {\n          try {\n            console.log(` Initializing form attempt ${attempt}/${FORM_CONSTANTS.MAX_RETRIES}`)\n            await this.autoPopulateUserData()\n\n            // If successful, break out of retry loop\n            if (!this.profileLoadError) {\n              console.log(' Form initialization successful')\n              return\n            }\n          } catch (error) {\n            console.error(` Form initialization attempt ${attempt} failed:`, error)\n          }\n\n          attempt++\n\n          // If not the last attempt, wait before retrying\n          if (attempt <= FORM_CONSTANTS.MAX_RETRIES) {\n            const delay = Math.min(\n              FORM_CONSTANTS.RETRY_BASE_DELAY * attempt,\n              FORM_CONSTANTS.MAX_RETRY_DELAY\n            )\n            console.log(` Retrying in ${delay}ms...`)\n            await new Promise((resolve) => setTimeout(resolve, delay))\n          }\n        }\n\n        // All retries failed\n        console.error(' All initialization attempts failed')\n        this.handleInitializationFailure()\n      },\n\n      /**\n       * Handle complete initialization failure\n       */\n      handleInitializationFailure() {\n        this.isLoadingProfile = false\n        this.profileLoadError = 'Failed to initialize form after multiple attempts'\n\n        this.showNotification(\n          'Unable to load your profile data. You can still fill the form manually.',\n          'warning'\n        )\n\n        // Provide manual fallback option\n        this.showManualEntryOption()\n      },\n\n      /**\n       * Show manual entry option when auto-population fails\n       */\n      showManualEntryOption() {\n        // Create a retry button with proper cleanup\n        const retryButton = document.createElement('button')\n        retryButton.className =\n          'fixed bottom-20 right-6 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center gap-2 transition-all duration-300'\n        retryButton.innerHTML = '<i class=\"fas fa-sync-alt\"></i> Retry Loading Profile'\n\n        const handleRetryClick = async () => {\n          this.removeRetryButton(retryButton, handleRetryClick)\n          this.isLoadingProfile = true\n          this.profileLoadError = null\n          await this.initializeFormWithRetry()\n        }\n\n        retryButton.addEventListener('click', handleRetryClick)\n        document.body.appendChild(retryButton)\n\n        // Store reference for cleanup\n        this.retryButton = retryButton\n        this.retryClickHandler = handleRetryClick\n\n        // Auto-remove after 10 seconds\n        this.retryTimeout = setTimeout(() => {\n          this.removeRetryButton(retryButton, handleRetryClick)\n        }, 10000)\n      },\n\n      /**\n       * Clean up retry button and its event listeners\n       */\n      removeRetryButton(button, handler) {\n        if (button && document.body.contains(button)) {\n          button.removeEventListener('click', handler)\n          document.body.removeChild(button)\n        }\n\n        if (this.retryTimeout) {\n          clearTimeout(this.retryTimeout)\n          this.retryTimeout = null\n        }\n\n        this.retryButton = null\n        this.retryClickHandler = null\n      },\n\n      /**\n       * Load available departments from backend API\n       */\n      async loadAvailableDepartments() {\n        try {\n          console.log(' Loading departments from backend...')\n          const result = await userProfileService.getDepartments()\n\n          if (result.success && result.data && Array.isArray(result.data)) {\n            // Extract department display names and merge with existing list\n            const backendDepartments = result.data\n              .map((dept) => dept.display_name || dept.full_name || dept.name || '')\n              .filter((name) => name.length > 0)\n\n            // Merge with existing departments, remove duplicates, and sort\n            const allDepartments = [...new Set([...this.departments, ...backendDepartments])]\n            this.departments = Object.freeze(allDepartments.sort()) // Freeze to prevent accidental mutations\n\n            console.log(\n              ` Loaded ${backendDepartments.length} departments from backend, total: ${this.departments.length}`\n            )\n          } else {\n            console.warn(' Failed to load departments from backend, using static list')\n          }\n        } catch (error) {\n          console.warn(' Error loading departments from backend:', error.message)\n          console.log(' Using static department list as fallback')\n        }\n      },\n\n      /**\n       * Initialize background dots cache\n       */\n      initializeBackgroundDots() {\n        if (this.backgroundDotsCache) return\n\n        const dots = []\n        for (let i = 1; i <= 48; i++) {\n          dots.push({\n            id: `dot-${i}`,\n            delay: `${i * 0.1}s`\n          })\n        }\n\n        this.backgroundDotsCache = Object.freeze(dots)\n      },\n\n      /**\n       * Initialize floating icons cache\n       */\n      initializeFloatingIcons() {\n        if (this.floatingIconsCache) return\n\n        const icons = []\n        const iconClasses = FLOATING_ICON_CLASSES\n\n        // Use seed-based randomization for consistent positioning\n        const seedRandom = (seed) => {\n          const x = Math.sin(seed) * 10000\n          return x - Math.floor(x)\n        }\n\n        for (let i = 1; i <= 15; i++) {\n          const seed1 = i * 12345\n          const seed2 = i * 67890\n          const seed3 = i * 54321\n          const seed4 = i * 98765\n          const seed5 = i * 13579\n\n          icons.push({\n            id: `icon-${i}`,\n            left: `${seedRandom(seed1) * 100}%`,\n            top: `${seedRandom(seed2) * 100}%`,\n            animationDelay: `${seedRandom(seed3) * 3}s`,\n            animationDuration: `${seedRandom(seed4) * 3 + 2}s`,\n            fontSize: `${seedRandom(seed5) * 20 + 10}px`,\n            iconClass: `fas ${iconClasses[Math.floor(seedRandom(seed1 * 2) * iconClasses.length)]}`\n          })\n        }\n\n        this.floatingIconsCache = Object.freeze(icons)\n      },\n\n      /**\n       * Clean up component resources\n       */\n      cleanupResources() {\n        // Cleanup file readers\n        if (this.fileReaders && this.fileReaders.size > 0) {\n          this.fileReaders.forEach((reader) => {\n            if (reader.readyState === FileReader.LOADING) {\n              reader.abort()\n            }\n          })\n          this.fileReaders.clear()\n        }\n\n        // Cleanup retry button\n        if (this.retryButton || this.retryClickHandler) {\n          this.removeRetryButton(this.retryButton, this.retryClickHandler)\n        }\n\n        // Clear notification container\n        const container = document.getElementById('notification-container')\n        if (container && document.body.contains(container)) {\n          document.body.removeChild(container)\n        }\n\n        // Clear caches\n        this.backgroundDotsCache = null\n        this.floatingIconsCache = null\n      }\n    },\n\n    async mounted() {\n      console.log(' Declaration form mounted, starting initialization...')\n\n      // Check authentication first\n      if (!this.checkAuthentication()) {\n        console.error(' User not authenticated, redirecting to login')\n        this.handleAuthenticationFailure()\n        return\n      }\n\n      // Set current date as default\n      const today = new Date().toISOString().split('T')[0]\n      this.formData.date = today\n\n      // Load available departments from backend (parallel with auto-population)\n      this.loadAvailableDepartments()\n\n      // Initialize background elements for better performance\n      this.initializeBackgroundDots()\n      this.initializeFloatingIcons()\n\n      // Auto-populate user data using the profile service with retry logic\n      await this.initializeFormWithRetry()\n    },\n\n    beforeUnmount() {\n      // Cleanup resources to prevent memory leaks\n      this.cleanupResources()\n    }\n  }\n</script>\n\n<style scoped>\n  /* Medical Glass morphism effects */\n  .medical-glass-card {\n    background: rgba(59, 130, 246, 0.15);\n    backdrop-filter: blur(25px);\n    -webkit-backdrop-filter: blur(25px);\n    border: 2px solid rgba(96, 165, 250, 0.3);\n    box-shadow:\n      0 8px 32px rgba(29, 78, 216, 0.4),\n      inset 0 1px 0 rgba(255, 255, 255, 0.1);\n  }\n\n  .medical-card {\n    position: relative;\n    overflow: hidden;\n    background: rgba(59, 130, 246, 0.1);\n    backdrop-filter: blur(15px);\n    -webkit-backdrop-filter: blur(15px);\n  }\n\n  .medical-card::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(96, 165, 250, 0.2), transparent);\n    transition: left 0.5s;\n  }\n\n  .medical-card:hover::before {\n    left: 100%;\n  }\n\n  .medical-input {\n    position: relative;\n    z-index: 1;\n    color: white;\n  }\n\n  .medical-input::placeholder {\n    color: rgba(191, 219, 254, 0.6);\n  }\n\n  .medical-input:focus {\n    border-color: rgba(45, 212, 191, 0.8);\n    box-shadow: 0 0 0 3px rgba(45, 212, 191, 0.2);\n  }\n\n  /* Select dropdown styling */\n  select.medical-input {\n    background-image: none;\n  }\n\n  select.medical-input option {\n    background-color: #1f2937;\n    color: white;\n    padding: 8px;\n  }\n\n  select.medical-input option:hover {\n    background-color: #374151;\n  }\n\n  select.medical-input option:disabled {\n    color: #9ca3af;\n  }\n\n  /* Animations */\n  @keyframes blob {\n    0% {\n      transform: translate(0px, 0px) scale(1);\n    }\n    33% {\n      transform: translate(30px, -50px) scale(1.1);\n    }\n    66% {\n      transform: translate(-20px, 20px) scale(0.9);\n    }\n    100% {\n      transform: translate(0px, 0px) scale(1);\n    }\n  }\n\n  @keyframes float {\n    0%,\n    100% {\n      transform: translateY(0px);\n    }\n    50% {\n      transform: translateY(-20px);\n    }\n  }\n\n  @keyframes fade-in {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  @keyframes fade-in-delay {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .animate-blob {\n    animation: blob 7s infinite;\n  }\n\n  .animate-float {\n    animation: float 6s ease-in-out infinite;\n  }\n\n  .animate-fade-in {\n    animation: fade-in 1s ease-out;\n  }\n\n  .animate-fade-in-delay {\n    animation: fade-in-delay 1s ease-out 0.3s both;\n  }\n\n  .animation-delay-2000 {\n    animation-delay: 2s;\n  }\n\n  .animation-delay-4000 {\n    animation-delay: 4s;\n  }\n\n  /* Custom transitions and animations */\n  .transition-all {\n    transition: all 0.3s ease;\n  }\n\n  /* Glass morphism effect */\n  .backdrop-blur-sm {\n    backdrop-filter: blur(8px);\n  }\n\n  /* Enhanced form sections */\n  .border-l-4 {\n    position: relative;\n    transition: all 0.3s ease;\n  }\n\n  .border-l-4:hover {\n    transform: translateX(2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n  }\n\n  /* Print styles */\n  @media print {\n    .min-h-screen {\n      min-height: auto;\n    }\n\n    button {\n      display: none !important;\n    }\n\n    .shadow-xl {\n      box-shadow: none;\n    }\n\n    .bg-gradient-to-br {\n      background: white !important;\n    }\n\n    .rounded-t-2xl,\n    .rounded-b-2xl {\n      border-radius: 0 !important;\n    }\n\n    .border-l-4 {\n      border-left: 2px solid #000 !important;\n    }\n\n    .bg-blue-50,\n    .bg-green-50,\n    .bg-yellow-50,\n    .bg-red-50 {\n      background: #f9f9f9 !important;\n    }\n\n    .text-white {\n      color: #000 !important;\n    }\n\n    .bg-red-600 {\n      background: #000 !important;\n      color: #fff !important;\n    }\n  }\n\n  /* Responsive adjustments */\n  @media (max-width: 1024px) {\n    .lg\\:grid-cols-4 {\n      grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n  }\n\n  @media (max-width: 768px) {\n    .lg\\:grid-cols-4 {\n      grid-template-columns: repeat(1, minmax(0, 1fr));\n    }\n\n    .grid-cols-2 {\n      grid-template-columns: repeat(1, minmax(0, 1fr));\n    }\n\n    .md\\:col-span-2 {\n      grid-column: span 1;\n    }\n  }\n\n  /* Custom input focus styles */\n  input:focus,\n  select:focus,\n  textarea:focus {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  }\n\n  /* Checkbox custom styling */\n  input[type='checkbox']:checked {\n    background-color: #dc2626;\n    border-color: #dc2626;\n  }\n\n  /* Animation for form sections */\n  .border-l-4 {\n    animation: slideInLeft 0.5s ease-out;\n  }\n\n  @keyframes slideInLeft {\n    from {\n      opacity: 0;\n      transform: translateX(-20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  /* Button hover effects */\n  button:hover:not(:disabled) {\n    transform: translateY(-2px) scale(1.02);\n  }\n\n  button:active:not(:disabled) {\n    transform: translateY(0) scale(0.98);\n  }\n\n  /* Signature area hover effects */\n  .border-dashed:hover {\n    border-color: #3b82f6;\n    background-color: rgba(59, 130, 246, 0.1);\n  }\n\n  /* Protected field styles */\n  .medical-input[readonly] {\n    background: rgba(34, 197, 94, 0.15) !important;\n    border-color: rgba(34, 197, 94, 0.4) !important;\n    cursor: not-allowed;\n    user-select: none;\n  }\n\n  .medical-input[readonly]:hover {\n    background: rgba(34, 197, 94, 0.2) !important;\n    transform: none !important;\n  }\n\n  .medical-input[readonly]:focus {\n    box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.2) !important;\n    border-color: rgba(34, 197, 94, 0.6) !important;\n  }\n\n  /* Custom scrollbar */\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n    border-radius: 3px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #c1c1c1;\n    border-radius: 3px;\n  }\n\n  ::-webkit-scrollbar-thumb:hover {\n    background: #a1a1a1;\n  }\n</style>\n","<template>\n  <div v-if=\"isVisible\" class=\"loading-banner\" :class=\"{ 'fade-out': isComplete }\">\n    <div\n      class=\"loading-card rounded-xl shadow-2xl p-8 text-center border border-blue-400/40\"\n      style=\"background: linear-gradient(90deg, #0b3a82, #0a2f6f, #0b3a82)\"\n    >\n      <div class=\"flex justify-center mb-4\">\n        <div\n          class=\"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin\"\n        ></div>\n      </div>\n      <p class=\"text-blue-100 font-medium\">Loading...</p>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'SimpleLoadingBanner',\n\n    props: {\n      // Control visibility externally\n      show: {\n        type: Boolean,\n        default: true\n      },\n\n      // Auto start loading when component mounts\n      autoStart: {\n        type: Boolean,\n        default: true\n      }\n    },\n\n    emits: ['loading-complete'],\n\n    data() {\n      return {\n        isVisible: true,\n        isComplete: false\n      }\n    },\n\n    watch: {\n      show: {\n        handler(newVal) {\n          if (newVal && !this.isVisible) {\n            this.startLoading()\n          } else if (!newVal) {\n            this.stopLoading()\n          }\n        },\n        immediate: true\n      }\n    },\n\n    mounted() {\n      if (this.autoStart && this.show) {\n        this.startLoading()\n      }\n    },\n\n    methods: {\n      startLoading() {\n        this.isVisible = true\n        this.isComplete = false\n      },\n      stopLoading() {\n        this.isVisible = false\n      },\n      completeLoading() {\n        this.isComplete = true\n        setTimeout(() => {\n          this.isVisible = false\n          this.$emit('loading-complete')\n        }, 300)\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /* Main loading banner container */\n  .loading-banner {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(0, 0, 0, 0.5);\n    opacity: 1;\n    transition: opacity 0.3s ease-out;\n    pointer-events: auto;\n  }\n\n  /* Fade out animation */\n  .loading-banner.fade-out {\n    opacity: 0;\n  }\n\n  /* Loader card */\n  .loading-card {\n    min-width: 280px;\n  }\n\n  /* Logo container with positioning for orbit */\n  .logo-container {\n    position: relative;\n    display: inline-block;\n    margin-bottom: 1rem;\n  }\n\n  /* Deprecated styles kept for reference; no longer used */\n  .logo-wrapper {\n    position: relative;\n    z-index: 2;\n    border-radius: 50%;\n    padding: 1rem;\n    background: rgba(255, 255, 255, 0.1);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    border: 2px solid rgba(255, 255, 255, 0.2);\n    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);\n  }\n\n  /* Hospital logo styling */\n  .hospital-logo {\n    width: 120px;\n    height: 120px;\n    object-fit: contain;\n  }\n\n  /* Orbit container for rotating dots */\n  .orbit-container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 320px;\n    height: 320px;\n    pointer-events: none;\n  }\n\n  /* Individual orbit dots */\n  .orbit-dot {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    transform-origin: 0 0;\n    animation: logoPulse 2s ease-in-out infinite;\n  }\n\n  /* Logo colors */\n  .orbit-dot.logo-red {\n    background: #dc143c;\n  }\n\n  .orbit-dot.logo-gold {\n    background: #ffd700;\n  }\n\n  .orbit-dot.logo-white {\n    background: #ffffff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n  }\n\n  /* Pulse animation */\n  @keyframes logoPulse {\n    0%,\n    100% {\n      transform: translateX(100px) scale(1);\n      opacity: 0.8;\n    }\n    50% {\n      transform: translateX(100px) scale(1.4);\n      opacity: 1;\n    }\n  }\n\n  /* Responsive Design */\n  @media (max-width: 768px) {\n    .hospital-logo {\n      width: 80px;\n      height: 80px;\n    }\n\n    .orbit-container {\n      width: 240px;\n      height: 240px;\n    }\n\n    .orbit-dot {\n      width: 10px;\n      height: 10px;\n    }\n\n    @keyframes logoPulse {\n      0%,\n      100% {\n        transform: translateX(75px) scale(1);\n        opacity: 0.8;\n      }\n      50% {\n        transform: translateX(75px) scale(1.3);\n        opacity: 1;\n      }\n    }\n  }\n\n  @media (max-width: 480px) {\n    .hospital-logo {\n      width: 60px;\n      height: 60px;\n    }\n\n    .orbit-container {\n      width: 180px;\n      height: 180px;\n    }\n\n    .orbit-dot {\n      width: 8px;\n      height: 8px;\n    }\n\n    @keyframes logoPulse {\n      0%,\n      100% {\n        transform: translateX(55px) scale(1);\n        opacity: 0.8;\n      }\n      50% {\n        transform: translateX(55px) scale(1.2);\n        opacity: 1;\n      }\n    }\n  }\n\n  /* Reduced motion support */\n  @media (prefers-reduced-motion: reduce) {\n    .orbit-dot {\n      animation: none;\n    }\n\n    .loading-banner {\n      transition: opacity 0.1s ease;\n    }\n  }\n\n  /* Print styles (hide loading banner) */\n  @media print {\n    .loading-banner {\n      display: none !important;\n    }\n  }\n</style>\n","import { render } from \"./SimpleLoadingBanner.vue?vue&type=template&id=4da685cc&scoped=true\"\nimport script from \"./SimpleLoadingBanner.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleLoadingBanner.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleLoadingBanner.vue?vue&type=style&index=0&id=4da685cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4da685cc\"]])\n\nexport default __exports__","import { render } from \"./declarationForm.vue?vue&type=template&id=d619d9c2&scoped=true\"\nimport script from \"./declarationForm.vue?vue&type=script&lang=js\"\nexport * from \"./declarationForm.vue?vue&type=script&lang=js\"\n\nimport \"./declarationForm.vue?vue&type=style&index=0&id=d619d9c2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d619d9c2\"]])\n\nexport default __exports__","<template>\n  <div\n    class=\"fixed inset-0 bg-slate-900/40 backdrop-blur-md flex items-center justify-center z-[9999] p-4\"\n  >\n    <!-- Main Modal -->\n    <div\n      class=\"bg-white rounded-3xl w-full max-w-lg overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.1)] border border-slate-100 transform transition-all animate-modal-pop\"\n    >\n      <!-- Premium Hero Header -->\n      <div\n        class=\"relative bg-gradient-to-br from-blue-700 via-blue-800 to-blue-900 p-10 text-center\"\n      >\n        <!-- Decoration Circles -->\n        <div class=\"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16\"></div>\n        <div class=\"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full -ml-12 -mb-12\"></div>\n\n        <!-- Animated Icon Container -->\n        <div class=\"relative inline-block mb-6\">\n          <div\n            class=\"w-20 h-20 bg-gradient-to-tr from-amber-300 to-amber-500 rounded-2xl flex items-center justify-center mx-auto shadow-2xl animate-float\"\n          >\n            <i class=\"fas fa-trophy text-white text-3xl drop-shadow-md\"></i>\n          </div>\n          <!-- Sparkles -->\n          <div class=\"absolute -top-2 -right-2 animate-pulse\">\n            <i class=\"fas fa-sparkles text-amber-300 text-sm\"></i>\n          </div>\n        </div>\n\n        <h2 class=\"text-3xl font-extrabold text-white mb-2 tracking-tight\">Congratulations!</h2>\n        <div class=\"inline-flex items-center px-3 py-1 bg-white/10 rounded-full backdrop-blur-sm\">\n          <span class=\"text-blue-100 text-sm font-semibold uppercase tracking-wider\">{{\n            userRoleDisplay\n          }}</span>\n        </div>\n      </div>\n\n      <!-- Content Section -->\n      <div class=\"p-10 bg-white\">\n        <!-- User Info -->\n        <div class=\"text-center mb-8\">\n          <div class=\"text-slate-500 text-xs font-bold uppercase tracking-widest mb-2\">\n            Welcome Aboard\n          </div>\n          <h3 class=\"text-3xl font-black text-slate-900 mb-4 tracking-tight\">\n            {{ userName }}\n          </h3>\n          <p class=\"text-slate-600 text-base leading-relaxed max-w-sm mx-auto\">\n            Your onboarding is now officially complete. You have full access to the portal features.\n          </p>\n        </div>\n\n        <!-- Checklist Cards -->\n        <div class=\"space-y-3 mb-10\">\n          <div\n            v-for=\"(item, index) in [\n              'Terms of Service Accepted',\n              'ICT Policy Acknowledged',\n              'Declaration Form Submitted'\n            ]\"\n            :key=\"index\"\n            class=\"flex items-center gap-4 p-4 rounded-xl bg-slate-50 border border-slate-100 transition-all hover:bg-slate-100/80 group\"\n          >\n            <div\n              class=\"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm transition-transform group-hover:scale-110\"\n            >\n              <i class=\"fas fa-check text-white text-[10px]\"></i>\n            </div>\n            <span class=\"text-slate-700 font-bold text-sm\">{{ item }}</span>\n          </div>\n        </div>\n\n        <!-- Primary Action -->\n        <button\n          @click=\"handleContinue\"\n          class=\"group relative w-full bg-slate-900 hover:bg-blue-600 text-white py-5 px-8 rounded-2xl font-bold text-lg transition-all duration-300 shadow-[0_10px_20px_rgba(15,23,42,0.15)] hover:shadow-[0_15px_30px_rgba(37,99,235,0.3)] active:scale-[0.98] overflow-hidden\"\n        >\n          <div\n            class=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"\n          ></div>\n          <div class=\"relative flex items-center justify-center gap-3\">\n            <span>Continue to Dashboard</span>\n            <i\n              class=\"fas fa-chevron-right text-sm transition-transform group-hover:translate-x-1\"\n            ></i>\n          </div>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'SuccessPopup',\n    props: {\n      userName: {\n        type: String,\n        required: true\n      },\n      userRoleDisplay: {\n        type: String,\n        default: 'Staff Member'\n      },\n      message: {\n        type: String,\n        default:\n          'You have successfully completed the onboarding process. Now you can proceed with your requests.'\n      }\n    },\n    emits: ['continue'],\n    methods: {\n      handleContinue() {\n        console.log(' SuccessPopup: Continue button clicked')\n        console.log(' SuccessPopup: Emitting continue event')\n        this.$emit('continue')\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  @keyframes modal-pop {\n    0% {\n      opacity: 0;\n      transform: scale(0.9) translateY(20px);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  .animate-modal-pop {\n    animation: modal-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;\n  }\n\n  @keyframes float {\n    0%,\n    100% {\n      transform: translateY(0px) rotate(0deg);\n    }\n    50% {\n      transform: translateY(-8px) rotate(2deg);\n    }\n  }\n\n  .animate-float {\n    animation: float 4s ease-in-out infinite;\n  }\n\n  /* Custom focus ring for the button */\n  button:focus-visible {\n    outline: 2px solid #3b82f6;\n    outline-offset: 4px;\n  }\n\n  /* Responsive refinements */\n  @media (max-width: 640px) {\n    .p-10 {\n      padding: 1.5rem;\n    }\n\n    h3 {\n      font-size: 1.5rem;\n    }\n  }\n</style>\n\"\n","import { render } from \"./SuccessPopup.vue?vue&type=template&id=1d1898fe&scoped=true\"\nimport script from \"./SuccessPopup.vue?vue&type=script&lang=js\"\nexport * from \"./SuccessPopup.vue?vue&type=script&lang=js\"\n\nimport \"./SuccessPopup.vue?vue&type=style&index=0&id=1d1898fe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1d1898fe\"]])\n\nexport default __exports__","import { render } from \"./OnboardingFlow.vue?vue&type=template&id=449e6e5c\"\nimport script from \"./OnboardingFlow.vue?vue&type=script&lang=js\"\nexport * from \"./OnboardingFlow.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OnboardingPage.vue?vue&type=template&id=21aafd3b\"\nimport script from \"./OnboardingPage.vue?vue&type=script&lang=js\"\nexport * from \"./OnboardingPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["API_BASE_URL","process","SignatureService","constructor","this","api","axios","create","baseURL","timeout","headers","Accept","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","sign","documentId","res","post","document_id","success","data","list","get","verify","signatureId","useAuth","router","useRouter","authStore","useAuthStore","user","computed","isAuthenticated","userPermissions","userRole","userRoles","isLoading","isAdmin","isStaff","isApprover","userName","value","name","login","async","authService","result","credentials","setAuthData","redirectPath","getDefaultDashboard","needs_onboarding","redirectTo","currentRoute","query","redirect","push","errorMessage","message","errors","fieldOrder","field","fieldErrors","Array","isArray","length","console","setError","logout","clearAuth","logoutAll","updateUser","userData","clearError","hasPermission","permission","hasRole","roles","canAccessRoute","route","meta","requireRole","requiredRoles","roleList","join","Error","getRoleDisplayName","role","roleNames","ROLES","ADMIN","DIVISIONAL_DIRECTOR","HEAD_OF_DEPARTMENT","ICT_DIRECTOR","HEAD_OF_IT","STAFF","ICT_OFFICER","SECRETARY_ICT","UserProfileService","getCurrentUserProfile","response","apiClient","getUserByPfNumber","pfNumber","pf_number","checkPfNumberExists","exists","getDepartments","count","updateCurrentUserProfile","profileData","put","getFormAutoPopulationData","profileResult","formData","staffName","staff_name","full_name","fullName","phoneNumber","phone","phone_number","email","departmentId","department_id","departmentName","department","departmentCode","code","departmentFullName","display_name","userId","id","primaryRole","primary_role","isActive","is_active","validateUserData","trim","isValid","class","_createElementBlock","_normalizeClass","$options","sizeClass","style","_normalizeStyle","customSize","_createElementVNode","_hoisted_1","src","alt","onError","_cache","args","handleImageError","orbitStyle","_Fragment","_renderList","$data","dots","dot","index","key","color","getDotStyle","props","size","type","String","default","customWidth","Number","customHeight","speed","updateFrequency","width","height","dotSpacing","orbitRadius","Math","max","currentContainerSize","durationSeconds","degPerSec","sec","min","methods","angle","radius","top","left","transform","logoEl","$el","querySelector","display","__exports__","render","$setup","currentUser","_createBlock","_component_OnboardingFlow","onOnboardingComplete","handleOnboardingComplete","onReturnToLogin","handleReturnToLogin","loading","_component_SimpleLoadingBanner","show","onLoadingComplete","currentStep","_component_OnboardingPopup","title","icon","onClick","showTermsOfService","returnToLogin","_component_TermsOfService","onTermsAccepted","onGoBack","goToPreviousStep","showIctPolicy","_component_IctPolicy","onPolicyAccepted","_component_DeclarationForm","onFormSubmitted","onDeclarationSubmitted","_component_SuccessPopup","$props","userRoleDisplay","onContinue","completeOnboarding","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","handleClick","buttonText","showReturnToLogin","required","Boolean","emits","$emit","viewBox","timerFinished","_hoisted_13","_hoisted_7","_hoisted_8","formatTime","timeRemaining","_hoisted_9","_hoisted_10","_hoisted_11","cx","cy","r","stroke","fill","progressPercentage","_hoisted_14","_createVNode","_component_TermsOfServiceMain","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","termsAccepted","$event","acceptTerms","goBack","components","TermsOfServiceMain","timer","mounted","startTimer","beforeUnmount","clearInterval","setInterval","seconds","minutes","floor","remainingSeconds","toString","padStart","showSuccessMessage","setTimeout","toast","document","createElement","className","innerHTML","backdrop","body","appendChild","contains","removeChild","_component_IctPolicyMain","policyAccepted","acceptPolicy","IctPolicyMain","isLoadingProfile","ref","backgroundDots","i","animationDelay","delay","floatingIcons","animationDuration","fontSize","iconClass","onSubmit","_withModifiers","submitDeclaration","novalidate","_component_OrbitingDots","autoPopulated","_hoisted_12","profileLoadError","placeholder","disabled","readonly","undefined","autocomplete","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","pattern","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","departments","dept","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","jobTitle","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","signDeclaration","isSigning","hasUserSigned","_hoisted_50","_hoisted_51","formattedSignedAt","_hoisted_52","signatureToken","_hoisted_53","signatureTokenPreview","_hoisted_54","_hoisted_55","date","maxFutureDate","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","agreement","for","_hoisted_61","_hoisted_62","isFormValid","isSubmitting","_hoisted_64","onKeydown","isVisible","isComplete","autoStart","watch","handler","newVal","startLoading","stopLoading","immediate","completeLoading","FORM_CONSTANTS","MAX_FILE_SIZE","ALLOWED_FILE_TYPES","MAX_RETRIES","RETRY_BASE_DELAY","MAX_RETRY_DELAY","NOTIFICATION_DURATION","SUCCESS_DELAY","MAX_FIELD_LENGTH","MAX_TEXT_LENGTH","DEPARTMENTS","Object","freeze","NOTIFICATION_COLORS","info","warning","FLOATING_ICON_CLASSES","SimpleLoadingBanner","OrbitingDots","signedAt","signaturePreview","signatureFileName","signature","backgroundDotsCache","floatingIconsCache","retryButton","retryClickHandler","retryTimeout","fileReaders","Set","formValidationState","Date","setMonth","getMonth","toISOString","split","hasName","hasPfNumber","hasDepartment","hasJobTitle","hasDate","hasAgreement","hasSignature","missingFields","filter","toLocaleString","e","slice","APP_CONFIG","DEBUG","completeLoadingBanner","$nextTick","loadingBanner","$refs","autoPopulateUserData","userProfileService","populationResult","processUserProfileData","populatedFields","showNotification","warn","signatureService","signed_at","signature_hash","validateAndSanitizeText","includes","sort","fieldName","cleaned","replace","test","validateFileSecurity","file","toUpperCase","dangerousPatterns","some","parts","validationResult","validateFormData","declarationData","signatureMethod","signatureHash","FormData","keys","forEach","append","authAPI","values","errorArray","resetForm","printForm","window","print","sanitizedMessage","colors","createOptimizedNotification","bgColor","container","getElementById","textContent","requestAnimationFrame","removeNotification","parentNode","removeTimeout","children","clearTimeout","nameValidation","pfValidation","deptValidation","jobValidation","selectedDate","checkAuthentication","handleAuthenticationFailure","removeItem","location","href","initializeFormWithRetry","attempt","resolve","handleInitializationFailure","showManualEntryOption","handleRetryClick","removeRetryButton","addEventListener","button","removeEventListener","loadAvailableDepartments","backendDepartments","map","allDepartments","initializeBackgroundDots","initializeFloatingIcons","icons","iconClasses","seedRandom","seed","x","sin","seed1","seed2","seed3","seed4","seed5","cleanupResources","reader","readyState","FileReader","LOADING","abort","clear","today","item","handleContinue","OnboardingPopup","TermsOfService","IctPolicy","DeclarationForm","SuccessPopup","backendStatus","initializeOnboardingState","_newStep","saveCurrentStep","getOnboardingStatus","user_info","role_display","progress","completed","determineCurrentStep","getInitialStepFromLocalStorage","terms_accepted","ict_policy_accepted","declaration_submitted","savedStep","completedUsers","JSON","parse","setItem","acceptIctPolicy","markOnboardingComplete","clearOnboardingStep","stringify","resetOnboardingState","updatedUsers","stepSequence","currentIndex","indexOf","OnboardingFlow","setup","userResult","getCurrentUser","store","commit","piniaAuthStore","piniaError","freshUser","dashboard","stack","fallbackError"],"ignoreList":[],"sourceRoot":""}